if (self.CavalryLogger) { CavalryLogger.start_js(["V4wZi"]); }

__d("EmojiStaticConfig",[],(function(a,b,c,d,e,f){e.exports={checksumBase:317426846,fileExt:".png",supportedSizes:{16:"DP16",18:"DP18",20:"DP20",24:"DP24",28:"DP28",30:"DP30",32:"DP32",56:"DP56",64:"DP64",72:"DP72",96:"DP96",112:"DP112",128:"DP128",256:"DP256"},types:{COMPOSITE:"c",EMOJI_3:"t",FBEMOJI:"f",FB_EMOJI_EXTENDED:"e",MESSENGER:"z",UNICODE:"u"},sizeMap:{dp16:16,dp18:18,dp20:20,dp24:24,dp28:28,dp30:30,dp32:32,dp36:36,dp56:56,dp64:64,dp72:72,dp96:96,dp112:112,dp128:128,dp256:256,xsmall:16,small:32,medium:64,large:128}}}),null);
__d("FBEmojiAliases",[],(function(a,b,c,d,e,f){e.exports={"1f471":"1f471_200d_2642_fe0f","1f471_1f3ff":"1f471_1f3ff_200d_2642_fe0f","1f471_1f3fb":"1f471_1f3fb_200d_2642_fe0f","1f471_1f3fd":"1f471_1f3fd_200d_2642_fe0f","1f471_1f3fe":"1f471_1f3fe_200d_2642_fe0f","1f471_1f3fc":"1f471_1f3fc_200d_2642_fe0f","1f6b4":"1f6b4_200d_2642_fe0f","1f6b4_1f3ff":"1f6b4_1f3ff_200d_2642_fe0f","1f6b4_1f3fb":"1f6b4_1f3fb_200d_2642_fe0f","1f6b4_1f3fd":"1f6b4_1f3fd_200d_2642_fe0f","1f6b4_1f3fe":"1f6b4_1f3fe_200d_2642_fe0f","1f6b4_1f3fc":"1f6b4_1f3fc_200d_2642_fe0f","26f9":"26f9_fe0f_200d_2642_fe0f","26f9_1f3ff":"26f9_1f3ff_200d_2642_fe0f","26f9_1f3fb":"26f9_1f3fb_200d_2642_fe0f","26f9_1f3fd":"26f9_1f3fd_200d_2642_fe0f","26f9_1f3fe":"26f9_1f3fe_200d_2642_fe0f","26f9_1f3fc":"26f9_1f3fc_200d_2642_fe0f","1f647":"1f647_200d_2642_fe0f","1f647_1f3ff":"1f647_1f3ff_200d_2642_fe0f","1f647_1f3fb":"1f647_1f3fb_200d_2642_fe0f","1f647_1f3fd":"1f647_1f3fd_200d_2642_fe0f","1f647_1f3fe":"1f647_1f3fe_200d_2642_fe0f","1f647_1f3fc":"1f647_1f3fc_200d_2642_fe0f","1f477":"1f477_200d_2642_fe0f","1f477_1f3ff":"1f477_1f3ff_200d_2642_fe0f","1f477_1f3fb":"1f477_1f3fb_200d_2642_fe0f","1f477_1f3fd":"1f477_1f3fd_200d_2642_fe0f","1f477_1f3fe":"1f477_1f3fe_200d_2642_fe0f","1f477_1f3fc":"1f477_1f3fc_200d_2642_fe0f","1f575":"1f575_fe0f_200d_2642_fe0f","1f575_1f3ff":"1f575_1f3ff_200d_2642_fe0f","1f575_1f3fb":"1f575_1f3fb_200d_2642_fe0f","1f575_1f3fd":"1f575_1f3fd_200d_2642_fe0f","1f575_1f3fe":"1f575_1f3fe_200d_2642_fe0f","1f575_1f3fc":"1f575_1f3fc_200d_2642_fe0f","1f3cc":"1f3cc_fe0f_200d_2642_fe0f","1f3cc_1f3ff":"1f3cc_1f3ff_200d_2642_fe0f","1f3cc_1f3fb":"1f3cc_1f3fb_200d_2642_fe0f","1f3cc_1f3fd":"1f3cc_1f3fd_200d_2642_fe0f","1f3cc_1f3fe":"1f3cc_1f3fe_200d_2642_fe0f","1f3cc_1f3fc":"1f3cc_1f3fc_200d_2642_fe0f","1f482":"1f482_200d_2642_fe0f","1f482_1f3ff":"1f482_1f3ff_200d_2642_fe0f","1f482_1f3fb":"1f482_1f3fb_200d_2642_fe0f","1f482_1f3fd":"1f482_1f3fd_200d_2642_fe0f","1f482_1f3fe":"1f482_1f3fe_200d_2642_fe0f","1f482_1f3fc":"1f482_1f3fc_200d_2642_fe0f","1f3cb":"1f3cb_fe0f_200d_2642_fe0f","1f3cb_1f3ff":"1f3cb_1f3ff_200d_2642_fe0f","1f3cb_1f3fb":"1f3cb_1f3fb_200d_2642_fe0f","1f3cb_1f3fd":"1f3cb_1f3fd_200d_2642_fe0f","1f3cb_1f3fe":"1f3cb_1f3fe_200d_2642_fe0f","1f3cb_1f3fc":"1f3cb_1f3fc_200d_2642_fe0f","1f6b5":"1f6b5_200d_2642_fe0f","1f6b5_1f3ff":"1f6b5_1f3ff_200d_2642_fe0f","1f6b5_1f3fb":"1f6b5_1f3fb_200d_2642_fe0f","1f6b5_1f3fd":"1f6b5_1f3fd_200d_2642_fe0f","1f6b5_1f3fe":"1f6b5_1f3fe_200d_2642_fe0f","1f6b5_1f3fc":"1f6b5_1f3fc_200d_2642_fe0f","1f93e":"1f93e_200d_2642_fe0f","1f93e_1f3ff":"1f93e_1f3ff_200d_2642_fe0f","1f93e_1f3fb":"1f93e_1f3fb_200d_2642_fe0f","1f93e_1f3fd":"1f93e_1f3fd_200d_2642_fe0f","1f93e_1f3fe":"1f93e_1f3fe_200d_2642_fe0f","1f93e_1f3fc":"1f93e_1f3fc_200d_2642_fe0f","1f93d":"1f93d_200d_2642_fe0f","1f93d_1f3ff":"1f93d_1f3ff_200d_2642_fe0f","1f93d_1f3fb":"1f93d_1f3fb_200d_2642_fe0f","1f93d_1f3fd":"1f93d_1f3fd_200d_2642_fe0f","1f93d_1f3fe":"1f93d_1f3fe_200d_2642_fe0f","1f93d_1f3fc":"1f93d_1f3fc_200d_2642_fe0f","1f46e":"1f46e_200d_2642_fe0f","1f46e_1f3ff":"1f46e_1f3ff_200d_2642_fe0f","1f46e_1f3fb":"1f46e_1f3fb_200d_2642_fe0f","1f46e_1f3fd":"1f46e_1f3fd_200d_2642_fe0f","1f46e_1f3fe":"1f46e_1f3fe_200d_2642_fe0f","1f46e_1f3fc":"1f46e_1f3fc_200d_2642_fe0f","1f6a3":"1f6a3_200d_2642_fe0f","1f6a3_1f3ff":"1f6a3_1f3ff_200d_2642_fe0f","1f6a3_1f3fb":"1f6a3_1f3fb_200d_2642_fe0f","1f6a3_1f3fd":"1f6a3_1f3fd_200d_2642_fe0f","1f6a3_1f3fe":"1f6a3_1f3fe_200d_2642_fe0f","1f6a3_1f3fc":"1f6a3_1f3fc_200d_2642_fe0f","1f3c3":"1f3c3_200d_2642_fe0f","1f3c3_1f3ff":"1f3c3_1f3ff_200d_2642_fe0f","1f3c3_1f3fb":"1f3c3_1f3fb_200d_2642_fe0f","1f3c3_1f3fd":"1f3c3_1f3fd_200d_2642_fe0f","1f3c3_1f3fe":"1f3c3_1f3fe_200d_2642_fe0f","1f3c3_1f3fc":"1f3c3_1f3fc_200d_2642_fe0f","1f3c4":"1f3c4_200d_2642_fe0f","1f3c4_1f3ff":"1f3c4_1f3ff_200d_2642_fe0f","1f3c4_1f3fb":"1f3c4_1f3fb_200d_2642_fe0f","1f3c4_1f3fd":"1f3c4_1f3fd_200d_2642_fe0f","1f3c4_1f3fe":"1f3c4_1f3fe_200d_2642_fe0f","1f3c4_1f3fc":"1f3c4_1f3fc_200d_2642_fe0f","1f3ca":"1f3ca_200d_2642_fe0f","1f3ca_1f3ff":"1f3ca_1f3ff_200d_2642_fe0f","1f3ca_1f3fb":"1f3ca_1f3fb_200d_2642_fe0f","1f3ca_1f3fd":"1f3ca_1f3fd_200d_2642_fe0f","1f3ca_1f3fe":"1f3ca_1f3fe_200d_2642_fe0f","1f3ca_1f3fc":"1f3ca_1f3fc_200d_2642_fe0f","1f6b6":"1f6b6_200d_2642_fe0f","1f6b6_1f3ff":"1f6b6_1f3ff_200d_2642_fe0f","1f6b6_1f3fb":"1f6b6_1f3fb_200d_2642_fe0f","1f6b6_1f3fd":"1f6b6_1f3fd_200d_2642_fe0f","1f6b6_1f3fe":"1f6b6_1f3fe_200d_2642_fe0f","1f6b6_1f3fc":"1f6b6_1f3fc_200d_2642_fe0f","1f473":"1f473_200d_2642_fe0f","1f473_1f3ff":"1f473_1f3ff_200d_2642_fe0f","1f473_1f3fb":"1f473_1f3fb_200d_2642_fe0f","1f473_1f3fd":"1f473_1f3fd_200d_2642_fe0f","1f473_1f3fe":"1f473_1f3fe_200d_2642_fe0f","1f473_1f3fc":"1f473_1f3fc_200d_2642_fe0f","1f93c":"1f93c_200d_2642_fe0f","1f938":"1f938_200d_2640_fe0f","1f938_1f3ff":"1f938_1f3ff_200d_2640_fe0f","1f938_1f3fb":"1f938_1f3fb_200d_2640_fe0f","1f938_1f3fd":"1f938_1f3fd_200d_2640_fe0f","1f938_1f3fe":"1f938_1f3fe_200d_2640_fe0f","1f938_1f3fc":"1f938_1f3fc_200d_2640_fe0f","1f926":"1f926_200d_2640_fe0f","1f926_1f3ff":"1f926_1f3ff_200d_2640_fe0f","1f926_1f3fb":"1f926_1f3fb_200d_2640_fe0f","1f926_1f3fd":"1f926_1f3fd_200d_2640_fe0f","1f926_1f3fe":"1f926_1f3fe_200d_2640_fe0f","1f926_1f3fc":"1f926_1f3fc_200d_2640_fe0f","1f64d":"1f64d_200d_2640_fe0f","1f64d_1f3ff":"1f64d_1f3ff_200d_2640_fe0f","1f64d_1f3fb":"1f64d_1f3fb_200d_2640_fe0f","1f64d_1f3fd":"1f64d_1f3fd_200d_2640_fe0f","1f64d_1f3fe":"1f64d_1f3fe_200d_2640_fe0f","1f64d_1f3fc":"1f64d_1f3fc_200d_2640_fe0f","1f645":"1f645_200d_2640_fe0f","1f645_1f3ff":"1f645_1f3ff_200d_2640_fe0f","1f645_1f3fb":"1f645_1f3fb_200d_2640_fe0f","1f645_1f3fd":"1f645_1f3fd_200d_2640_fe0f","1f645_1f3fe":"1f645_1f3fe_200d_2640_fe0f","1f645_1f3fc":"1f645_1f3fc_200d_2640_fe0f","1f646":"1f646_200d_2640_fe0f","1f646_1f3ff":"1f646_1f3ff_200d_2640_fe0f","1f646_1f3fb":"1f646_1f3fb_200d_2640_fe0f","1f646_1f3fd":"1f646_1f3fd_200d_2640_fe0f","1f646_1f3fe":"1f646_1f3fe_200d_2640_fe0f","1f646_1f3fc":"1f646_1f3fc_200d_2640_fe0f","1f487":"1f487_200d_2640_fe0f","1f487_1f3ff":"1f487_1f3ff_200d_2640_fe0f","1f487_1f3fb":"1f487_1f3fb_200d_2640_fe0f","1f487_1f3fd":"1f487_1f3fd_200d_2640_fe0f","1f487_1f3fe":"1f487_1f3fe_200d_2640_fe0f","1f487_1f3fc":"1f487_1f3fc_200d_2640_fe0f","1f486":"1f486_200d_2640_fe0f","1f486_1f3ff":"1f486_1f3ff_200d_2640_fe0f","1f486_1f3fb":"1f486_1f3fb_200d_2640_fe0f","1f486_1f3fd":"1f486_1f3fd_200d_2640_fe0f","1f486_1f3fe":"1f486_1f3fe_200d_2640_fe0f","1f486_1f3fc":"1f486_1f3fc_200d_2640_fe0f","1f64e":"1f64e_200d_2640_fe0f","1f64e_1f3ff":"1f64e_1f3ff_200d_2640_fe0f","1f64e_1f3fb":"1f64e_1f3fb_200d_2640_fe0f","1f64e_1f3fd":"1f64e_1f3fd_200d_2640_fe0f","1f64e_1f3fe":"1f64e_1f3fe_200d_2640_fe0f","1f64e_1f3fc":"1f64e_1f3fc_200d_2640_fe0f","1f64b":"1f64b_200d_2640_fe0f","1f64b_1f3ff":"1f64b_1f3ff_200d_2640_fe0f","1f64b_1f3fb":"1f64b_1f3fb_200d_2640_fe0f","1f64b_1f3fd":"1f64b_1f3fd_200d_2640_fe0f","1f64b_1f3fe":"1f64b_1f3fe_200d_2640_fe0f","1f64b_1f3fc":"1f64b_1f3fc_200d_2640_fe0f","1f937":"1f937_200d_2640_fe0f","1f937_1f3ff":"1f937_1f3ff_200d_2640_fe0f","1f937_1f3fb":"1f937_1f3fb_200d_2640_fe0f","1f937_1f3fd":"1f937_1f3fd_200d_2640_fe0f","1f937_1f3fe":"1f937_1f3fe_200d_2640_fe0f","1f937_1f3fc":"1f937_1f3fc_200d_2640_fe0f","1f481":"1f481_200d_2640_fe0f","1f481_1f3ff":"1f481_1f3ff_200d_2640_fe0f","1f481_1f3fb":"1f481_1f3fb_200d_2640_fe0f","1f481_1f3fd":"1f481_1f3fd_200d_2640_fe0f","1f481_1f3fe":"1f481_1f3fe_200d_2640_fe0f","1f481_1f3fc":"1f481_1f3fc_200d_2640_fe0f","1f46f":"1f46f_200d_2640_fe0f","1f9d9":"1f9d9_200d_2642_fe0f","1f9d9_1f3ff":"1f9d9_1f3ff_200d_2642_fe0f","1f9d9_1f3fb":"1f9d9_1f3fb_200d_2642_fe0f","1f9d9_1f3fd":"1f9d9_1f3fd_200d_2642_fe0f","1f9d9_1f3fe":"1f9d9_1f3fe_200d_2642_fe0f","1f9d9_1f3fc":"1f9d9_1f3fc_200d_2642_fe0f","1f9da":"1f9da_200d_2640_fe0f","1f9da_1f3fb":"1f9da_200d_2640_fe0f","1f9da_1f3fc":"1f9da_200d_2640_fe0f","1f9da_1f3fd":"1f9da_200d_2640_fe0f","1f9da_1f3fe":"1f9da_200d_2640_fe0f","1f9da_1f3ff":"1f9da_200d_2640_fe0f","1f9db":"1f9db_200d_2642_fe0f","1f9db_1f3fb":"1f9db_200d_2642_fe0f","1f9db_1f3fc":"1f9db_200d_2642_fe0f","1f9db_1f3fd":"1f9db_200d_2642_fe0f","1f9db_1f3fe":"1f9db_200d_2642_fe0f","1f9db_1f3ff":"1f9db_200d_2642_fe0f","1f9dc":"1f9dc_200d_2640_fe0f","1f9dc_1f3ff":"1f9dc_1f3ff_200d_2640_fe0f","1f9dc_1f3fb":"1f9dc_1f3fb_200d_2640_fe0f","1f9dc_1f3fd":"1f9dc_1f3fd_200d_2640_fe0f","1f9dc_1f3fe":"1f9dc_1f3fe_200d_2640_fe0f","1f9dc_1f3fc":"1f9dc_1f3fc_200d_2640_fe0f","1f9dd":"1f9dd_200d_2642_fe0f","1f9dd_1f3ff":"1f9dd_1f3ff_200d_2642_fe0f","1f9dd_1f3fb":"1f9dd_1f3fb_200d_2642_fe0f","1f9dd_1f3fd":"1f9dd_1f3fd_200d_2642_fe0f","1f9dd_1f3fe":"1f9dd_1f3fe_200d_2642_fe0f","1f9dd_1f3fc":"1f9dd_1f3fc_200d_2642_fe0f","1f9de":"1f9de_200d_2642_fe0f","1f9df":"1f9df_200d_2642_fe0f","1f9d6":"1f9d6_200d_2640_fe0f","1f9d6_1f3ff":"1f9d6_1f3ff_200d_2640_fe0f","1f9d6_1f3fb":"1f9d6_1f3fb_200d_2640_fe0f","1f9d6_1f3fd":"1f9d6_1f3fd_200d_2640_fe0f","1f9d6_1f3fe":"1f9d6_1f3fe_200d_2640_fe0f","1f9d6_1f3fc":"1f9d6_1f3fc_200d_2640_fe0f","1f9d7":"1f9d7_200d_2640_fe0f","1f9d7_1f3ff":"1f9d7_1f3ff_200d_2640_fe0f","1f9d7_1f3fb":"1f9d7_1f3fb_200d_2640_fe0f","1f9d7_1f3fd":"1f9d7_1f3fd_200d_2640_fe0f","1f9d7_1f3fe":"1f9d7_1f3fe_200d_2640_fe0f","1f9d7_1f3fc":"1f9d7_1f3fc_200d_2640_fe0f","1f9d8":"1f9d8_200d_2640_fe0f","1f9d8_1f3ff":"1f9d8_1f3ff_200d_2640_fe0f","1f9d8_1f3fb":"1f9d8_1f3fb_200d_2640_fe0f","1f9d8_1f3fd":"1f9d8_1f3fd_200d_2640_fe0f","1f9d8_1f3fe":"1f9d8_1f3fe_200d_2640_fe0f","1f9d8_1f3fc":"1f9d8_1f3fc_200d_2640_fe0f","1f939_200d_2640":"1f939","1f939_1f3ff_200d_2640":"1f939_1f3ff","1f939_1f3fb_200d_2640":"1f939_1f3fb","1f939_1f3fd_200d_2640":"1f939_1f3fd","1f939_1f3fe_200d_2640":"1f939_1f3fe","1f939_1f3fc_200d_2640":"1f939_1f3fc","1f939_200d_2642":"1f939","1f939_1f3ff_200d_2642":"1f939_1f3ff","1f939_1f3fb_200d_2642":"1f939_1f3fb","1f939_1f3fd_200d_2642":"1f939_1f3fd","1f939_1f3fe_200d_2642":"1f939_1f3fe","1f939_1f3fc_200d_2642":"1f939_1f3fc","1f48f":"1f469_200d_2764_fe0f_200d_1f48b_200d_1f468","1f491":"1f469_200d_2764_fe0f_200d_1f468","1f46a":"1f468_200d_1f469_200d_1f466","1f9da_1f3fb_200d_2640":"1f9da_200d_2640_fe0f","1f9da_1f3fc_200d_2640":"1f9da_200d_2640_fe0f","1f9da_1f3fd_200d_2640":"1f9da_200d_2640_fe0f","1f9da_1f3fe_200d_2640":"1f9da_200d_2640_fe0f","1f9da_1f3ff_200d_2640":"1f9da_200d_2640_fe0f","1f9da_1f3fb_200d_2642":"1f9da_200d_2642_fe0f","1f9da_1f3fc_200d_2642":"1f9da_200d_2642_fe0f","1f9da_1f3fd_200d_2642":"1f9da_200d_2642_fe0f","1f9da_1f3fe_200d_2642":"1f9da_200d_2642_fe0f","1f9da_1f3ff_200d_2642":"1f9da_200d_2642_fe0f","1f9db_1f3fb_200d_2640":"1f9db_200d_2640_fe0f","1f9db_1f3fc_200d_2640":"1f9db_200d_2640_fe0f","1f9db_1f3fd_200d_2640":"1f9db_200d_2640_fe0f","1f9db_1f3fe_200d_2640":"1f9db_200d_2640_fe0f","1f9db_1f3ff_200d_2640":"1f9db_200d_2640_fe0f","1f9db_1f3fb_200d_2642":"1f9db_200d_2642_fe0f","1f9db_1f3fc_200d_2642":"1f9db_200d_2642_fe0f","1f9db_1f3fd_200d_2642":"1f9db_200d_2642_fe0f","1f9db_1f3fe_200d_2642":"1f9db_200d_2642_fe0f","1f9db_1f3ff_200d_2642":"1f9db_200d_2642_fe0f"}}),null);
__d("FBRTCMessageType",[],(function(a,b,c,d,e,f){e.exports={JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,APPROVAL:17}}),null);
__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("FundsAvailability",[],(function(a,b,c,d,e,f){e.exports={NONE:0,FUNDS_AVAILABILITY_NA:65,FUNDS_AVAILABILITY_IMMEDIATE:73,FUNDS_AVAILABILITY_SAME_DAY:83,FUNDS_AVAILABILITY_NEXT_DAY:78,FUNDS_AVAILABILITY_FIVE_DAY:70,FUNDS_AVAILABILITY_UNKNOWN:85,FUNDS_AVAILABILITY_ONE_THREE_DAY:79,FUNDS_AVAILABILITY_CROSS_BORDER:66,FUNDS_AVAILABILITY_CROSS_BORDER_FAST_FUNDS:67,FUNDS_AVAILABILITY_DOMESTIC:68,FUNDS_AVAILABILITY_DOMESTIC_FAST_FUNDS:69}}),null);
__d("IrisProtocolMessageLifetime",[],(function(a,b,c,d,e,f){e.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:3e4,TTL_1MINUTE:6e4,TTL_3MINUTES:18e4,TTL_5MINUTES:3e5,TTL_10MINUTES:6e5,TTL_15MINUTES:9e5,TTL_30MINUTES:18e5,TTL_1HOUR:36e5,TTL_2HOURS:72e5,TTL_4HOURS:144e5,TTL_8HOURS:288e5,TTL_12HOURS:432e5,TTL_24HOURS:864e5}}),null);
__d("MercuryAPIArgsSource",[],(function(a,b,c,d,e,f){e.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"}}),null);
__d("MercuryAudioType",[],(function(a,b,c,d,e,f){e.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"}}),null);
__d("MessageLiveLocationClientSyncProtocolStopReason",[],(function(a,b,c,d,e,f){e.exports={EXPIRED:1,CANCELED:2,ARRIVED:3}}),null);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",PAGES:"pages",PAGE_BACKGROUND:"page_background",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",ONE_CLICK_MESSAGE:"page_one_click_message",MARKETPLACE:"marketplace",ROOM:"room",PAGE_FOLLOWUP:"page_followup",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked"}}}),null);
__d("MessengerView",[],(function(a,b,c,d,e,f){e.exports={DETAIL:{COMPOSE:"detail/compose",THREAD:"detail/thread",PAYTHREAD:"detail/paythread",PAYFRIENDPICKER:"detail/payfriendpicker"},MASTER:{PAYMENT:"master/payment",PEOPLE:"master/people",RECENT:"master/recent",SUPPORT:"master/support",SEARCH:"master/search"}}}),null);
__d("PageCommItemStatus",[],(function(a,b,c,d,e,f){e.exports={FOLLOW_UP:"FOLLOW_UP",DONE:"DONE",TODO:"TODO",SPAM:"SPAM",DELETED:"DELETED"}}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",OZ_PACK_ID:"1456625217993235",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}e.exports=a}),null);
__d("wrapNullableForReact",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a;else return void 0}e.exports=a}),null);
__d("CallbackManagerController",["ErrorUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=[],this.$2=[void 0],this.$3=a}a.prototype.executeOrEnqueue=function(a,b,c){"use strict";c=c||{};var d=this.$4(b,a,c);if(d)return 0;this.$2.push({fn:b,request:a,options:c});d=this.$2.length-1;this.$1.push(d);return d};a.prototype.unsubscribe=function(a){"use strict";delete this.$2[a]};a.prototype.reset=function(){"use strict";this.$2=[]};a.prototype.getRequest=function(a){"use strict";return this.$2[a]};a.prototype.runPossibleCallbacks=function(a){"use strict";__p&&__p();var b=this.$1;this.$1=[];var c=[];b.forEach(function(b){var d=this.$2[b];if(!d)return;d=this.$3(d.request,babelHelpers["extends"]({},d.options,a));d?c.push({args:d,id:b}):this.$1.push(b)}.bind(this));c.forEach(function(a){var b=a.args;a=a.id;var c=this.$2[a];if(!c)return;delete this.$2[a];this.$5(c.fn,b,c.request)}.bind(this))};a.prototype.$4=function(a,b,c){"use strict";c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};a.prototype.$5=function(a,c,d){"use strict";d={ids:d};b("ErrorUtils").applyWithGuard(a,d,c)};e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","ErrorUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1={},this.$2=new(b("CallbackManagerController"))(this.$3.bind(this))}a.prototype.executeOrEnqueue=function(a,c){"use strict";__p&&__p();if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("ErrorUtils").applyWithGuard(function(){throw new Error("KeyedCallbackManager.executeOrEnqueue: key "+JSON.stringify(a)+" is invalid")});return c});return this.$2.executeOrEnqueue(a,c)};a.prototype.unsubscribe=function(a){"use strict";this.$2.unsubscribe(a)};a.prototype.reset=function(){"use strict";this.$2.reset(),this.$1={}};a.prototype.getUnavailableResources=function(a){"use strict";a=this.$2.getRequest(a);var b=[];a&&(b=a.request.filter(function(a){return!this.$1[a]}.bind(this)));return b};a.prototype.getUnavailableResourcesFromRequest=function(a){"use strict";a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$1[a]},this)};a.prototype.addResourcesAndExecute=function(a){"use strict";Object.assign(this.$1,a),this.$2.runPossibleCallbacks()};a.prototype.setResource=function(a,b){"use strict";this.$1[a]=b,this.$2.runPossibleCallbacks()};a.prototype.getResource=function(a){"use strict";return this.$1[a]};a.prototype.getAllResources=function(){"use strict";return this.$1};a.prototype.dumpResources=function(){"use strict";var a={};for(var b in this.$1){var c=this.$1[b];typeof c==="object"&&(c=babelHelpers["extends"]({},c));a[b]=c}return a};a.prototype.$3=function(a){"use strict";var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$1[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};e.exports=a}),null);
__d("BaseAsyncLoader",["KeyedCallbackManager","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a,c,d){__p&&__p();var e=new(b("KeyedCallbackManager"))(),f=!1,g=[];function h(){if(!g.length||f)return;f=!0;b("setTimeoutAcrossTransitions")(j,0)}function i(a){f=!1,a.forEach(e.unsubscribe.bind(e)),h()}function j(){__p&&__p();var b={},c=[];g=g.filter(function(a){var d=e.getUnavailableResources(a);if(d.length){d.forEach(function(a){b[a]=!0});c.push(a);return!0}return!1});var h=Object.keys(b);h.length?d(a,h,c,k.bind(null,c),l.bind(null,c)):f=!1}function k(a,b){b=b.payload[c]||b.payload;e.addResourcesAndExecute(b);i(a)}function l(a){i(a)}return{get:function(a,b){a=e.executeOrEnqueue(a,b);b=e.getUnavailableResources(a);b.length&&(g.push(a),h())},getCachedKeys:function(){return Object.keys(e.getAllResources())},getNow:function(a){return e.getResource(a)||null},set:function(a){e.addResourcesAndExecute(a)}}}function a(a,b){throw new Error("BaseAsyncLoader can't be instantiated")}Object.assign(a.prototype,{_getLoader:function(){g[this._endpoint]||(g[this._endpoint]=h(this._endpoint,this._type,this.send));return g[this._endpoint]},get:function(a,b){return this._getLoader().get(a,b)},getCachedKeys:function(){return this._getLoader().getCachedKeys()},getNow:function(a){return this._getLoader().getNow(a)},reset:function(){g[this._endpoint]=null},set:function(a){this._getLoader().set(a)}});e.exports=a}),null);
__d("AjaxLoader",["AsyncRequest","BaseAsyncLoader","LogHistory"],(function(a,b,c,d,e,f){__p&&__p();var g=b("LogHistory").getInstance("ajax_loader");function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))().setURI(a).setData({ids:c}).setMethod("POST").setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(a){e(a)}).setTimeoutHandler(10*1e3,function(a){f(),g.error("fetch_timeout","{}")}).setErrorHandler(function(a){f(),g.error("fetch_error",JSON.stringify({error_type:a.errorSummary,error_text:a.errorDescription}))}).send()};e.exports=a}),null);
__d("BonfireFeatureGating",["gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={canReceiveBonfireRingInterop:function(){return b("gkx")("678201")},stillAroundEnabled:function(){return b("gkx")("678202")},showBulkUserOnboarding:function(){return b("gkx")("678204")},showDeleteAccountSetting:function(){return b("gkx")("678205")},showAudioSettings:function(){return b("gkx")("678206")},showLinkGeneration:function(){return b("gkx")("678207")},showNotifications:function(){return b("gkx")("726030")},logImmediately:function(){return b("gkx")("777163")},preferIGLoginOption:function(){return b("gkx")("785378")}};e.exports=a}),null);
__d("AjaxError",[],(function(a,b,c,d,e,f){a={ERROR:"ar:error",TIMEOUT:"ar:timeout",PROXY_ERROR:"ar:proxy error",TRANSPORT_ERROR:"ar:transport error",SERVER_ERROR:"ar:http error",PARSE_ERROR:"ar:parse error",SERVICE_UNAVAILABLE:"ar:noservice"};e.exports=a}),null);
__d("AjaxRequest",["AjaxError","ErrorUtils","Keys","PHPQuerySerializer","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest(),h=[];function a(){var a=h;h=[];a.forEach(function(a){return a.abort()})}function i(a){a.onJSON=a.onError=a.onSuccess=null,b("clearTimeout")(a._timer),a.xhr&&a.xhr.readyState<4&&(a.xhr.abort(),a.xhr=null),h=h.filter(function(b){return b&&b!=a&&b.xhr&&b.xhr.readyState<4})}function c(a,c,d){"use strict";this.timeout=6e4,this.streamMode=!0,this.prelude=/^for \(;;\);/,this.status=null,this.$1=-1,this.$2=null,this.$3=0,this.$4=null,this.json=null,this.errorType=null,this.errorText=null,this.onJSON=null,this.onSuccess=null,this.onError=null,c instanceof b("URI")||(c=new(b("URI"))(c)),this.xhr=b("ZeroRewrites").getTransportBuilderForURI(c)(),d&&a=="GET"&&c.setQueryData(d),this.method=a,this.uri=c,this.xhr.open(a,c)}c.supportsCORS=function(){"use strict";return g};c.prototype.send=function(a){"use strict";__p&&__p();var c=b("TimeSlice").getReusableContinuation("AjaxRequest xhr.onreadystatechange");this.xhr.onreadystatechange=function(){return this.$5(c)}.bind(this);var d=this.timeout;d&&(this.$2=b("setTimeoutAcrossTransitions")(function(){this.errorType=b("AjaxError").TIMEOUT,this.errorText="timeout",this.$4=Date.now()-this.$3,this.onError&&this.onError(this),i(this)}.bind(this),d));h.push(this);this.method=="POST"&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this.$3=Date.now();this.xhr.send(a?b("PHPQuerySerializer").serialize(a):"")};c.prototype.abort=function(){"use strict";i(this)};c.prototype.toString=function(){"use strict";var a="[AjaxRequest readyState="+this.xhr.readyState;this.errorType&&(a+=" errorType="+this.errorType,this.errorText&&(a+=" ("+this.errorText+")"));return a+"]"};c.prototype.toJSON=function(){"use strict";var a={};this.json&&(a.json=this.json);this.status&&(a.status=this.status);this.errorType&&(a.errorType=this.errorType,a.uri=this.uri);this.errorText&&(a.errorText=this.errorText);this.$4&&(a.time=this.$4);return a};c.prototype.onJSONSafe=function(){"use strict";this.onJSON&&this.onJSON(this)};c.prototype.onSuccessSafe=function(){"use strict";this.onSuccess&&this.onSuccess(this)};c.prototype.onErrorSafe=function(){"use strict";this.onError&&this.onError(this)};c.prototype.$6=function(){"use strict";__p&&__p();var a;try{this.status=this.xhr.status,a=this.xhr.statusText}catch(a){this.xhr.readyState>=4&&(this.errorType=b("AjaxError").TRANSPORT_ERROR,this.errorText=a.message);return}var c=this.status;if(c==null){this.errorType=b("AjaxError").ERROR;this.errorText="null status code";return}if(c===0&&!/^(file|ftp)/.test(this.uri.toString()))this.errorType=b("AjaxError").TRANSPORT_ERROR;else if(c>=100&&c<200)this.errorType=b("AjaxError").PROXY_ERROR;else if(c>=200&&c<300)return;else if(c>=300&&c<400)this.errorType=b("AjaxError").PROXY_ERROR;else if(c>=400&&c<500)this.errorType=b("AjaxError").SERVER_ERROR;else if(c===503)this.errorType=b("AjaxError").SERVICE_UNAVAILABLE;else if(c>500&&c<600)this.errorType=b("AjaxError").PROXY_ERROR;else if(c==1223)return;else c>=12001&&c<=12156?this.errorType=b("AjaxError").TRANSPORT_ERROR:(a="unrecognized status code: "+c,this.errorType=b("AjaxError").ERROR);this.errorText||(this.errorText=a)};c.prototype.$7=function(){"use strict";__p&&__p();var a,c=this.xhr.readyState;try{a=this.xhr.responseText||""}catch(a){c>=4&&(this.errorType=b("AjaxError").ERROR,this.errorText="responseText not available - "+a.message);return}while(this.xhr){var d=this.$1+1,e=this.streamMode?a.indexOf("\n",d):a.length;e<0&&c==4&&(e=a.length);if(e<=this.$1)break;var f=a;this.streamMode&&(f=a.substr(d,e-d).replace(/^\s*|\s*$/g,""));if(d===0&&this.prelude){var g=this.prelude;g.test(f)&&(f=f.replace(g,""))}this.$1=e;if(f){try{this.json=JSON.parse(f)}catch(c){g=a.match(/(<body[\S\s]+?<\/body>)/i);e=g!=null&&g.length>0?g[0]:null;g={message:c.message,"char":d,excerpt:(d===0&&e||f).substr(512)};this.errorType=b("AjaxError").PARSE_ERROR;this.errorText="parse error - "+JSON.stringify(g);return}b("ErrorUtils").applyWithGuard(this.onJSONSafe,this)}}};c.prototype.$5=function(a){"use strict";var b=this.xhr&&this.xhr.readyState||0;this.status==null&&b>=2&&this.$6();!this.errorType&&this.status!=null&&((b===3&&this.streamMode||b===4)&&a(function(){return this.$7()}.bind(this)));(this.errorType||b===4)&&(this.$4=Date.now()-this.$3,a.last(function(){this.errorType?this.onErrorSafe():this.onSuccessSafe(),i(this)}.bind(this)))};window.addEventListener&&b("UserAgent_DEPRECATED").firefox()&&window.addEventListener("keydown",function(a){a.keyCode===b("Keys").ESC&&a.prevent()},!1);window.attachEvent&&window.attachEvent("onunload",a);e.exports=c}),null);
__d("ChannelConnectionEvents",[],(function(a,b,c,d,e,f){e.exports={CONNECTED:"chat-connection/connected",RECONNECTING:"chat-connection/reconnecting",SHUTDOWN:"chat-connection/shutdown",MUTE_WARNING:"chat-connection/mute",UNMUTE_WARNING:"chat-connection/unmute"}}),null);
__d("ChannelSubdomain",["Event","JSLogger","Run","LogHistory","clearTimeout","setTimeoutAcrossTransitions","WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g=b("LogHistory").getInstance("channel"),h=b("JSLogger").create("channel"),i="channel_sub:",j=7,k=100*1e3,l=null,m=null;function n(){var a=b("WebStorage").getLocalStorage();m&&(b("clearTimeout")(m),m=null);a&&l!=null&&a.removeItem(i+l);l=null}function a(a,c,d){__p&&__p();d===void 0&&(d=!1);a=(a-1)*j;d&&(m&&b("clearTimeout")(m),l=m=null);c==null&&(c=Math.floor(Math.random()*a));if(l==null){var e=b("WebStorage").getLocalStorage();if(e){d=[];for(var f=0;f<e.length;f++){var o=e.key(f);if(o!=null&&o.indexOf(i)===0){var p=parseInt(o.substr(i.length),10);d[p]=parseInt(e.getItem(o),10)}}p=Date.now()-k;for(var o=0;o<a;o++){f=(o+c)%a;if(!d[f]||d[f]<p){l=f;break}}if(l!=null){f=function a(){if(l==null)return;try{e.setItem(i+l,Date.now().toString())}catch(a){g.warn("subdomain set failed",a.message)}m=b("setTimeoutAcrossTransitions")(a,k/2)};f()}else g.warn("no channel subdomain",d),h.error("subdomain_overflow");typeof window.onpageshow!=="undefined"?b("Event").listen(window,"pagehide",n):b("Run").onUnload(n)}else l=c}return l==null?null:l%j}e.exports={allocate:a,clear:n}}),null);
__d("ChatproxyClientErrorsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatproxyClientErrorsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppVersion=function(a){this.$1.app_version=a;return this};a.prototype.setBatchSize=function(a){this.$1.batch_size=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setErrorReason=function(a){this.$1.error_reason=a;return this};a.prototype.setErrorText=function(a){this.$1.error_text=a;return this};a.prototype.setJsEventTimeMs=function(a){this.$1.js_event_time_ms=a;return this};a.prototype.setMultiViewSubscription=function(a){this.$1.multi_view_subscription=a;return this};a.prototype.setRequestID=function(a){this.$1.request_id=a;return this};a.prototype.setResponseHeaders=function(a){this.$1.response_headers=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setSessionIDStr=function(a){this.$1.session_id_str=a;return this};a.prototype.setStatusCode=function(a){this.$1.status_code=a;return this};a.prototype.setSubscriberID=function(a){this.$1.subscriber_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTopicPrefixes=function(a){this.$1.topic_prefixes=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setURL=function(a){this.$1.url=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.setXhrReadyState=function(a){this.$1.xhr_ready_state=a;return this};a.prototype.setXhrStatus=function(a){this.$1.xhr_status=a;return this};c={app_version:!0,batch_size:!0,error_message:!0,error_reason:!0,error_text:!0,js_event_time_ms:!0,multi_view_subscription:!0,request_id:!0,response_headers:!0,session_id:!0,session_id_str:!0,status_code:!0,subscriber_id:!0,time:!0,topic_prefixes:!0,url:!0,weight:!0,xhr_ready_state:!0,xhr_status:!0};e.exports=a}),null);
__d("DocRPC",["ErrorUtils","FBLogger"],(function(a,b,c,d,e,f){__p&&__p();var g={_apis:{},_dispatch:function(a){__p&&__p();var c;try{a=JSON.parse(a)}catch(b){throw new Error('DocRPC unparsable dispatch: "'+a+'"')}if(Object.prototype.hasOwnProperty.call(g._apis,a.api)){var d=g._apis[a.api];d[a.method]&&(c=b("ErrorUtils").applyWithGuard(d[a.method],d,a.args))}c===void 0&&(c=null);return JSON.stringify(c)},publish:function(a,b){g._apis[b]=a},proxy:function(a,c,d){__p&&__p();var e={};d.forEach(function(d){__p&&__p();e[d]=function(){__p&&__p();var e={api:c,method:d,args:Array.prototype.slice.call(arguments)},f;try{if(a.closed)throw new Error("DocRPC window closed");f=a.DocRPC._dispatch(JSON.stringify(e))}catch(a){b("FBLogger")("doc_rpc").catching(a).warn("Encountered an error duing proxy call");return}if(typeof f==="string")try{f=JSON.parse(f)}catch(a){b("FBLogger")("doc_rpc").catching(a).mustfix("DocRPC %s.%s unparsable return: %s",c,d,f);throw new Error("DocRPC "+c+"."+d+' unparsable return: "'+f+'"')}return f}});return e}};e.exports=a.DocRPC=g}),null);
__d("ChannelTransport",["AjaxRequest","BanzaiODS","ChannelConstants","ChatproxyClientErrorsTypedLogger","DocRPC","LogHistory","MessengerMQTTGating","TimeSlice","URI","bind","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g="BROWSER_REFUSED_TO_GET_FAILURE_REASON_HEADER",h=b("LogHistory").getInstance("channel");function i(a){__p&&__p();var c=new(b("ChatproxyClientErrorsTypedLogger"))();c.setStatusCode(a.status);if(a.xhr!=null){var d;try{d=a.xhr.getResponseHeader("x-fb-chat-failure-reason")}catch(a){d=g}d&&c.setErrorReason(d)}c.setErrorMessage(a.errorType);a.uri!==void 0&&c.setURL(a.uri.getPath());c.log()}function j(){return(1048576*Math.random()|0).toString(36)}function k(a){return a!==null&&a!==void 0&&!isNaN(a)&&isFinite(a)&&0<=a&&a<=6}function l(a,c){var d="";k(a.subdomain)&&(d=a.subdomain+"-");var e=a.host;e=e===null||e===void 0?"edge-chat":a.host;c=new(b("URI"))(c).setDomain(d+e+"."+a.domain).setPort(a.port).setSecure(new(b("URI"))(window.location.href).isSecure());return c}function m(a){__p&&__p();var c={partition:a.partition,cb:j(),failure:a.pingFailuresOnSubdomain};a.sticky_token&&(c.sticky_token=a.sticky_token);a.sticky_pool&&(c.sticky_pool=a.sticky_pool);c=l(a,"/p").setQueryData(c);h.log("start_p",{uri:c.toString()});var d=new(b("AjaxRequest"))("GET",c);b("AjaxRequest").supportsCORS()&&(d.xhr.withCredentials=!0);var e=function(b){h.log("finish_p",{xhr:b.toJSON?b.toJSON():b,subdomain:a.subdomain,fullHost:a.fullHost})};d.onError=function(c){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendP.error");i(d);e(c);if(a.subdomain===null)return;k(a.subdomain)&&(a.pingFailuresOnSubdomain++,a.subdomain++,a.subdomain>6&&(a.subdomain=0))};d.timeout=a.P_TIMEOUT;d.onSuccess=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendP.success"),e(a)};d.send()}function n(a,c,d){__p&&__p();var e=new Image(),f=0,g=function(a){e.abort();return a?c():d()};e.onload=b("TimeSlice").guard(function(){h.log("ping_ok",{duration:Date.now()-f}),b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPing.success"),g(!0)},"ChannelTransport image.onload");e.onerror=b("TimeSlice").guard(function(){m(a),b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPing.error"),i(e),g(!1)},"ChannelTransport image.onerror");var k=b("setTimeoutAcrossTransitions")(e.onerror,1e4);e.abort=function(){k&&(b("clearTimeout")(k),k=null),e.onload=e.onerror=null};var n={partition:a.partition,cb:j()};a.sticky_token&&(n.sticky_token=a.sticky_token);a.sticky_pool&&(n.sticky_pool=a.sticky_pool);a.lastRequestErrorReason&&(n.reason=a.lastRequestErrorReason,a.lastRequestErrorReason=null);a.uid&&a.viewerUid&&(n.uid=a.uid,n.viewer_uid=a.viewerUid);f=Date.now();e.src=l(a,"/ajax/chatproxy-ping").setQueryData(n);return e}function a(a,c){__p&&__p();var d={channel:a.user_channel,partition:a.partition,clientid:a.sessionID,cb:j(),cap:0,uid:a.uid,viewer_uid:a.viewerUid};a.sticky_token&&(d.sticky_token=a.sticky_token);a.sticky_pool&&(d.sticky_pool=a.sticky_pool);a.profile&&(d.profile=a.profile);a.capabilities&&(d.cap=a.capabilities);d.id=c;c=l(a,"/add_bud").setQueryData(d);var e=new(b("AjaxRequest"))("GET",c);b("AjaxRequest").supportsCORS()&&(e.xhr.withCredentials=!0);e.onError=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendAdditionalBuddy.error"),h.warn("add_buddy_error"),i(e)};e.onSuccess=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendAdditionalBuddy.success"),h.log("add_buddy_ok")};e.timeout=a.P_TIMEOUT;e.send()}function c(a){__p&&__p();var c={channel:a.user_channel,partition:a.partition,clientid:a.sessionID,cb:j(),cap:0,uid:a.uid,viewer_uid:a.viewerUid};a.sticky_token&&(c.sticky_token=a.sticky_token);a.sticky_pool&&(c.sticky_pool=a.sticky_pool);a.is_offline||a.shouldSuppressPresence?c.state="offline":c.state="active";if(c.state===a.lastPresenceState)return;a.lastPresenceState=c.state;a.profile&&(c.profile=a.profile);a.capabilities&&(c.cap=a.capabilities);c=l(a,"/active_ping").setQueryData(c);var d=new(b("AjaxRequest"))("GET",c);b("AjaxRequest").supportsCORS()&&(d.xhr.withCredentials=!0);d.onError=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendActivePing.error"),h.warn("active_ping_error"),i(d)};d.onSuccess=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendActivePing.success"),h.log("active_ping_ok")};d.timeout=a.P_TIMEOUT;d.send()}function o(a,c,d,e){__p&&__p();var f=new Date(),g=-1;a.userActive>0&&(g=(f-a.userActive)/1e3|0,g<0&&h.warn("idle_regression",{idleTime:g,now:f.getTime(),userActive:a.userActive}));f={channel:a.user_channel,seq:a.seq,partition:a.partition,clientid:a.sessionID,cb:j(),idle:g,qp:"y",cap:0};a.state.aiq&&(f.aiq=a.state.aiq);b("gkx")("719214")&&(f.iris_enabled=!b("MessengerMQTTGating").isEnabled(),b("BanzaiODS").bumpEntityKey("ChannelTransport","iris_enabled."+(f.iris_enabled?"true":"false")));a.ready&&((a.seqTurSentAt==-1||a.seqTurSentAt==a.seq)&&(f.tur=a.timeUntilReady,f.qpmade=a.queueMade,a.seqTurSentAt=a.seq));f.pws=a.pws;a.sequenceId>0&&(f.isq=a.sequenceId);f.msgs_recv=a.estimatedReceived;a.uid&&a.viewerUid&&(f.uid=a.uid,f.viewer_uid=a.viewerUid);a.sticky_token?f.sticky_token=a.sticky_token:(f.request_batch=1,a.msgr_region&&(f.msgr_region=a.msgr_region));a.sticky_pool&&(f.sticky_pool=a.sticky_pool);"trace_id"in a&&(f.traceid=a.trace_id);a.is_offline||a.shouldSuppressPresence?f.state="offline":a.userActive>0&&g<60&&(f.state="active");a.lastPresenceState=f.state;a.streamingCapable&&(f.mode="stream",f.format="json");a.profile&&(f.profile=a.profile);a.capabilities&&(f.cap=a.capabilities);g=l(a,"/pull").setQueryData(f);f="GET";var k=new(b("AjaxRequest"))(f,g);b("AjaxRequest").supportsCORS()&&(k.xhr.withCredentials=!0);k.timeout=a.streamingCapable?a.STREAMING_TIMEOUT:a.LONGPOLL_TIMEOUT;k.onJSON=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPull.json"),c(a)};k.onSuccess=function(a){b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPull.success"),d(a)};k.onError=function(){var c=this.status==12002&&this._time>=a.MIN_12002_TIMEOUT||this.status==504&&this._time>=a.MIN_504_TIMEOUT,f=c?d:e;c?b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPull.success"):(b("BanzaiODS").bumpEntityKey("ChannelTransport","sendPull.error"),i(k));return f&&f.apply(this,arguments)};k.send();a.inStreaming=a.streamingCapable;return k}function p(a){this.manager=a,this.init&&this.init()}function d(a){p.apply(this,arguments)}Object.assign(d.prototype,{logName:"CORS",enterState:function(a,c){this._request&&(this._request.abort(),this._request=null);a=="init"&&b("setTimeoutAcrossTransitions")(b("bind")(this.manager,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),0);if(!/pull|ping/.test(a))return;var d=this.manager;a=="ping"?this._request=n(c,b("bind")(d,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(d,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})):a=="pull"&&(this._request=o(c,b("bind")(d,"_processTransportData",c.stateId),b("bind")(d,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(d,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})))}});function f(a){h.log("iframe_init_constructor"),p.apply(this,arguments),this._iframe=document.createElement("iframe"),this._iframe.style.display="none",document.body.appendChild(this._iframe),b("DocRPC").publish(this,"outerTransport")}Object.assign(f.prototype,{logName:"iframe",_initIframe:function(a){__p&&__p();h.log("iframe_init_start");window.onchanneliframeready=function(){h.log("iframe_resources");return a.resources};window.onchanneliframeloaded=function(){h.log("iframe_loaded")};if(a){this._iframeURI=l(a,a.path);if(a.resources){var c=this._iframeURI.getDomain();a.resources=a.resources.map(function(a){var d=new(b("URI"))(a);return d.getPath().startsWith("/intern/rsrc.php")&&d.getQueryData().origin!==void 0?d.addQueryData("origin",c).toString():a})}}else this._iframeURI="about:blank";this._iframeProxy=null;try{this._iframe.contentWindow.location.replace(this._iframeURI),h.log("iframe_uri_set")}catch(c){h.error("iframe_uri_set_error",c),this.exitState({status:b("ChannelConstants").ERROR,stateId:a.stateId},c+"")}},enterState:function(a,c){a=="init"?this._initIframe(c):/idle|ping|pull/.test(a)?this._iframeProxy?this._iframeProxy.enterState.apply(this._iframeProxy,arguments):a!="idle"&&this.exitState({status:b("ChannelConstants").ERROR,stateId:c.stateId},"iframe not yet loaded"):a=="shutdown"&&this._initIframe()},_processTransportData:function(){this.manager._processTransportData.apply(this.manager,arguments)},exitState:function(a){this.manager.state=="init"&&a.status==b("ChannelConstants").OK&&(this._iframeProxy=b("DocRPC").proxy(this._iframe.contentWindow,"innerTransport",["enterState"],(this._iframeURI+"").replace(/iframe.*/,"")));if(/ping|pull/.test(this.manager.state)&&!this._iframeProxy)return;this.manager.exitState.apply(this.manager,arguments)}});function q(){this.init=this.init.bind(this),p.apply(this,arguments)}Object.assign(q.prototype,{logName:"iframe(inner)",init:function(){b("DocRPC").publish(this,"innerTransport");try{var a=b("DocRPC").proxy(window.parent,"outerTransport",["_processTransportData","exitState"],top.DocRPC.origin);Object.assign(this,a);this.exitState({status:b("ChannelConstants").OK,stateId:1e6})}catch(a){h.error("iframe_inner_init_error",a)}},enterState:function(a,c){this._request&&(this._request.abort(),this._request=null),a=="ping"?this._request=n(c,b("bind")(this,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(this,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})):a=="pull"&&(this._request=o(c,b("bind")(this,"_processTransportData",c.stateId),b("bind")(this,"exitState",{status:b("ChannelConstants").OK,stateId:c.stateId}),b("bind")(this,"exitState",{status:b("ChannelConstants").ERROR,stateId:c.stateId})))}});e.exports={isSubdomain:k,getURI:l,Transport:p,CORSTransport:d,IframeTransport:f,IframeInnerTransport:q,sendActivePing:c,sendAdditionalBuddyRequest:a}}),null);
__d("ChatProxyConnectionState",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.auxiliaryIrisQueues={},this.aiq=null}a.prototype.subscribeIrisQueue=function(a,b){this.auxiliaryIrisQueues[a]=b,this.updateCaches()};a.prototype.unsubscribeIrisQueue=function(a){delete this.auxiliaryIrisQueues[a],this.updateCaches()};a.prototype.updateCaches=function(){var a=[];for(var b in this.auxiliaryIrisQueues)Object.prototype.hasOwnProperty.call(this.auxiliaryIrisQueues,b)&&(a.push(b),a.push(this.auxiliaryIrisQueues[b]));a.length===0?this.aiq=null:this.aiq=a.join(",")};e.exports=a}),null);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",PROCESS_DELTA:"process_delta",RTI_SESSION:"chatproxy_rti_session",ON_INVALID_HISTORY:"chatproxy_on_invalid_history",GET_DEBUG_PRESENCE:"chatproxy_get_debug_presence"})}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventData=function(a){this.$1.event_data=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={event:!0,event_data:!0,time:!0,weight:!0};e.exports=a}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c){if(!b("gkx")("678576"))return;new(b("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(c).log()};a={logERROR:function(a){g(b("ChatReliabilityEvents").ERROR,a)},logCHANNEL_DISCONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)},logCHANNEL_CONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_CONNECT,a)},logCHANNEL_HISTORY_INVALID:function(a){g(b("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)},logMESSAGE_RECEIVED:function(a){g(b("ChatReliabilityEvents").MESSAGE_RECEIVED,a)},logMESSAGE_SEND_START:function(a){g(b("ChatReliabilityEvents").MESSAGE_SEND_START,a)},logCHANNEL_STALLED:function(a){g(b("ChatReliabilityEvents").CHANNEL_STALLED,a)},logCHANNEL_INIT:function(a){g(b("ChatReliabilityEvents").CHANNEL_INIT,a)},logCHANNEL_NOCONFIG:function(a){g(b("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)},logDFF_DELTA_INIT:function(a){g(b("ChatReliabilityEvents").DFF_DELTA_INIT,a)},logDFF_HOLE_INIT:function(a){g(b("ChatReliabilityEvents").DFF_HOLE_INIT,a)},logFETCHING_MANY_MESSAGES:function(a){g(b("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)},logPROCESS_DELTA:function(a){g(b("ChatReliabilityEvents").PROCESS_DELTA,a)},logCHATPROXY_EVENT:function(a){g(a)}};e.exports=a}),null);
__d("FBAjaxRequest",["AjaxError","AjaxRequest","getAsyncParams"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AjaxRequest"));g=c&&c.prototype;function a(a,c,d){"use strict";d=babelHelpers["extends"]({},b("getAsyncParams")(a),d);g.constructor.call(this,a,c,d);this.$FBAjaxRequest1=d;this.streamMode=!1}a.prototype.onJSONSafe=function(){"use strict";this.json&&(this.json.error&&(this.errorType=b("AjaxError").SERVER_ERROR,this.errorText="AsyncResponse error: "+this.json.error),this.json=this.json.payload),g.onJSONSafe.call(this)};a.prototype.send=function(a){"use strict";g.send.call(this,babelHelpers["extends"]({},a,this.$FBAjaxRequest1))};e.exports=a}),null);
__d("MovingStat",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a>0?a:6e4,this.$2=0,this.$3=0,this.$5={t:new Date(),count:0,v:0},this.$4=this.$5}a.prototype.add=function(a){"use strict";__p&&__p();this.$2+=a;this.$3++;var b=new Date();if(b-this.$5.t<1e3){this.$5.v+=a;this.$5.count++;return}this.$5.next={t:b,v:a,count:1};this.$5=this.$5.next;this.$6()};a.prototype.tally=function(a){a===void 0&&(a=1e3);this.$6();return{sum:this.$2,count:this.$3,timeAverage:this.$2*a/this.$1}};a.prototype.$6=function(){"use strict";var a=new Date()-this.$1;while(this.$4&&this.$4.next&&this.$4.t<a)this.$2-=this.$4.v,this.$3-=this.$4.count,this.$4=this.$4.next};e.exports=a}),null);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=!1}a.prototype.addInstantGamePresence=function(){this.$1=!0};a.prototype.removeInstantGamePresence=function(){this.$1=!1};a.prototype.isActiveGamePresence=function(){return this.$1};b=new a();e.exports=b}),null);
__d("PresenceViewerCapabilities",["ArbiterMixin","Bootloader","CurrentUser","PresenceConfig","debounceAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=Object.assign({},b("ArbiterMixin")),i=b("debounceAcrossTransitions")(function(){return h.inform("viewerChange")},0);function j(a){try{a=JSON.parse(a.payload);a.capabilityBitMask!==g&&i();a.capabilityBitMask!=null&&(g=a.capabilityBitMask)}catch(a){}}Object.assign(h,{get:function(){if(g!=null)return g;b("Bootloader").loadModules(["SkywalkerManager"],function(a){return a.subscribe("presence/fb/"+b("CurrentUser").getID(),j)},"PresenceViewerCapabilities");g=b("PresenceConfig").get("viewer_presence_capabilities");return g}});e.exports=h}),null);
__d("WorkplaceChatHelper",["ChannelConstants","CurrentUser","PresenceViewerCapabilities"],(function(a,b,c,d,e,f){"use strict";a={isDesktopChatApp:function(){return window.workchat!==void 0},getAppID:function(){return window.workchat.appId},showWindow:function(){window.workchat.showWindow()},getScreenSharingSourceID:function(){return window.workchat.getScreenSharingSourceID()},stopScreenSharing:function(){return window.workchat.stopScreenSharing()},suppressChatIfActiveOnDesktop:function(){return b("CurrentUser").isWorkUser()&&(b("PresenceViewerCapabilities").get()&b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP}};e.exports=a}),null);
__d("PresenceProperties",["ChannelConstants","InstantGamesPresenceProperties","WorkplaceChatHelper"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=b("ChannelConstants").CAPABILITY_VOIP_INTEROP}a.prototype.getProperties=function(){"use strict";b("WorkplaceChatHelper").isDesktopChatApp()&&(this.$1|=b("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP);b("InstantGamesPresenceProperties").isActiveGamePresence()?this.$1|=b("ChannelConstants").CAPABILITY_PLAYING_INSTANT_GAME:this.$1&=~b("ChannelConstants").CAPABILITY_PLAYING_INSTANT_GAME;return this.$1};c=new a();e.exports=c}),null);
__d("RTISession",["invariant","AjaxRequest","BanzaiODS","ChatproxyClientErrorsTypedLogger","ErrorUtils","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,b,c,d,e,f,g,h,i,j){this.domain=a,this.topLevelDomain=b,this.port=c,this.edgePoolName=d,this.stickyToken=e,this.loggedInId=f,this.accountId=g,this.clientProfile=h!=null?h:"desktop",this.clientId=i,this.capabilities=j}a.prototype.issueRequest=function(a,c,d,e,f){__p&&__p();var h=this.domain+"."+this.topLevelDomain,i=(1048576*Math.random()|0).toString(36);i={cb:i,sticky_token:this.stickyToken,uid:this.loggedInId,viewer_uid:this.accountId,sticky_pool:this.edgePoolName,profile:this.clientProfile,clientid:this.clientId,cap:this.capabilities};for(var j in i)c[j]&&g(0,1632);Object.assign(i,c);c=new(b("URI"))(a).setDomain(h).setPort(this.port).setSecure(new(b("URI"))(window.location.href).isSecure()).setQueryData(i);a=d?"POST":"GET";var k=new(b("AjaxRequest"))(a,c);k.timeout=f!=null?f*1e3:3e4;k.streamMode=!1;k.xhr&&(k.xhr.withCredentials=!0);var l={};k.onSuccess=function(){b("BanzaiODS").bumpEntityKey("RTISession","request.success")};k.onJSON=function(){l.data=k.json,l.error=null,b("ErrorUtils").applyWithGuard(e,this,[l])}.bind(this);k.onError=function(){__p&&__p();var a=new Set(),c=null;if(d.subscriptions!=null&&Array.isArray(d.subscriptions)){c=d.subscriptions.length;for(var f=0;f<d.subscriptions.length;f++){var g=d.subscriptions[f].topic.split("/");g.pop();a.add(g.join("/"))}}l.data=null;l.error=k.errorType||"error";b("BanzaiODS").bumpEntityKey("RTISession","request.error");this.$1(k,a,c);b("ErrorUtils").applyWithGuard(e,this,[l])}.bind(this);k.send(JSON.stringify(d));b("BanzaiODS").bumpEntityKey("RTISession","request.attempt")};a.prototype.$1=function(a,c,d){__p&&__p();var e=new(b("ChatproxyClientErrorsTypedLogger"))();e.setStatusCode(a.status);if(a.xhr!=null){var f=a.xhr.getResponseHeader("x-fb-chat-failure-reason");f&&e.setErrorReason(f)}e.setSubscriberID(this.loggedInId);e.setSessionIDStr(this.clientId);e.setErrorMessage(a.errorType);e.setErrorText(a.errorText);e.setTopicPrefixes(c);e.setJsEventTimeMs(Math.floor(Date.now()/1e3));d!=null&&e.setBatchSize(d);a.uri&&e.setURL(a.uri.getPath());e.log()};e.exports=a}),null);
__d("ChannelManager",["errorCode","Promise","AjaxError","AjaxRequest","Arbiter","AsyncRequest","BanzaiODS","ChannelClientID","ChannelConstants","ChannelInitialData","ChannelSubdomain","ChannelTransport","ChatProxyConnectionState","ChatReliabilityInstrumentation","ChatVisibility","DTSG","Env","FantailLogger","FBAjaxRequest","ISB","JSLogger","LogHistory","MovingStat","PresenceCookieManager","PresenceProperties","PresenceState","PresenceUtil","Random","RTISession","SystemEvents","URI","UserActivity","clearTimeout","emptyFunction","requestAnimationFrameAcrossTransitions","setIntervalAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("JSLogger").create("channel"),i=b("LogHistory").getInstance("channel_manager"),j=null,k=b("emptyFunction"),l=new(b("Promise"))(function(a,b){k=a});function a(a){j=a}var m={idle:{ok:"init!"},init:{ok:"pull!",error:"reconnect",sys_online:"init",sys_timetravel:"init"},pull:{ok:"pull!",error:"ping",error_missing:"pull",error_msg_type:"pull",refresh_0:"reconnect",refresh_110:"reconnect",refresh_111:"reconnect",refresh_112:"pull",refresh_113:"pull",refresh_117:"reconnect"},ping:{ok:"pull!",error:"ping",error_stale:"reconnect!"},reconnect:{ok:"init!",error:"reconnect",sys_online:"reconnect",sys_timetravel:"reconnect"},shutdown:{},_all:{error_max:"shutdown!",error_shutdown:"shutdown!",sys_owner:"reconnect",sys_nonowner:"idle!",sys_online:"ping",sys_offline:"idle!",sys_timetravel:"ping"}},n={state:new(b("ChatProxyConnectionState"))(),userActive:Date.now(),created:Date.now(),ready:!1,seqTurSentAt:-1,queueMade:"",sequenceId:0,lastPresenceState:null,lastRequestErrorReason:null,seq:0,pingFailuresOnSubdomain:0,pws:"fresh",estimatedReceived:0,sessionID:b("ChannelClientID").getID(),capabilities:b("PresenceProperties").getProperties(),streamingCapable:!1,inStreaming:!1,shouldSuppressPresence:b("PresenceState").shouldSuppress(),LONGPOLL_TIMEOUT:6e4,STREAMING_TIMEOUT:6e4,P_TIMEOUT:3e4,IFRAME_LOAD_TIMEOUT:3e4,MIN_RETRY_INTERVAL:5e3,MAX_RETRY_INTERVAL:32e4,MIN_12002_TIMEOUT:9e3,MIN_504_TIMEOUT:2e4,STALL_THRESHOLD:18e4,JUMPSTART_THRESHOLD:9e4,MIN_INIT_PROBE_DELAY:3e3,INIT_PROBE_DELAY_RANDOMIZE_RANGE:12e3,CHANNEL_PROXY_REPORTING_MIN_INTERVAL:1e4,PROBE_DELAY:6e4,PROBE_HEARTBEATS_INTERVAL_LOW:1e3,PROBE_HEARTBEATS_INTERVAL_HIGH:5e3,STREAMING_EXIT_STATE_ON_CONTINUE:!1},o=1,p={},q=0;function r(){var a=b("AsyncRequest").lastSuccessTime;return a?Math.round((Date.now()-a)/1e3):-1}function s(a,b){return Object.prototype.hasOwnProperty.call(n,a)?n[a]:b}function t(){var a={};s("host")&&(a[s("user_channel")]=s("seq",0));return a}function u(a){a?(q=0,p={}):q++}c={state:"idle",nextState:null,proxyDown:!1,lastPullTime:Date.now(),lastReportOnMisguidedMsgTime:Date.now(),heartbeats:[],setTestCallback:a,backoff:!1,sessionRegistered:!1,_initTimer:null,_deferredTransition:null,_transportRate:null,_shutdownHint:null,init:function(a,c){__p&&__p();b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"initializing sessionid:%s at iris-seq:%s",n.sessionID,n.sequenceId);this.init=b("emptyFunction");b("Arbiter").subscribe(b("ChannelConstants").GET_RTI_SESSION_REQUEST,function(a,b){this.informCurrentSession()}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").CONSOLE_LOG,function(a,b){});b("requestAnimationFrameAcrossTransitions")(function(){b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"using session id: %s at seq: %s {%s} with sticky: %s/%s",n.sessionID,n.seq,n.sequenceId,n.sticky_token,n.sticky_pool),b("UserActivity").subscribe(function(){var a=b("ChannelTransport").getURI(n,"/U");b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"user activity sessionid: %s at seq: %s/{%s} with sticky: %s/%s state: %s uri: %s",n.sessionID,n.seq,n.sequenceId,n.sticky_token,n.sticky_pool,this.state,a);this.state=="pull"&&(n.userActive=Date.now(),b("ChannelTransport").sendActivePing(n))}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").ENTITY_PRESENCE_ACTIVE_PING,function(a){a=b("ChannelTransport").getURI(n,"/U");b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"entity presence activity sessionid: %s at seq: %s/{%s} with sticky: %s/%s state: %s uri: %s",n.sessionID,n.seq,n.sequenceId,n.sticky_token,n.sticky_pool,this.state,a);this.state=="pull"&&(n.userActive=Date.now())}.bind(this))}.bind(this));b("PresenceCookieManager").register("ch",t);var d=this.getConfig("max_conn",2);n.subdomain=b("ChannelSubdomain").allocate(d);b("ChannelTransport").isSubdomain(n.subdomain)||(b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"invalid subdomain from ChannelSubdomain: %s",n.subdomain),n.subdomain=null);this._transportRate=new(b("MovingStat"))(3e4);var e=b("AjaxRequest").supportsCORS()?"CORSTransport":"IframeTransport";b("BanzaiODS").bumpEntityKey("ChannelManager","transport_chosen."+e);this.transport=new(b("ChannelTransport")[e])(this);k(this.transport);a&&this.enterState(a,c);b("requestAnimationFrameAcrossTransitions")(function(){b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){this._transportRate&&(b.transportRate=this._transportRate.tally(),b.transportType=e,b.transportVersion=2)}.bind(this)),this._initMonitors()}.bind(this));if(this.getConfig("fullHost")&&b("AjaxRequest").supportsCORS()){if(this.getConfig("tryStreaming")){d=n.MIN_INIT_PROBE_DELAY+b("Random").random()*n.INIT_PROBE_DELAY_RANDOMIZE_RANGE;b("setTimeoutAcrossTransitions")(this._probeTest,d)}if(this.getConfig("trySSEStreaming")){a=n.MIN_INIT_PROBE_DELAY+b("Random").random()*n.INIT_PROBE_DELAY_RANDOMIZE_RANGE;b("setTimeoutAcrossTransitions")(this._sseProbeTest,a)}}},configure:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];i.log("configure",JSON.stringify(c));c.forEach(function(a){return Object.assign(n,a)});this._indicateLbInfoUpdated("reconnect",JSON.stringify(c));b("Arbiter").inform(b("ChannelConstants").ON_CONFIG,this)},getConfig:function(a,b){return s(a,b)},getCompleteConfig:function(){return n},subscribeIrisQueue:function(a,c){n.state.subscribeIrisQueue(a,c),this.exitState({status:b("ChannelConstants").OK,stateId:o})},unsubscribeIrisQueue:function(a){n.state.unsubscribeIrisQueue(a)},informCurrentSession:function(){var a=null;this.sessionRegistered&&n&&n.fullHost&&n.sticky_token&&n.uid&&(a=new(b("RTISession"))(n.fullHost,n.domain,n.port,n.sticky_pool,n.sticky_token,n.uid,n.viewerUid,n.profile,n.sessionID,n.capabilities));b("Arbiter").inform(b("ChannelConstants").RTI_SESSION,a)},isShutdown:function(){return this.state=="shutdown"},shouldIdle:function(){return!(b("SystemEvents").isPageOwner()&&b("SystemEvents").isOnline())},_sendIframeError:function(a){a=new(b("AsyncRequest"))().setURI("/ajax/presence/reconnect.php").setData({reason:a,fb_dtsg:b("DTSG").getToken()}).setOption("suppressErrorHandlerWarning",!0).setOption("retries",1).setMethod("GET").setReadOnly(!0).setAllowCrossPageTransition(!0);a.specifiesWriteRequiredParams()&&a.send()},_getDelay:function(){var a=Math.min(n.MIN_RETRY_INTERVAL*Math.pow(2,Math.max(0,q-1)),n.MAX_RETRY_INTERVAL);this.proxyDown&&"proxy_down_delay_millis"in n&&(a=n.proxy_down_delay_millis);this.proxyDown=!1;return Math.floor(a*(1+Math.random()*.5))},resetDelay:function(){u(!0)},enterState:function(a,c){this._inEnterState&&(i.warn("enterstate_recursion",JSON.stringify({state:this.state,args:arguments})),b("ChatReliabilityInstrumentation").logERROR("enterstate_recursion"));this._inEnterState=!0;try{this._enterState.apply(this,arguments),this._inEnterState=!1}catch(a){this._inEnterState=!1;throw a}},_enterState:function(a){__p&&__p();var c=this.backoff?this._getDelay():0;this.backoff=!1;if(this.isShutdown()){b("FantailLogger").warn(b("ChannelConstants").FANTAIL_SERVICE,"not executing state due to shutdown mode: %s",a);return}if(a!="idle!"&&this.shouldIdle()){b("FantailLogger").warn(b("ChannelConstants").FANTAIL_SERVICE,"forced idleness");return}o++;n.stateId=o;b("clearTimeout")(this._deferredTransition);this._deferredTransition=null;!this.transport?(l.then(function(a){return a.enterState("idle")}),b("ChatReliabilityInstrumentation").logERROR("called enterState "+a+" before transport init")):this.transport.enterState("idle");this.state="idle";this.nextState=null;if(/!$/.test(a)){if(this._transportRate){var d=this._transportRate.tally().timeAverage,e=this.getConfig("MAX_CHANNEL_STATES_PER_SEC",1);d>=e&&(this._throttled||(this._throttled=!0,i.warn("throttled","{}"),b("Arbiter").inform(b("ChannelConstants").THROTTLED,d)),h.bump("throttle"),c=1e3/e)}}else/#$/.test(a)||(c=this._getDelay());a=a.replace(/\W*$/,"");if(!m[a]){b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"invalid state: %s",a);throw new Error("invalid state:"+a)}var f=Array.from(arguments),g={};if(c<=0){g.state=a;this._transportRate&&this._transportRate.add(1);this.state=a;var j=this["_enter_"+this.state];j&&(f.shift(),j.apply(this,f));/init|idle|pull|ping/.test(this.state)&&(n.streamingCapable&&/pull/.test(this.state)&&(this.heartbeats=[]),n.is_offline=!b("ChatVisibility").isOnline(),n.capabilities=b("PresenceProperties").getProperties(),b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"entering transport state: %s",this.state),!this.transport?(l.then(function(a){return a.enterState(this.state,n)}.bind(this)),b("ChatReliabilityInstrumentation").logERROR("called enterState "+a+" before transport init")):this.transport.enterState(this.state,n),this.state=="ping"&&(g.url=b("ChannelTransport").getURI(n).toString(),g.port=n.port||"undefined"))}else this.state="idle",this.nextState=a,g.state=this.state,g.delay=c,g.nextState=a,f[0]=a+"#",this._deferredTransition=b("setTimeoutAcrossTransitions")(function(){this._deferredTransition=null,this.enterState.apply(this,f)}.bind(this),c);/pull/.test(a)&&(g.client_id=n.sessionID,g.streaming=n.inStreaming);b("Arbiter").inform(b("ChannelConstants").ON_ENTER_STATE,g)},exitState:function(a,c){__p&&__p();var d=a.stateId,e=a.status;if(this.isShutdown()||d<o)return;var f=this.state,g=Array.from(arguments);g[0]=a.status;var h={};h.state=f;h.status=e;/pull/.test(f)&&(h.client_id=n.sessionID,h.streaming=n.inStreaming);/ping/.test(f)&&e!=b("ChannelConstants").OK&&(h.url=b("ChannelTransport").getURI(n).toString());this.nextState&&(h.nextState=this.nextState);c&&c.errorType?(n.lastRequestErrorReason=c.errorType,h.xhr=c.toJSON?c.toJSON():c,c.errorType==b("AjaxError").SERVICE_UNAVAILABLE&&(b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"got 5xx http status code, setting long delay"),this.proxyDown=!0),delete h.xhr.json):e!=b("ChannelConstants").OK&&(n.lastRequestErrorReason=e);c&&c.json&&(c.json.t&&(h.t=c.json.t),c.json.reason&&(h.reason=c.json.reason),c.json.seq&&(h.seq=c.json.seq));b("Arbiter").inform(b("ChannelConstants").ON_EXIT_STATE,h);var j=this["_exit_"+f];j&&(e=j.apply(this,g)||e);e!=b("ChannelConstants").OK&&(u(),p[f]=(p[f]||0)+1);var k=m[this.nextState||f][e]||m._all[e],l=k&&k.replace(/!*$/,"");l||(i.error("terminal_transition",JSON.stringify(h)),this._shutdownHint=b("ChannelConstants").HINT_INVALID_STATE,k="shutdown!",b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"entering shutdown state"));this._lastState=f;this._lastStatus=e;this.enterState(k)},_processTransportData:function(a,b){this._processTransportData0(a,b,b.json)},_processTransportData0:function(a,c,d){__p&&__p();var e=d.t;"s"in d&&(d.seq=d.s,delete d.s);if(d.u&&n.user&&d.u!=n.user){i.warn("misguided_msg",JSON.stringify({user:n.user,target:d.u}));this._reportProxyMisguidedMsg(d.u,n.user);return}var f=n.seq;"seq"in d&&(n.seq=d.seq,b("PresenceState").doSync());switch(e){case"continue":n.inStreaming&&this.heartbeats.length<1&&(n.streamingCapable=!1,i.log("switch_to_longpoll","{}"),b("setTimeoutAcrossTransitions")(this._probeTest,n.PROBE_DELAY));u(!0);(!n.inStreaming||n.STREAMING_EXIT_STATE_ON_CONTINUE)&&this.exitState({status:b("ChannelConstants").OK,stateId:a});break;case"refresh":case"refreshDelay":b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"got refresh with reason: %s",d.reason);this.exitState({status:"refresh_"+(d.reason||0),stateId:a},c);break;case"backoff":b("FantailLogger").warn(b("ChannelConstants").FANTAIL_SERVICE,"server told client to back off");u();this.backoff=!0;break;case"lb":var g=d.lb_info;if(g){n.sticky_token=g.sticky;"pool"in g&&(n.sticky_pool=g.pool);if("sd"in g){var h=g.subdomain;b("ChannelTransport").isSubdomain(h)&&(n.subdomain=g.subdomain)}"vip"in g&&(n.host=g.vip);this._indicateLbInfoUpdated("chatproxy",JSON.stringify(d))}else i.error("missing_lb_info","{}");break;case"test_streaming":b("setTimeoutAcrossTransitions")(this._probeTest,500);break;case"fullReload":b("PresenceCookieManager").clear();i.log("full_reload","{}");this.sessionRegistered=!0;this.informCurrentSession();b("Arbiter").inform(b("ChannelConstants").ON_INVALID_HISTORY);u(!0);b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"full reload incurred");h=b("ChannelConstants").OK;this.exitState({status:h,stateId:a},c);"ms"in d&&this._processMessages(d,f);break;case"msg":u(!0);this._processMessages(d,f);break;case"heartbeat":if(n.inStreaming){g=Date.now();var j;this.heartbeats.length>0&&(j=g-this.heartbeats[this.heartbeats.length-1]);i.log("heartbeat_interval",JSON.stringify({client_id:n.sessionID,interval:j}));this.heartbeats.push(g)}break;case"batched":h=d.batches;for(var f=0;f<h.length;f++)this._processTransportData0(a,c,h[f]);break;default:b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"got an unknown protocol message: %s",e);i.error("unknown_msg_type",JSON.stringify({type:e}));break}},_processMessages:function(a,c){__p&&__p();"tr"in a&&(n.trace_id=a.tr);a=a.ms;var d=n.seq-a.length;for(var e=0;e<a.length;e++,d++){n.estimatedReceived++;if(d>=c){var f=a[e];if(f.type){var g=b("ChannelConstants").getArbiterType(f.type);if(f.type==="messaging"){var h={};h.type="messaging";h.event=f.event;f.message&&(h.inbox_unread=f.unread_counts&&f.unread_counts.inbox,h.tid=f.message.tid,h.mid=f.message.mid,b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"got message with id: %s",f.message.mid))}else f.type==="skywalker"?g=b("ChannelConstants").SKYWALKER:f.type==="qprimer"?(f.first=!n.ready,f.first&&(n.ready=!0,n.timeUntilReady=Date.now()-n.created,n.queueMade=f.made),g=b("ChannelConstants").CHANNEL_ESTABLISHED):f.type==="pws"?n.pws=f.pws:f.type==="delta"&&(n.sequenceId=f.iseq);try{f.type=="buddylist_overlay"&&f.buffered==1?(g=b("ChannelConstants").getArbiterType("buddylist_overlay_buffered"),b("Arbiter").inform(g,{obj:f},"persistent")):b("Arbiter").inform(g,{obj:f})}catch(a){b("BanzaiODS").bumpEntityKey("ChannelManager","processMessages.error."+f.type),b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"message threw exception: %s %s",a,f)}}}else i.warn("seq_regression",JSON.stringify({last_seq:c,messages:a.length,seq:d}))}},_enter_init:function(){if(p.init>=this.getConfig("MAX_INIT_FAILS",2))return b("setTimeoutAcrossTransitions")(function(){return this.exitState({status:b("ChannelConstants").ERROR_MAX,stateId:o})}.bind(this),0);this._initTimer=b("setTimeoutAcrossTransitions")(function(){return this.exitState({status:b("ChannelConstants").ERROR,stateId:o},"timeout")}.bind(this),n.IFRAME_LOAD_TIMEOUT)},_enter_reconnect:function(a){__p&&__p();i.warn("enter_reconnect",a);b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"entered reconnect with reason: %s",a);var c=o;if(!b("PresenceUtil").hasUserCookie()){b("FantailLogger").warn(b("ChannelConstants").FANTAIL_SERVICE,"user has no cookie???");i.warn("no_user_cookie","{}");b("setTimeoutAcrossTransitions")(function(){this._shutdownHint=b("ChannelConstants").HINT_AUTH,this.exitState({status:b("ChannelConstants").ERROR_SHUTDOWN,stateId:c})}.bind(this),0);return}var d={};d.reason=a;d.fb_dtsg=b("DTSG").getToken();b("ISB").token&&(d.fb_isb=b("ISB").token);j&&j(d);var e=new(b("FBAjaxRequest"))("GET","/ajax/presence/reconnect.php",d);e.onSuccess=function(){this.configure(e.json),b("PresenceCookieManager").store(),this.exitState({status:b("ChannelConstants").OK,stateId:c})}.bind(this);e.onError=function(){var a=e.json&&e.json.error;b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"reconnect error: %s",e.errorType);(e.errorType==b("AjaxError").TRANSPORT_ERROR||e.errorType==b("AjaxError").PROXY_ERROR||e.errorType==b("AjaxError").SERVICE_UNAVAILABLE)&&(this._shutdownHint=b("ChannelConstants").HINT_CONN);a&&a==1356007?this._shutdownHint=b("ChannelConstants").HINT_MAINT:a==1357001||a==1357004||a==1348009?this._shutdownHint=b("ChannelConstants").HINT_AUTH:this._shutdownHint=null;this.exitState({status:this._shutdownHint?b("ChannelConstants").ERROR_SHUTDOWN:b("ChannelConstants").ERROR,stateId:c},e)}.bind(this);e.send()},_enter_shutdown:function(){b("Arbiter").inform(b("ChannelConstants").ON_SHUTDOWN,{reason:this._shutdownHint});if("shutdown_recovery_interval_seconds"in n&&n.shutdown_recovery_interval_seconds>0){var a=n.shutdown_recovery_interval_seconds*1e3;b("setTimeoutAcrossTransitions")(function(){b("Arbiter").inform(b("ChannelConstants").ATTEMPT_RECONNECT),this._shutdownHint=null,this.state="reconnect!",this.enterState("reconnect!")}.bind(this),a)}},_exit_init:function(a){this._initTimer&&(this._initTimer=b("clearTimeout")(this._initTimer)),a==b("ChannelConstants").ERROR_MAX&&this._sendIframeError(b("ChannelConstants").reason_IFrameLoadGiveUp)},_exit_pull:function(a,c){if(a===b("ChannelConstants").OK){this.lastPullTime=Date.now();return}a="exit status: "+a;c&&c.errorType&&(a+=" ajax request error: "+c.errorType);b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"pull failed with status: %s",a)},_exit_ping:function(a){if(a!==b("ChannelConstants").OK){b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"ping failed with status: %s",a);return}a=Date.now()-(this.lastPullTime||b("Env").start);if(a>n.STALL_THRESHOLD){b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"didnt complete a successful pull for too long");return b("ChannelConstants").ERROR_STALE}},_reportProxyMisguidedMsg:function(a,c){__p&&__p();b("FantailLogger").error(b("ChannelConstants").FANTAIL_SERVICE,"misguided message to %s meant for %s",c,a);var d=Date.now();if(d-this.lastReportOnMisguidedMsgTime<=n.CHANNEL_PROXY_REPORTING_MIN_INTERVAL)return;this.lastReportOnMisguidedMsgTime=d;d={};d.received_uid=a;d.expected_uid=c;n.sticky_token&&(d.sticky_token=n.sticky_token);a=new(b("URI"))("/err_misguided_msg").setDomain(n.host+"."+n.domain).setPort(n.port).setSecure(new(b("URI"))(window.location.href).isSecure()).setQueryData(d);c=new(b("AjaxRequest"))("GET",a);b("AjaxRequest").supportsCORS()&&(c.xhr.withCredentials=!0);c.onSuccess=function(a){};c.onError=function(a){};c.onJSON=function(a){};c.send()},_initMonitors:function(){__p&&__p();var a=Date.now(),c=Date.now(),d={};d.total=0;var e="idle",f=!1;b("SystemEvents").subscribe([b("SystemEvents").USER,b("SystemEvents").ONLINE,b("SystemEvents").TIME_TRAVEL],function(a,d){__p&&__p();u(!0);c=null;this.lastPullTime=Date.now();var e;switch(a){case b("SystemEvents").USER:e=b("SystemEvents").isPageOwner()?b("ChannelConstants").SYS_OWNER:b("ChannelConstants").SYS_NONOWNER;break;case b("SystemEvents").ONLINE:e=d?b("ChannelConstants").SYS_ONLINE:b("ChannelConstants").SYS_OFFLINE;break;case b("SystemEvents").TIME_TRAVEL:if(n.skipTimeTravel)return;if(0<d){b("FantailLogger").warn(b("ChannelConstants").FANTAIL_SERVICE,"skipping time travel failure. %s",d);return}e=b("ChannelConstants").SYS_TIMETRAVEL;break}this.exitState({status:e,stateId:o})}.bind(this));var g=function(f,g){__p&&__p();var h=Date.now(),j=null;g?(a=h,j=g.nextState||g.state):j=e;b("SystemEvents").checkTimeTravel();if(c){g=Math.round((h-c)/1e3);g>0&&(d[e]=(d[e]||0)+g,d.total+=g)}e=j;c=h;f||(d.lastSuccessTime=r(),d.online=b("SystemEvents").isOnline(),i.log("rollup",JSON.stringify(d)))};b("Arbiter").subscribe(b("ChannelConstants").ON_ENTER_STATE,g);b("setIntervalAcrossTransitions")(g,6e4);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.channelRollup=d});g=function(){__p&&__p();if(this.isShutdown()||this.shouldIdle())return;b("SystemEvents").checkTimeTravel();var c=Date.now()-(this.lastPullTime||b("Env").start);if(!f&&c>n.STALL_THRESHOLD){var d=r();i.error("stall",JSON.stringify({lastSuccessTime:d,rollupState:e}));b("ChatReliabilityInstrumentation").logCHANNEL_STALLED(c.toString());f=!0}d=Date.now()-(a||0);this.state=="pull"&&d>n.JUMPSTART_THRESHOLD&&(a=null,i.warn("jumpstart",JSON.stringify({state:this.state,dormant:d})),b("Arbiter").inform(b("ChannelConstants").JUMPSTART,d),this.enterState("init"))}.bind(this);b("setIntervalAcrossTransitions")(g,5e3)},_indicateLbInfoUpdated:function(a,c){var d=!b("AjaxRequest").supportsCORS(),e=b("ChannelTransport").isSubdomain(n.subdomain);!e||d?n.fullHost=n.host:n.fullHost=n.subdomain+"-"+n.host;b("FantailLogger").info(b("ChannelConstants").FANTAIL_SERVICE,"received lb info: %s at seq: %s{%s} with ".concat("sticky: %s/%s, subdomain: %s, fullHost: %s, state: %s,").concat(" source: %s, args: %s"),n.sessionID,n.seq,n.sequenceId,n.sticky_token,n.sticky_pool,n.subdomain,n.fullHost,this.state,a,c)},_probeTest:function(){__p&&__p();n.streamingCapable=!1;var a=[],c={};c.mode="stream";c.format="json";n.sticky_token&&(c.sticky_token=n.sticky_token);c=new(b("URI"))("/probe").setDomain(n.fullHost+"."+n.domain).setPort(n.port).setSecure(new(b("URI"))(window.location.href).isSecure()).setQueryData(c);b("BanzaiODS").bumpEntityKey("ChannelManager","probe.attempt");c=new(b("AjaxRequest"))("GET",c);c.onJSON=function(c,d){if(c&&c.json&&c.json.t==="heartbeat"){a.push(Date.now());if(a.length>=2){d=a[1]-a[0];d>=n.PROBE_HEARTBEATS_INTERVAL_LOW&&d<=n.PROBE_HEARTBEATS_INTERVAL_HIGH?(n.streamingCapable=!0,b("BanzaiODS").bumpEntityKey("ChannelManager","probe.switch_to_streaming"),i.log("switch_to_streaming","{}")):b("BanzaiODS").bumpEntityKey("ChannelManager","probe.failure.delayed")}}};c.onSuccess=function(c){a.length!=2&&(n.streamingCapable=!1,b("BanzaiODS").bumpEntityKey("ChannelManager","probe.failure.data_loss"),i.error("probe_error",JSON.stringify({error:"beats.length = "+a.length}))),b("BanzaiODS").bumpEntityKey("ChannelManager","probe.success"),i.log("probe_success","{}")};c.onError=function(a){n.streamingCapable=!1,b("BanzaiODS").bumpEntityKey("ChannelManager","probe.failure.error"),i.error("probe_error",JSON.stringify(a))};c.send()},_sseProbeTest:function(){__p&&__p();if(!window.EventSource){b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.failure.no_event_source");i.log("sse_probe.failure.no_event_source","{}");return}var a=[],c={};c.mode="sse";c.format="json";n.sticky_token&&(c.sticky_token=n.sticky_token);c=new(b("URI"))("/sse_probe").setDomain(n.fullHost+"."+n.domain).setPort(n.port).setSecure(new(b("URI"))(window.location.href).isSecure()).setQueryData(c);b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.attempt");var d=new EventSource(c.toString()),e=b("setTimeoutAcrossTransitions")(function(){d.close(),b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.failure.timeout"),i.log("sse_probe.failure.timeout","{}")},n.PROBE_HEARTBEATS_INTERVAL_HIGH*6);d.addEventListener("heartbeat",function(c){a.push(Date.now());if(a.length>=2){c=a[1]-a[0];c>=n.PROBE_HEARTBEATS_INTERVAL_LOW&&c<=n.PROBE_HEARTBEATS_INTERVAL_HIGH?(b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.success"),i.log("sse_probe.success","{}")):(b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.failure.delayed"),i.log("sse_probe.failure.delayed","{}"));b("clearTimeout")(e);d.close()}});d.onerror=function(a){b("BanzaiODS").bumpEntityKey("ChannelManager","sse_probe.failure.error"),i.error("sse_probe.failure.error",JSON.stringify(a)),b("clearTimeout")(e),d.close()}},startChannelManagerForApp:function(a){this.startChannelManager!==b("emptyFunction")&&this.startChannelManager(),b("ChannelInitialData").channelConfig&&n&&(n.profile=a)},startChannelManager:function(){b("ChannelInitialData").channelConfig?(this.configure(b("ChannelInitialData").channelConfig),/shutdown/.test(b("ChannelInitialData").state)&&(this._shutdownHint=b("ChannelConstants")[b("ChannelInitialData").reason]),this.init(b("ChannelInitialData").state,b("ChannelInitialData").reason),b("ChatReliabilityInstrumentation").logCHANNEL_INIT(),this.startChannelManager=b("emptyFunction")):b("ChatReliabilityInstrumentation").logCHANNEL_NOCONFIG()}};e.exports=c}),null);
__d("ChannelConnection",["Arbiter","ArbiterMixin","ChannelConnectionEvents","ChannelConstants","ChannelManager","JSLogger","Run","SystemEvents","Visibility","clearTimeout","mixin","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("JSLogger").create("channel_connection"),i=null,j=null,k=null,l=null,m=0;b("ChannelManager").startChannelManager();c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.CONNECTED=b("ChannelConnectionEvents").CONNECTED,this.RECONNECTING=b("ChannelConnectionEvents").RECONNECTING,this.SHUTDOWN=b("ChannelConnectionEvents").SHUTDOWN,this.MUTE_WARNING="chat-connection/mute",this.UNMUTE_WARNING="chat-connection/unmute",this.unmuteWarning=p,c}a.prototype.disconnected=function(){"use strict";return l===n.SHUTDOWN||l===n.RECONNECTING&&!j&&m>1};a.prototype.isShutdown=function(){"use strict";return l===n.SHUTDOWN};a.prototype.reconnect=function(a){a===void 0&&(a=!1);if(b("ChannelManager").state==="ping"||b("ChannelManager").state==="pull"||b("ChannelManager").isShutdown())return;h.log("reconnect",{now:a});n.inform(n.RECONNECTING,0);a?(i!==null&&(b("clearTimeout")(i),i=null),b("ChannelManager").enterState("ping!")):i||(i=b("setTimeoutAcrossTransitions")(function(){b("ChannelManager").enterState("ping!"),i=null},b("ChannelConstants").CHANNEL_MANUAL_RECONNECT_DEFER_MSEC));b("ChannelManager").resetDelay()};a.prototype.mockAfterLoad=function(){"use strict";t(),u()};var n=new a();b("Run").onBeforeUnload(function(){});function o(){j&&(b("clearTimeout")(j),j=null)}function p(){o(),h.log("unmute_warning"),n.inform(n.UNMUTE_WARNING)}function q(a){o(),j=b("setTimeoutAcrossTransitions")(p,a),h.log("mute_warning",{time:a}),n.inform(n.MUTE_WARNING)}function r(){k&&(b("clearTimeout")(k),k=null)}function s(a,c){__p&&__p();r();if(a===b("ChannelConstants").ON_ENTER_STATE&&(c.nextState||c.state)==="pull"){if(l!==n.CONNECTED){h.log("connected");var d=!l;l=n.CONNECTED;m=0;n.inform(n.CONNECTED,{init:d})}}else a===b("ChannelConstants").ON_ENTER_STATE&&((c.nextState||c.state)==="ping"||!c.nextState&&c.state==="idle")?k=b("setTimeoutAcrossTransitions")(function(){var b=null;c.state==="idle"&&!c.nextState||(b=c.delay||0);h.log("reconnecting",{delay:b});n.disconnected()&&h.log("reconnecting_ui",{delay:b});l=n.RECONNECTING;c.state==="idle"&&m++;m>1?n.inform(n.RECONNECTING,b):!c.nextState&&c.state==="idle"&&s(a,c)},500):a===b("ChannelConstants").ON_SHUTDOWN&&(h.log("shutdown",{reason:c.reason}),l=n.SHUTDOWN,m=0,n.inform(n.SHUTDOWN,c.reason))}function t(){b("ChannelManager").isShutdown()?s(b("ChannelConstants").ON_SHUTDOWN,b("ChannelManager")._shutdownHint):s(b("ChannelConstants").ON_ENTER_STATE,{state:b("ChannelManager").state,nextState:b("ChannelManager").nextState,delay:0}),b("Visibility").addListener(b("Visibility").VISIBLE,n.reconnect)}b("Run").onAfterLoad(t);function u(){b("Arbiter").subscribe([b("ChannelConstants").ON_ENTER_STATE,b("ChannelConstants").ON_SHUTDOWN],s),b("Arbiter").subscribe(b("ChannelConstants").ATTEMPT_RECONNECT,function(){n.disconnected()&&n.reconnect()}),b("SystemEvents").subscribe(b("SystemEvents").TIME_TRAVEL,function(){n.reconnect(),q(b("ChannelConstants").MUTE_WARNING_TIME_MSEC)}),b("Run").onBeforeUnload(r,!1)}b("Run").onAfterLoad(u);b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){b.channel_connected=!n.disconnected()});e.exports=n}),3);
__d("MercuryIDs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"group":case"support":case"thread":case"root":case"pending":return!0;default:return!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){__p&&__p();if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("MercuryParticipantTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend",SERVICE:"service",GUEST:"guest",PARENT_APPROVED_USER:"parent_approved_user",MESSAGE:"message",ASSISTANT_TYPEAHEAD:"assistant_typeahead"})}),null);
__d("ChatOpenTab",["csx","Bootloader","ContextualThing","CurrentUser","Event","MercuryIDs","MercuryParticipantTypes","Parent","WorkGalahadSettings","WorkplaceChatHelper","gkx","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null;b("requireWeak")("FantaTabsReactApp",function(a){return h=a});b("requireWeak")("FantaTabsSlimApp",function(a){return h=a});function i(a,c,d,e){b("Event").listen(a,"click",function(f){(b("WorkGalahadSettings").isGalahadEnabled||l.canOpenTab()||b("CurrentUser").isWorkUser()&&b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()&&b("gkx")("678256"))&&(e(c,d),a.removeAttribute("ajaxify"),a.removeAttribute("rel"),f.preventDefault())})}function j(a,c,d,e){b("Event").listen(a,"click",function(a){l.canOpenTab()&&e(c,d)})}function k(a){a=b("ContextualThing").getContext(a);return a&&b("Parent").bySelector(a,"._3qw")!==null}var l={canOpenTab:function(){return h&&!h.isHidden()},listenOpenEmptyTabDEPRECATED:function(a,b){i(a,null,b,this._loadAndOpenEmptyFantaTab)},listenOpenThreadDEPRECATED:function(a,b,c){i(a,b,c,function(a,b){return this.loadAndOpenFantaTab(a,b,c)}.bind(this))},listenOpenUserTabDEPRECATED:function(a,c,d){k(a)||i(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenUserTabPersistentEventDEPRECATED:function(a,c,d){k(a)||j(a,c,d,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").USER,d)}.bind(this))},listenOpenPageTabDEPRECATED:function(a,c,d,e){k(a)||i(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},listenOpenPageTabPersistentEventDEPRECATED:function(a,c,d,e){k(a)||j(a,c,e,function(a){return this.loadAndOpenFantaTab(a,b("MercuryParticipantTypes").PAGE,e)}.bind(this))},loadAndOpenFantaTab:function(a,c,d){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions"],function(e,f){if(c===b("MercuryParticipantTypes").USER||c===b("MercuryParticipantTypes").PAGE){var g=b("MercuryIDs").getThreadIDFromUserID(a);f.openTab(g,[d]);e.logUserClickOpen(d,a)}else f.openTab(a,[d]),e.logClickOpen(d,a)},"ChatOpenTab")},_loadAndOpenEmptyFantaTab:function(){b("Bootloader").loadModules(["ChatOpenTabEventLogger","FantaTabActions","MessengerState.bs"],function(a,c,d){d=d.createNewLocalThreadGenerateID(b("CurrentUser").getID());c.openNewMessageTab(d,"jewel_new_message");a.logClickOpen("EmptyTab")},"ChatOpenTab")}};e.exports=l}),null);
__d("ChatSidebarPreloadStore",["InitialChatFriendsList"],(function(a,b,c,d,e,f){"use strict";a={onLoaded:function(a){a({buddies:b("InitialChatFriendsList").list,groups:b("InitialChatFriendsList").groups,shortProfiles:b("InitialChatFriendsList").shortProfiles,nearby:b("InitialChatFriendsList").nearby,adminedPages:b("InitialChatFriendsList").adminedPages,marketplaceThreads:b("InitialChatFriendsList").marketplaceThreads,pageListModule:b("InitialChatFriendsList").pageListModule,pymmList:b("InitialChatFriendsList").pymmList||{},profiles:[]})}};e.exports=a}),null);
__d("ChatProfileStore",["ChatSidebarPreloadStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};a={init:function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var b=a.profiles,c=a.nearby;return b.filter(function(a){return!c||c.indexOf(a.id)===-1}).forEach(function(a){var b=new Date();b=a.birthdate&&b.getDate()===a.birthdate.day&&b.getMonth()+1===a.birthdate.month;var c=a.profile_picture&&a.profile_picture.uri?a.profile_picture.uri:null;g[a.id]={id:a.id,is_birthday:b,thumbSrc:c,name:a.name,is_messenger_only:!!a.is_messenger_only}})})},get:function(a){return g[a]}};e.exports=a}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info_all/",{viewer:{type:"Int",required:!0}})}),null);
__d("ShortProfilesBootstrapper",["Promise","AsyncRequest","BanzaiODS","CurrentUser","JSLogger","XChatUserInfoAllAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=1e4,i=b("XChatUserInfoAllAsyncController").getURIBuilder().setInt("viewer",b("CurrentUser").getID()).getURI(),j=b("JSLogger").create("short_profiles");function a(a){this.$1=a,this.$2=new(b("Promise"))(function(a,b){this.$3=a,this.$4=b}.bind(this)),this.$5=!1,this.$6=null,this.$7=0,this.$8=0,this.$9=0,this.$10=!1,this.$11=!1}a.prototype.fetchAll=function(){__p&&__p();this.$12();if(this.$5||this.$6)return this.$2;if(this.$7>=g){this.$13();return this.$2}this.$7++;this.$14();this.$6=new(b("AsyncRequest"))(i).setHandler(function(a){this.$6=null,this.$5=!0,this.$15(),this.$1(a.payload),this.$3()}.bind(this)).setErrorHandler(function(){this.$6=null,this.$8++,this.$16()}.bind(this)).setTimeoutHandler(h,function(){this.$6=null,this.$9++,this.$17(),this.fetchAll()}.bind(this)).setAllowCrossPageTransition(!0);this.$6.send();return this.$2};a.prototype.isBootstrapped=function(){return this.$5};a.prototype.isBootstrapping=function(){return!!this.$6};a.prototype.getAttemptCount=function(){return this.$7};a.prototype.getErrorCount=function(){return this.$8};a.prototype.getTimeoutCount=function(){return this.$9};a.prototype.$12=function(){this.$10||(j.log("bootstrap_start"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.starts"),this.$10=!0)};a.prototype.$14=function(){j.log("bootstrap_attempt"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.attempts")};a.prototype.$15=function(){j.log("bootstrap_success"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.successes"),this.$7>1&&b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.successes_after_retries")};a.prototype.$16=function(){j.log("bootstrap_error"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.errors")};a.prototype.$17=function(){j.log("bootstrap_timeout"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.timeouts")};a.prototype.$13=function(){this.$11||(j.log("bootstrap_giveup"),b("BanzaiODS").bumpEntityKey("chat.web","typeahead.bootstrap.giveups"),this.$11=!0,this.$4())};e.exports=a}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("ShortProfiles",["AjaxLoader","Arbiter","CurrentUser","JSLogger","MercuryParticipantTypes","ShortProfilesBootstrapper","URI","XChatUserInfoAsyncController","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=new(b("AjaxLoader"))(b("XChatUserInfoAsyncController").getURIBuilder().getURI().toString(),"profiles"),i={get:function(a,b){this.getMulti([a],function(c){return b(c[a],a)})},getMulti:function(a,c){h.get(a,c||b("emptyFunction"))},getNow:function(a){return h.getNow(a)||null},getMultiNow:function(a){var b={};a.forEach(function(a){return b[a]=i.getNow(a)});return b},getCachedProfileIDs:function(){return h.getCachedKeys()},hasAll:function(){return!!g&&g.isBootstrapped()},fetchAll:function(){g||(g=new(b("ShortProfilesBootstrapper"))(function(a){h.set(a)}));return g.fetchAll()},set:function(a,b){var c={};c[a]=b;this.setMulti(c)},setMulti:function(a){__p&&__p();if(b("CurrentUser").isWorkUser()){var c={};Object.keys(a).forEach(function(d){var e=a[d];(e.type!==b("MercuryParticipantTypes").FB4C||!e.uri)&&(c[d]=e);var f=new(b("URI"))(e.uri).setDomain("").setProtocol("").toString();c[d]=babelHelpers["extends"]({},e,{uri:f})});a=c}h.set(a)}};b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,c){a=i.getCachedProfileIDs();var d=b("JSLogger").getEntries(function(a){return a.cat=="short_profiles"||a.cat=="chat_typeahead"});c.chat_typeahead={bootstrapped:g&&g.isBootstrapped(),bootstrapping:g&&g.isBootstrapping(),bootstrap_attempts:g&&g.getAttemptCount(),bootstrap_errors:g&&g.getErrorCount(),bootstrap_timeouts:g&&g.getTimeoutCount(),entries:a,entry_count:a.length,history:d}});e.exports=i}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g=/[ ]+/g,h=/[^ ]+/g,i=new RegExp("[^ "+l()+"]+|"+a(),"g"),j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function c(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(g," ")}function s(a,b){b===void 0&&(b=h);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function d(a,b){__p&&__p();b===void 0&&(b=h);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(c),u=d(function(a){return a},i);function f(a,c,d){__p&&__p();var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;c=g(c,a=="prefix");var h=a=="prefix"?b("nullthrows")(c.sortedTokens):c.tokens,i=g(d).tokens,j={},k=c.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:f.bind(null,"exact"),isQueryMatch:f.bind(null,"query"),isQueryMatchIncludingPunctuations:f.bind(null,"query_punc"),isAlignedMatch:f.bind(null,"aligned"),isPrefixMatch:f.bind(null,"prefix"),tokenize:s};e.exports=p}),null);
__d("ChatSortUsers",["ShortProfiles","TokenizeUtil"],(function(a,b,c,d,e,f){__p&&__p();var g={};function h(a){if(g[a])return g[a];var c=(b("ShortProfiles").getNow(a)||{}).name;return c?g[a]=b("TokenizeUtil").flatten(c):"~"}a={sortAlphabetical:function(a,b){a=h(a);b=h(b);return a!==b?a<b?-1:1:0}};e.exports=a}),null);
__d("ChatSidebarParticipantTooltipBuilder",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=10,i="\n";function a(a,b){var c=[],d=Math.min(h,a.length);a=a.slice(0,d);a.forEach(function(a){a=a.name;a&&c.push(a)});d<b&&c.push(g._("and {num} more...",[g._param("num",b-d)]));return c.join(i)}e.exports={buildParticipantsTooltip:a,MAX_NUM_PARTICIPANTS_TO_RENDER:h}}),null);
__d("isValidUniqueID",[],(function(a,b,c,d,e,f){function a(a){return a!==null&&a!==void 0&&a!==""&&(typeof a==="string"||typeof a==="number")}e.exports=a}),null);
__d("SearchableEntry",["invariant","FbtResultBase","HTML","isValidUniqueID"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){__p&&__p();if(!a)return"";else if(typeof a==="string")return a;else if(a instanceof b("FbtResultBase"))return a.toString();else if(typeof a==="object"){a=b("HTML").replaceJSONWrapper(a);if(b("HTML").isHTML(a)){a=a.getRootNode();return a.textContent||a.innerText||""}else return""}else return""}function a(a){"use strict";__p&&__p();this.valueOf=this.getUniqueID;b("isValidUniqueID")(a.uniqueID)||g(0,3851,a.uniqueID);this.$8=a.uniqueID+"";a.title instanceof b("FbtResultBase")&&(a.title=a.title.toString());a.title!=null&&typeof a.title==="string"||g(0,3852,a.title);this.$6=a.title;this.$3=a.order||0;this.$5=h(a.subtitle);this.$2=a.keywordString||"";this.$4=a.photo||"";this.$9=a.uri||"";this.$7=h(a.type);var c=a.auxiliaryData==null?{}:a.auxiliaryData;this.$1=c;this.$10=a.dataType||""}a.prototype.getUniqueID=function(){"use strict";return this.$8};a.prototype.getOrder=function(){"use strict";return this.$3};a.prototype.getTitle=function(){"use strict";return this.$6};a.prototype.getSubtitle=function(){"use strict";return this.$5};a.prototype.getKeywordString=function(){"use strict";return this.$2};a.prototype.getPhoto=function(){"use strict";return this.$4};a.prototype.getURI=function(){"use strict";return this.$9};a.prototype.getType=function(){"use strict";return this.$7};a.prototype.getAuxiliaryData=function(){"use strict";return this.$1};a.prototype.getDataType=function(){"use strict";return this.$10};a.prototype.toPlainObject=function(){"use strict";return{auxiliaryData:this.$1,keywordString:this.$2,order:this.$3,photo:this.$4,subtitle:this.$5,title:this.$6,type:this.$7,uniqueID:this.$8,uri:this.$9,dataType:this.$10}};e.exports=a}),null);
__d("OrderedFriendsList",["AvailableListConstants","ChatProfileStore","ChatSidebarParticipantTooltipBuilder","ChatSidebarPreloadStore","MercuryIDs","PresenceStatus","SearchableEntry","ShortProfiles","WorkModeConfig","createArrayFromMixed","isValidUniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h={},i=[],j={};function k(a){a=String(a);return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function l(a,c){a=b("createArrayFromMixed")(a);c(a.filter(function(a){a=b("ShortProfiles").getNow(a);return!a||o(a)||a.is_nonfriend_messenger_contact}))}function m(a){g=[];var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);b("PresenceStatus").get(d)==a&&(g[c]=d,h[d]=c++)})}function n(a){var c=0;a.forEach(function(a){var d=a.slice(0,-2);a=a.slice(-1);a==b("AvailableListConstants").ACTIVE&&(i[c]=d,j[d]=c++)})}function o(a){return a.type==="friend"||b("WorkModeConfig").is_work_user&&a.type==="fb4c"}var p={contains:function(a){return a in h},getList:function(a){if(g&&g.length){l(g,a);return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;m(b);l(g,a)})},getSearchableEntries:function(a,c,d){__p&&__p();p.getList(function(e){__p&&__p();b("ChatSidebarPreloadStore").onLoaded(function(f){var g=f.groups;b("ShortProfiles").getMulti(e.slice(0,a),function(a){var b=[];for(var e in a)b.push(p.normalizeProfileEntry(a[e],e));a=c?g.map(p.normalizeThreadEntry):[];d(b.concat(a).filter(function(a){return!!a}).sort(function(a,b){return a.getOrder()-b.getOrder()}))})})})},normalizeProfileEntry:function(a,c){var d=a.searchTokens||[],e=a.name,f=null;return new(b("SearchableEntry"))({uniqueID:a.id||c,keywordString:d.join(" "),order:p.getRank(a.id||c),photo:a.thumbSrc,title:e,subtitle:f,type:a.type,uri:a.uri,auxiliaryData:{isMessengerUser:a.is_messenger_user}})},normalizeThreadEntry:function(a,c){__p&&__p();var d=a.mercury_thread,e=a.participants_to_render.map(function(a){return babelHelpers["extends"]({},a,{id:k(a.id)})});d.participants=d.participants.map(k);var f=a.text,g=null;f||(f=d.name);var h=b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(e,d.participants.length-1),i=e.map(function(a){return a.name}).join(", ");!f?f=i:g=i;i=a.uid;return!f||!b("isValidUniqueID")(i)?null:new(b("SearchableEntry"))({uniqueID:i,order:c,photo:d.image_src,title:f,subtitle:g,type:"thread",auxiliaryData:{participantsToRender:e,tooltipContent:h,thread:d}})},getRank:function(a){return a in h?h[a]:g?g.length:0},getActiveList:function(a){if(i.length>0){a(i);return}p.getList(function(b){return a(b)})},getActiveRank:function(a){return a in j?j[a]:p.getRank(a)}};(function(){b("ChatSidebarPreloadStore").onLoaded(function(a){var c=a.buddies;a=a.shortProfiles;b("ShortProfiles").setMulti(a);n(c);m(c)}),b("ChatProfileStore").init()})();e.exports=p}),null);
__d("PresenceStatusActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({AVAILABILITY_CHANGED:null})}),null);
__d("Dispatcher_DEPRECATED",["invariant","FBLogger","monitorCodeUse"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="ID_";function a(){this.$1={},this.$2=!1,this.$3={},this.$4={},this.$5=1}a.prototype.register=function(a,b){b=this.__genID(b);this.$1[b]=a;return b};a.prototype.unregister=function(a){this.$1[a]||g(0,1331,a),delete this.$1[a]};a.prototype.waitFor=function(a){__p&&__p();this.$2||g(0,1332);for(var b=0;b<a.length;b++){var c=a[b];if(this.$4[c]){this.$3[c]||g(0,2380,c);continue}this.$1[c]||g(0,2381,c);this.$7(c)}};a.prototype.dispatch=function(a){j(this.$2,this.$6,a);this.$8(a);try{for(var b in this.$1){if(this.$4[b])continue;this.$7(b)}}finally{this.$9()}};a.prototype.isDispatching=function(){return this.$2};a.prototype.$7=function(a){this.$4[a]=!0,this.__invokeCallback(a,this.$1[a],this.$6),this.$3[a]=!0};a.prototype.__invokeCallback=function(a,b,c){b(c)};a.prototype.$8=function(a){for(var b in this.$1)this.$4[b]=!1,this.$3[b]=!1;this.$6=a;this.$2=!0};a.prototype.$9=function(){delete this.$6,this.$2=!1};a.prototype.__genID=function(a){var b=a?a+"_":h;a=a||b+this.$5++;while(this.$1[a])a=b+this.$5++;return a};function i(a){__p&&__p();var b="<unknown>";if(!a)return b;if(typeof a.type==="string")return a.type;if(typeof a.actionType==="string")return a.actionType;if(!a.action)return b;if(typeof a.action.type==="string")return a.action.type;return typeof a.action.actionType==="string"?a.action.actionType:b}function j(a,c,d){if(a){a=new Error("Cannot dispatch in the middle of a dispatch");b("FBLogger")("flux_dispatcher").catching(a).mustfix("Tried to dispatch action %s while already dispatching %s",i(d),i(c));throw a}}e.exports=a}),null);
__d("ExplicitRegistrationDispatcherUtils",["emptyFunction","gkx","monitorCodeUse","setImmediate"],(function(a,b,c,d,e,f){"use strict";a=!1;c=b("emptyFunction");e.exports={warn:c,inlineRequiresEnabled:a}}),null);
__d("ExplicitRegistrationDispatcher",["Dispatcher_DEPRECATED","ExplicitRegistrationDispatcherUtils","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("Dispatcher_DEPRECATED"));g=c&&c.prototype;function a(a){a=a.strict;g.constructor.call(this);this.$ExplicitRegistrationDispatcher2=a;this.$ExplicitRegistrationDispatcher1={}}a.prototype.explicitlyRegisterStore=function(a){a=a.getDispatchToken();this.$ExplicitRegistrationDispatcher1[a]=!0;return a};a.prototype.explicitlyRegisterStores=function(a){return a.map(function(a){return this.explicitlyRegisterStore(a)}.bind(this))};a.prototype.register=function(a,b){b=this.__genID(b);this.$ExplicitRegistrationDispatcher1[b]=!1;a=g.register.call(this,this.$ExplicitRegistrationDispatcher4.bind(this,b,a),b);return a};a.prototype.$ExplicitRegistrationDispatcher4=function(a,b,c){(this.$ExplicitRegistrationDispatcher1[a]||!this.$ExplicitRegistrationDispatcher2)&&this.__invokeCallback(a,b,c)};a.prototype.unregister=function(a){g.unregister.call(this,a),delete this.$ExplicitRegistrationDispatcher1[a]};a.prototype.__getMaps=function(){};e.exports=a}),null);
__d("ChatDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a({strict:!1})}),null);
__d("FluxStoreInstrumentation",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a={inject:function(a){h==null||g(0,2260),h=a},onEmitChange:function(a){return h?h.emitChange(a):null}};e.exports=a}),null);
__d("concatArrays",[],(function(a,b,c,d,e,f){function a(a){var b;return(b=[]).concat.apply(b,a)}e.exports=a}),null);
__d("distinctArray",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();if(a==null)return[];if(Array.isArray(a)){var b=a.length;if(b<=200){var c=[];for(var d=0;d<b;d++){var e=a[d];c.indexOf(e)===-1&&c.push(e)}return c}}return Array.from(new Set(a).values())}e.exports=a}),null);
__d("FluxStore",["invariant","EventEmitter","FluxStoreInstrumentation","concatArrays","distinctArray"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.__className=this.constructor.name,this.__moduleID=this.constructor.__moduleID,this.__changed=!1,this.__changeEvent="change",this.__dispatcher=a,this.__emitter=new(b("EventEmitter"))(),this.$3=!1,this.__registerDispatcherCallback(a)}a.prototype.__registerDispatcherCallback=function(a){this.$2=a.register(function(a){return this.__invokeOnDispatch(a)}.bind(this),this.__getIDForDispatcher(),this,this.__moduleID)};a.prototype.addListener=function(a){return this.__emitter.addListener(this.__changeEvent,a)};a.prototype.getActionTypes=function(){__p&&__p();if(!this.$1){var a=this.__getActionTypes();if(a!=null){var c=this.getDependencyStores();if(c.length>0){var d=!1;c=b("concatArrays")(c.map(function(a){a=a.getActionTypes();a==null&&(d=!0);return a}).filter(Boolean));d?a=null:a=b("distinctArray")(a.concat(c))}}this.$1=a}return this.$1};a.prototype.getDispatcher=function(){return this.__dispatcher};a.prototype.getDispatchToken=function(){return this.$2};a.prototype.getDependencyDispatchTokens=function(){this.$5||(this.$5=this.getDependencyStores().map(function(a){return a.getDispatchToken()}));return this.$5};a.prototype.getDependencyStores=function(){this.$4||(this.$4=b("distinctArray")(this.__getDependencyStores()));return this.$4};a.prototype.addStoreDependency=function(a){var b=this.__dispatcher.registerDependency;b&&b(this.getDispatchToken(),a.getDispatchToken())};a.prototype.hasChanged=function(){this.__dispatcher.isDispatching()||g(0,1147,this.__className);return this.__changed};a.prototype.__setAsUnchanged=function(){this.__changed=!1};a.prototype.__emitChange=function(){this.__dispatcher.isDispatching()||g(0,1148,this.__className);if(this.__changed)return;b("FluxStoreInstrumentation").onEmitChange(this.__moduleID||"unknown");this.__changed=!0};a.prototype.__invokeOnDispatch=function(a){this.__changed=!1,this.__onDispatch(a),this.__inform()};a.prototype.__inform=function(a){this.$3=this.__changed||this.$3;var b=this.__dispatcher.shouldAllowInforms==null||this.__dispatcher.shouldAllowInforms();b&&this.$3&&(this.$3=!1,this.__emitter.emit(a||this.__changeEvent))};a.prototype.__onDispatch=function(a){g(0,1149,this.__className)};a.prototype.__getActionTypes=function(){return null};a.prototype.__getDependencyStores=function(){return[]};a.prototype.__getIDForDispatcher=function(){return this.__className};a;e.exports=a}),null);
__d("PresenceStatusStore",["ChatDispatcher","FluxStore","PresenceStatus","PresenceStatusActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("ChatDispatcher"))}a.prototype.__onDispatch=function(a){a=a.type;switch(a){case b("PresenceStatusActionTypes").AVAILABILITY_CHANGED:this.__emitChange();break;default:break}};a.prototype.get=function(a){return b("PresenceStatus").get(a)};a.prototype.getIsPlaying=function(a){return b("PresenceStatus").isPlayingCanvasGameUser(a)};a.__moduleID=e.id;e.exports=new a()}),null);
__d("BlueCompatBroker",["URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Map(),i=!1,j=function(a){return new(b("URI"))(a).getRegisteredDomain()==="facebook.com"},k={dispatch:function(a){if(a.data!=null&&a.data.compatAction!=null&&typeof a.data.compatAction==="string"){var b=h.get(a.data.compatAction);b&&b(a)}},init:function(){__p&&__p();if(!i){var a=document.referrer.indexOf("/",8);a=document.referrer.substring(0,a);if(j(a)){var b=new MessageChannel();g=b.port1;g.onmessage=k.dispatch;window.parent.postMessage("CompatSetup",a+"/",[b.port2])}i=!0}},register:function(a,b){h.set(a,b)},sendMessage:function(a){g&&g.postMessage(babelHelpers["extends"]({},a))}};e.exports=k}),null);
__d("BlueCompatRouter",["BlueCompatBroker","Env","MessengerEnvironment","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={convertUri:function(a){if(a==null||a==="")return new(b("URI"))();a=new(b("URI"))(a);var c=a.getRegisteredDomain();if(a.getSubdomain()==="apps"&&c!=null&&c!==""){c=a.getDomain().replace(/apps/i,"www");return a.setDomain(c).setPath("/apps"+a.getPath())}else return a},go:function(a){if(b("Env").isCQuick&&!b("MessengerEnvironment").messengerui){b("BlueCompatBroker").init();a=g.convertUri(a);a=a.getQualifiedURI();b("BlueCompatBroker").sendMessage({compatAction:"route",uri:String(a)});return!0}return!1},startChat:function(a){if(b("Env").isCQuick){b("BlueCompatBroker").init();b("BlueCompatBroker").sendMessage({compatAction:"startchat",tabId:a});return!0}return!1}};e.exports=g}),null);
__d("NotificationBeeperConst",["keyMirror"],(function(a,b,c,d,e,f){a={IDLE_DELAY:1e4,ACTIVE_DELAY_LONG:4e3,FADE_OUT_LENGTH:1500,BeepStates:b("keyMirror")({PENDING:!0,RENDERED:!0,READY_TO_HIDE:!0,FADING_OUT:!0})};e.exports=a}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={search:function(a,b){__p&&__p();var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","joinClasses","loadImage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"Pixelz",propTypes:{width:a.number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){__p&&__p();a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){__p&&__p();var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return b("React").createElement("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:b("React").createElement("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle()},a)},getInsetBorder:function(){return!this.hasInsetBorder()?null:b("React").createElement("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var c=this.getInsetBorder();return b("React").createElement("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle()},a,c)},render:function(){var a=this.getSrcDimensions();return!a?b("React").createElement("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("UnicodeUtils",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=55296,i=56319,j=56320,k=57343,l=/[\uD800-\uDFFF]/;function m(a){return h<=a&&a<=k}function a(a,b){0<=b&&b<a.length||g(0,1346,b,a.length);if(b+1===a.length)return!1;var c=a.charCodeAt(b);a=a.charCodeAt(b+1);return h<=c&&c<=i&&j<=a&&a<=k}function n(a){return l.test(a)}function o(a,b){return 1+m(a.charCodeAt(b))}function b(a){if(!n(a))return a.length;var b=0;for(var c=0;c<a.length;c+=o(a,c))b++;return b}function p(a,b,c){__p&&__p();var d=b||0;c=c===void 0?Infinity:c||0;if(!n(a))return a.substr(d,c);var e=a.length;if(e<=0||d>e||c<=0)return"";var f=0;if(d>0){for(;d>0&&f<e;d--)f+=o(a,f);if(f>=e)return""}else if(b<0){for(f=e;d<0&&0<f;d++)f-=o(a,f-1);f<0&&(f=0)}b=e;if(c<e)for(b=f;c>0&&b<e;c--)b+=o(a,b);return a.substring(f,b)}function c(a,b,c){b=b||0;c=c===void 0?Infinity:c||0;b<0&&(b=0);c<0&&(c=0);var d=Math.abs(c-b);b=b<c?b:c;return p(a,b,d)}function d(a){var b=[];for(var c=0;c<a.length;c+=o(a,c))b.push(a.codePointAt(c));return b}f={getCodePoints:d,getUTF16Length:o,hasSurrogateUnit:n,isCodeUnitInSurrogateRange:m,isSurrogatePair:a,strlen:b,substring:c,substr:p};e.exports=f}),null);
__d("ReactFragment",["React","fbjs/lib/emptyFunction","fbjs/lib/invariant","fbjs/lib/warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103,h=".",i=":";c=!1;var j=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator"),k="@@iterator";function l(a){a=a&&(j&&a[j]||a[k]);if(typeof a==="function")return a}function m(a){var b=/[=:]/g,c={"=":"=0",":":"=2"};a=(""+a).replace(b,function(a){return c[a]});return"$"+a}function n(a,b){return a&&typeof a==="object"&&a.key!=null?m(a.key):b.toString(36)}function o(a,c,d,e){__p&&__p();var f=typeof a;(f==="undefined"||f==="boolean")&&(a=null);if(a===null||f==="string"||f==="number"||f==="object"&&a.$$typeof===g){d(e,a,c===""?h+n(a,0):c);return 1}var j,k,m=0;c=c===""?h:c+i;if(Array.isArray(a))for(var p=0;p<a.length;p++)j=a[p],k=c+n(j,p),m+=o(j,k,d,e);else{p=l(a);if(p){p=p.call(a);var q,r=0;while(!(q=p.next()).done)j=q.value,k=c+n(j,r++),m+=o(j,k,d,e)}else if(f==="object"){q="";k=""+a;b("fbjs/lib/invariant")(0,4786,k==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":k,q)}}return m}function p(a,b,c){return a==null?0:o(a,"",b,c)}var q=/\/+/g;function r(a){return(""+a).replace(q,"$&/")}function s(a,c){return b("React").cloneElement(a,{key:c},a.props!==void 0?a.props.children:void 0)}var t=10,u=v,v=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();b.call(c,a);return c}else return new b(a)};d=function(a,b){a=a;a.instancePool=[];a.getPooled=b||u;a.poolSize||(a.poolSize=t);a.release=w;return a};var w=function(a){var c=this;a instanceof c||b("fbjs/lib/invariant")(0,4787);a.destructor();c.instancePool.length<c.poolSize&&c.instancePool.push(a)};f=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();e.call(f,a,b,c,d);return f}else return new e(a,b,c,d)};function x(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}x.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0};d(x,f);function y(a,c,d){var e=a.result,f=a.keyPrefix,g=a.func,h=a.context;g=g.call(h,c,a.count++);Array.isArray(g)?z(g,e,d,b("fbjs/lib/emptyFunction").thatReturnsArgument):g!=null&&(b("React").isValidElement(g)&&(g=s(g,f+(g.key&&(!c||c.key!==g.key)?r(g.key)+"/":"")+d)),e.push(g))}function z(a,b,c,d,e){var f="";c!=null&&(f=r(c)+"/");c=x.getPooled(b,f,d,e);p(a,y,c);x.release(c)}c=/^\d+$/;d=!1;function a(a){__p&&__p();if(typeof a!=="object"||!a||Array.isArray(a)){b("fbjs/lib/warning")(!1,"ReactFragment.create only accepts a single object. Got: %s",a);return a}if(b("React").isValidElement(a)){b("fbjs/lib/warning")(!1,"ReactFragment.create does not accept a ReactElement without a wrapper object.");return a}a.nodeType!==1||b("fbjs/lib/invariant")(0,4788);var c=[];for(var d in a)z(a[d],c,d,b("fbjs/lib/emptyFunction").thatReturnsArgument);return c}f={create:a};e.exports=f}),null);
__d("BaseTextWithDecoration.react",["React","ReactFragment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a,b,c,d){var e=a[b];if(!e){d.push(c);return}e(c,function(a){d.push(a)},function(c){h(a,b+1,c,d)})}g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.decorators;a=a.text;var d=[],e={};h(c,0,a,d);d.forEach(function(a,b){e["i"+b]=a});return b("React").createElement("span",null,b("ReactFragment").create(e))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("EmojiImageURL",["invariant","EmojiConfig","EmojiStaticConfig"],(function(a,b,c,d,e,f,g){__p&&__p();function h(b,c){var d=a.unescape(encodeURIComponent(b));c=c;for(var e=0;e<d.length;e++)c=(c<<5)-c+b.charCodeAt(e),c&=4294967295;return(c&255).toString(16)}function i(a,c,d){c in b("EmojiStaticConfig").supportedSizes||g(0,772,c);c=b("EmojiConfig").pixelRatio+"/"+c+"/"+a+b("EmojiStaticConfig").fileExt;a=h(c,b("EmojiStaticConfig").checksumBase);return b("EmojiConfig").schemaAuth+"/"+d+a+"/"+c}e.exports={getMessengerURL:function(a,c){return i(a,c,b("EmojiStaticConfig").types.MESSENGER)},getEmoji3URL:function(a,c){c===void 0&&(c=16);return i(a,c,b("EmojiStaticConfig").types.EMOJI_3)},getFBEmojiURL:function(a,c){c===void 0&&(c=16);return i(a,c,b("EmojiStaticConfig").types.FBEMOJI)},getFBEmojiExtendedURL:function(a,c){c===void 0&&(c=16);return i(a,c,b("EmojiStaticConfig").types.FB_EMOJI_EXTENDED)},getCompositeURL:function(a,c){c===void 0&&(c=16);return i(a,c,b("EmojiStaticConfig").types.COMPOSITE)}}}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("EmojiRendererData",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.isEmoji=function(a){return a>983041||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8252||a===8265||a===8482||a===8505||a>=8596&&a<=8601||a>=8617&&a<=8618||a>=8986&&a<=8987||a===9e3||a===9167||a>=9193&&a<=9203||a>=9208&&a<=9210||a===9410||a>=9642&&a<=9643||a===9654||a===9664||a>=9723&&a<=9726||a>=9728&&a<=9732||a===9742||a===9745||a>=9748&&a<=9749||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9786||a===9792||a===9794||a>=9800&&a<=9811||a>=9823&&a<=9824||a===9827||a>=9829&&a<=9830||a===9832||a===9851||a>=9854&&a<=9855||a>=9874&&a<=9879||a===9881||a>=9883&&a<=9884||a>=9888&&a<=9889||a>=9898&&a<=9899||a>=9904&&a<=9905||a>=9917&&a<=9918||a>=9924&&a<=9925||a===9928||a>=9934&&a<=9935||a===9937||a>=9939&&a<=9940||a>=9961&&a<=9962||a>=9968&&a<=9973||a>=9975&&a<=9976||a===9978||a===9981||a===9986||a===9989||a>=9992&&a<=9993||a===9999||a===10002||a===10004||a===10006||a===10013||a===10017||a===10024||a>=10035&&a<=10036||a===10052||a===10055||a===10060||a===10062||a>=10067&&a<=10069||a===10071||a>=10083&&a<=10084||a>=10133&&a<=10135||a===10145||a===10160||a===10175||a>=10548&&a<=10549||a>=11013&&a<=11015||a>=11035&&a<=11036||a===11088||a===11093||a===12336||a===12349||a===12951||a===12953||a===126980||a===127183||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127374||a>=127377&&a<=127386||a>=127462&&a<=127487||a>=127489&&a<=127490||a===127514||a===127535||a>=127538&&a<=127546||a>=127568&&a<=127569||a>=127744&&a<=127777||a>=127780&&a<=127876||a>=127878&&a<=127891||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127937||a>=127941&&a<=127942||a>=127944&&a<=127945||a>=127949&&a<=127984||a>=127987&&a<=127989||a>=127991&&a<=127994||a>=128e3&&a<=128065||a>=128068&&a<=128069||a>=128081&&a<=128101||a>=128106&&a<=128109||a===128111||a>=128121&&a<=128123||a>=128125&&a<=128128||a===128132||a>=128136&&a<=128169||a>=128171&&a<=128253||a>=128255&&a<=128317||a>=128329&&a<=128334||a>=128336&&a<=128359||a>=128367&&a<=128368||a===128371||a>=128374&&a<=128377||a===128391||a>=128394&&a<=128397||a>=128420&&a<=128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a>=128506&&a<=128580||a>=128584&&a<=128586||a>=128640&&a<=128674||a>=128676&&a<=128691||a>=128695&&a<=128703||a>=128705&&a<=128709||a===128715||a>=128717&&a<=128722||a>=128736&&a<=128741||a===128745||a>=128747&&a<=128748||a===128752||a>=128755&&a<=128761||a>=129296&&a<=129303||a===129309||a>=129312&&a<=129317||a>=129319&&a<=129327||a===129338||a===129340||a>=129344&&a<=129349||a>=129351&&a<=129392||a>=129395&&a<=129398||a===129402||a>=129404&&a<=129442||a>=129456&&a<=129460||a===129463||a>=129472&&a<=129474||a===129488||a>=129502&&a<=129535||a===8205||a===8419||a>=917536&&a<=917631||a>=983040&&a<=983041};a.isEmojiModifier=function(a){return a>127999||a<127995?!1:a>=127995&&a<=127999};a.isEmojiModifierBase=function(a){return a>129501||a<9757?!1:a===9757||a===9977||a>=9994&&a<=9997||a===127877||a>=127938&&a<=127940||a===127943||a>=127946&&a<=127948||a>=128066&&a<=128067||a>=128070&&a<=128080||a>=128102&&a<=128105||a===128110||a>=128112&&a<=128120||a===128124||a>=128129&&a<=128131||a>=128133&&a<=128135||a===128170||a>=128372&&a<=128373||a===128378||a===128400||a>=128405&&a<=128406||a>=128581&&a<=128583||a>=128587&&a<=128591||a===128675||a>=128692&&a<=128694||a===128704||a===128716||a>=129304&&a<=129308||a>=129310&&a<=129311||a===129318||a>=129328&&a<=129337||a>=129341&&a<=129342||a>=129461&&a<=129462||a>=129464&&a<=129465||a>=129489&&a<=129501};a.isEmojiVariationSelector=function(a){return a===65039};a.isNonSpacingCombiningMark=function(a){return a>8419||a<8416?!1:a===8419||a===8416};a.isRegionalIndicator=function(a){return a>127487||a<127462?!1:a>=127462&&a<=127487};a.isTagSpec=function(a){return a>917630||a<917536?!1:a>=917536&&a<=917568||a>=917595&&a<=917630};a.isTagTerm=function(a){return a===917631};a.isText=function(a){return a>8419||a<35?!1:a===8419||a===35||a===42||a>=48&&a<=57};a.isTextVariationSelector=function(a){return a===65038};a.isDefaultTextPresentation=function(a){return a>917631||a<35?!1:a===35||a===42||a>=48&&a<=57||a===169||a===174||a===8252||a===8265||a===8482||a===8505||a>=8596&&a<=8597||a>=8617&&a<=8618||a===9e3||a===9167||a>=9197&&a<=9199||a>=9201&&a<=9202||a>=9208&&a<=9210||a===9410||a===9654||a===9664||a>=9730&&a<=9732||a===9745||a===9752||a===9760||a>=9762&&a<=9763||a===9766||a===9770||a>=9774&&a<=9775||a>=9784&&a<=9785||a===9792||a===9794||a===9823||a===9851||a===9854||a===9874||a>=9876&&a<=9879||a===9881||a>=9883&&a<=9884||a>=9904&&a<=9905||a===9928||a===9935||a===9937||a===9939||a===9961||a>=9968&&a<=9969||a===9972||a>=9975&&a<=9977||a===9997||a===9999||a===10002||a===10004||a===10013||a===10017||a===10052||a===10055||a===10083||a===12336||a>=127344&&a<=127345||a>=127358&&a<=127359||a===127777||a>=127780&&a<=127788||a===127798||a===127869||a>=127894&&a<=127895||a>=127897&&a<=127899||a>=127902&&a<=127903||a>=127947&&a<=127950||a>=127956&&a<=127967||a===127987||a===127989||a===127991||a===128063||a===128065||a===128253||a>=128329&&a<=128330||a>=128367&&a<=128368||a>=128371&&a<=128377||a===128391||a>=128394&&a<=128397||a===128400||a===128421||a===128424||a>=128433&&a<=128434||a===128444||a>=128450&&a<=128452||a>=128465&&a<=128467||a>=128476&&a<=128478||a===128481||a===128483||a===128488||a===128495||a===128499||a===128506||a===128715||a>=128717&&a<=128719||a>=128736&&a<=128741||a===128745||a===128752||a===128755||a===8205||a===8419||a>=917536&&a<=917631};a.isSymbol=function(a){return a>8482||a<169?!1:a===169||a===174||a===8482};a.isZWJ=function(a){return a===8205};function a(){}e.exports=a}),null);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=0,h=1,i=2,j=3,k=4,l=5,m=6,n=7,o=8,p=9,q=10,r=11;function s(a){__p&&__p();var c=a[0];if(c===void 0)return!1;var d=a.length,e=a[d-1];if(e){e=e.charCodeAt(0);if(b("EmojiRendererData").isTagSpec(e))return!1}c=c.charCodeAt(0);if(b("EmojiRendererData").isSymbol(c)&&d<2)return!1;if(b("EmojiRendererData").isText(c))if(d===1)return!1;else if(a.length==2)return b("EmojiRendererData").isNonSpacingCombiningMark(a[1].charCodeAt(0));else{e=1;b("EmojiRendererData").isEmojiVariationSelector(a[e].charCodeAt(0))&&e++;while(e<a.length){if(!b("EmojiRendererData").isNonSpacingCombiningMark(a[e].charCodeAt(0)))return!1;e++}return!0}return!0}var t={parse:function(a,c){__p&&__p();var d=null,e=[],f=o,t=0,u=a.length;while(t<u){var v=a.codePointAt(t),w=b("UnicodeUtils").getUTF16Length(a,t),x=a.substr(t,w);switch(f){case p:b("EmojiRendererData").isRegionalIndicator(v)?f=j:f=o;break;case k:if(b("EmojiRendererData").isEmojiModifier(v)){f=l;break}case g:b("EmojiRendererData").isZWJ(v)?f=n:b("EmojiRendererData").isEmojiVariationSelector(v)?f=i:b("EmojiRendererData").isTextVariationSelector(v)?f=r:b("EmojiRendererData").isNonSpacingCombiningMark(v)?f=h:b("EmojiRendererData").isTagSpec(v)?f=m:f=o;break;case h:case i:if(b("EmojiRendererData").isNonSpacingCombiningMark(v))break;case j:case l:b("EmojiRendererData").isZWJ(v)?f=n:b("EmojiRendererData").isTagSpec(v)?f=m:f=o;break;case m:b("EmojiRendererData").isTagSpec(v)||b("EmojiRendererData").isTagTerm(v)?f=m:f=o;break;case n:b("EmojiRendererData").isRegionalIndicator(v)?f=p:b("EmojiRendererData").isEmojiModifierBase(v)?f=k:b("EmojiRendererData").isEmoji(v)?f=g:f=o;break;case q:b("EmojiRendererData").isNonSpacingCombiningMark(v)?f=h:b("EmojiRendererData").isEmojiVariationSelector(v)?f=i:f=o;break;default:f=o;break}if(f===o){b("EmojiRendererData").isRegionalIndicator(v)?f=p:b("EmojiRendererData").isEmojiModifierBase(v)?f=k:b("EmojiRendererData").isText(v)?f=q:b("EmojiRendererData").isEmoji(v)&&(f=g);if(f!==o){d!==null&&s(d.emoji)&&e.push(d);if(c!==null&&c===e.length){d=null;break}d={emoji:[x],length:w,offset:t}}}else d!==null&&(d.emoji.push(x),d.length+=w);t+=w}d!==null&&s(d.emoji)&&e.push(d);return e},render:function(a,b,c){__p&&__p();c=t.parse(a);var d=[],e=0;c.forEach(function(c){var f=c.offset;f>e&&d.push(a.substr(e,f-e));var g=b(c.emoji);g!=null&&d.push(g);e=f+c.length});d.push(a.substr(e,a.length-e));return d},containsEmoji:function(a){return t.parse(a,1).length===1},countEmoji:function(a){return t.parse(a).length}};e.exports=t}),null);
__d("FBEmojiStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EMOJI_3:"EMOJI_3",FB_EMOJI:"FB_EMOJI"})}),null);
__d("SupportedCommonEmoji",[],(function(a,b,c,d,e,f){a={"1f004":1,"1f0cf":1,"1f170":1,"1f171":1,"1f17e":1,"1f17f":1,"1f18e":1,"1f191":1,"1f192":1,"1f193":1,"1f194":1,"1f195":1,"1f196":1,"1f197":1,"1f198":1,"1f199":1,"1f19a":1,"1f1e6":1,"1f1e6_1f1e8":1,"1f1e6_1f1e9":1,"1f1e6_1f1ea":1,"1f1e6_1f1eb":1,"1f1e6_1f1ec":1,"1f1e6_1f1ee":1,"1f1e6_1f1f1":1,"1f1e6_1f1f2":1,"1f1e6_1f1f4":1,"1f1e6_1f1f6":1,"1f1e6_1f1f7":1,"1f1e6_1f1f8":1,"1f1e6_1f1f9":1,"1f1e6_1f1fa":1,"1f1e6_1f1fc":1,"1f1e6_1f1fd":1,"1f1e6_1f1ff":1,"1f1e7":1,"1f1e7_1f1e6":1,"1f1e7_1f1e7":1,"1f1e7_1f1e9":1,"1f1e7_1f1ea":1,"1f1e7_1f1eb":1,"1f1e7_1f1ec":1,"1f1e7_1f1ed":1,"1f1e7_1f1ee":1,"1f1e7_1f1ef":1,"1f1e7_1f1f1":1,"1f1e7_1f1f2":1,"1f1e7_1f1f3":1,"1f1e7_1f1f4":1,"1f1e7_1f1f6":1,"1f1e7_1f1f7":1,"1f1e7_1f1f8":1,"1f1e7_1f1f9":1,"1f1e7_1f1fb":1,"1f1e7_1f1fc":1,"1f1e7_1f1fe":1,"1f1e7_1f1ff":1,"1f1e8":1,"1f1e8_1f1e6":1,"1f1e8_1f1e8":1,"1f1e8_1f1e9":1,"1f1e8_1f1eb":1,"1f1e8_1f1ec":1,"1f1e8_1f1ed":1,"1f1e8_1f1ee":1,"1f1e8_1f1f0":1,"1f1e8_1f1f1":1,"1f1e8_1f1f2":1,"1f1e8_1f1f3":1,"1f1e8_1f1f4":1,"1f1e8_1f1f5":1,"1f1e8_1f1f7":1,"1f1e8_1f1fa":1,"1f1e8_1f1fb":1,"1f1e8_1f1fc":1,"1f1e8_1f1fd":1,"1f1e8_1f1fe":1,"1f1e8_1f1ff":1,"1f1e9":1,"1f1e9_1f1ea":1,"1f1e9_1f1ec":1,"1f1e9_1f1ef":1,"1f1e9_1f1f0":1,"1f1e9_1f1f2":1,"1f1e9_1f1f4":1,"1f1e9_1f1ff":1,"1f1ea":1,"1f1ea_1f1e6":1,"1f1ea_1f1e8":1,"1f1ea_1f1ea":1,"1f1ea_1f1ec":1,"1f1ea_1f1ed":1,"1f1ea_1f1f7":1,"1f1ea_1f1f8":1,"1f1ea_1f1f9":1,"1f1ea_1f1fa":1,"1f1eb":1,"1f1eb_1f1ee":1,"1f1eb_1f1ef":1,"1f1eb_1f1f0":1,"1f1eb_1f1f2":1,"1f1eb_1f1f4":1,"1f1eb_1f1f7":1,"1f1ec":1,"1f1ec_1f1e6":1,"1f1ec_1f1e7":1,"1f1ec_1f1e9":1,"1f1ec_1f1ea":1,"1f1ec_1f1eb":1,"1f1ec_1f1ec":1,"1f1ec_1f1ed":1,"1f1ec_1f1ee":1,"1f1ec_1f1f1":1,"1f1ec_1f1f2":1,"1f1ec_1f1f3":1,"1f1ec_1f1f5":1,"1f1ec_1f1f6":1,"1f1ec_1f1f7":1,"1f1ec_1f1f8":1,"1f1ec_1f1f9":1,"1f1ec_1f1fa":1,"1f1ec_1f1fc":1,"1f1ec_1f1fe":1,"1f1ed":1,"1f1ed_1f1f0":1,"1f1ed_1f1f2":1,"1f1ed_1f1f3":1,"1f1ed_1f1f7":1,"1f1ed_1f1f9":1,"1f1ed_1f1fa":1,"1f1ee":1,"1f1ee_1f1e8":1,"1f1ee_1f1e9":1,"1f1ee_1f1ea":1,"1f1ee_1f1f1":1,"1f1ee_1f1f2":1,"1f1ee_1f1f3":1,"1f1ee_1f1f4":1,"1f1ee_1f1f6":1,"1f1ee_1f1f7":1,"1f1ee_1f1f8":1,"1f1ee_1f1f9":1,"1f1ef":1,"1f1ef_1f1ea":1,"1f1ef_1f1f2":1,"1f1ef_1f1f4":1,"1f1ef_1f1f5":1,"1f1f0":1,"1f1f0_1f1ea":1,"1f1f0_1f1ec":1,"1f1f0_1f1ed":1,"1f1f0_1f1ee":1,"1f1f0_1f1f2":1,"1f1f0_1f1f3":1,"1f1f0_1f1f5":1,"1f1f0_1f1f7":1,"1f1f0_1f1fc":1,"1f1f0_1f1fe":1,"1f1f0_1f1ff":1,"1f1f1":1,"1f1f1_1f1e6":1,"1f1f1_1f1e7":1,"1f1f1_1f1e8":1,"1f1f1_1f1ee":1,"1f1f1_1f1f0":1,"1f1f1_1f1f7":1,"1f1f1_1f1f8":1,"1f1f1_1f1f9":1,"1f1f1_1f1fa":1,"1f1f1_1f1fb":1,"1f1f1_1f1fe":1,"1f1f2":1,"1f1f2_1f1e6":1,"1f1f2_1f1e8":1,"1f1f2_1f1e9":1,"1f1f2_1f1ea":1,"1f1f2_1f1eb":1,"1f1f2_1f1ec":1,"1f1f2_1f1ed":1,"1f1f2_1f1f0":1,"1f1f2_1f1f1":1,"1f1f2_1f1f2":1,"1f1f2_1f1f3":1,"1f1f2_1f1f4":1,"1f1f2_1f1f5":1,"1f1f2_1f1f6":1,"1f1f2_1f1f7":1,"1f1f2_1f1f8":1,"1f1f2_1f1f9":1,"1f1f2_1f1fa":1,"1f1f2_1f1fb":1,"1f1f2_1f1fc":1,"1f1f2_1f1fd":1,"1f1f2_1f1fe":1,"1f1f2_1f1ff":1,"1f1f3":1,"1f1f3_1f1e6":1,"1f1f3_1f1e8":1,"1f1f3_1f1ea":1,"1f1f3_1f1eb":1,"1f1f3_1f1ec":1,"1f1f3_1f1ee":1,"1f1f3_1f1f1":1,"1f1f3_1f1f4":1,"1f1f3_1f1f5":1,"1f1f3_1f1f7":1,"1f1f3_1f1fa":1,"1f1f3_1f1ff":1,"1f1f4":1,"1f1f4_1f1f2":1,"1f1f5":1,"1f1f5_1f1e6":1,"1f1f5_1f1ea":1,"1f1f5_1f1eb":1,"1f1f5_1f1ec":1,"1f1f5_1f1ed":1,"1f1f5_1f1f0":1,"1f1f5_1f1f1":1,"1f1f5_1f1f2":1,"1f1f5_1f1f3":1,"1f1f5_1f1f7":1,"1f1f5_1f1f8":1,"1f1f5_1f1f9":1,"1f1f5_1f1fc":1,"1f1f5_1f1fe":1,"1f1f6":1,"1f1f6_1f1e6":1,"1f1f7":1,"1f1f7_1f1ea":1,"1f1f7_1f1f4":1,"1f1f7_1f1f8":1,"1f1f7_1f1fa":1,"1f1f7_1f1fc":1,"1f1f8":1,"1f1f8_1f1e6":1,"1f1f8_1f1e7":1,"1f1f8_1f1e8":1,"1f1f8_1f1e9":1,"1f1f8_1f1ea":1,"1f1f8_1f1ec":1,"1f1f8_1f1ed":1,"1f1f8_1f1ee":1,"1f1f8_1f1ef":1,"1f1f8_1f1f0":1,"1f1f8_1f1f1":1,"1f1f8_1f1f2":1,"1f1f8_1f1f3":1,"1f1f8_1f1f4":1,"1f1f8_1f1f7":1,"1f1f8_1f1f8":1,"1f1f8_1f1f9":1,"1f1f8_1f1fb":1,"1f1f8_1f1fd":1,"1f1f8_1f1fe":1,"1f1f8_1f1ff":1,"1f1f9":1,"1f1f9_1f1e6":1,"1f1f9_1f1e8":1,"1f1f9_1f1e9":1,"1f1f9_1f1eb":1,"1f1f9_1f1ec":1,"1f1f9_1f1ed":1,"1f1f9_1f1ef":1,"1f1f9_1f1f0":1,"1f1f9_1f1f1":1,"1f1f9_1f1f2":1,"1f1f9_1f1f3":1,"1f1f9_1f1f4":1,"1f1f9_1f1f7":1,"1f1f9_1f1f9":1,"1f1f9_1f1fb":1,"1f1f9_1f1fc":1,"1f1f9_1f1ff":1,"1f1fa":1,"1f1fa_1f1e6":1,"1f1fa_1f1ec":1,"1f1fa_1f1f2":1,"1f1fa_1f1f3":1,"1f1fa_1f1f8":1,"1f1fa_1f1fe":1,"1f1fa_1f1ff":1,"1f1fb":1,"1f1fb_1f1e6":1,"1f1fb_1f1e8":1,"1f1fb_1f1ea":1,"1f1fb_1f1ec":1,"1f1fb_1f1ee":1,"1f1fb_1f1f3":1,"1f1fb_1f1fa":1,"1f1fc":1,"1f1fc_1f1eb":1,"1f1fc_1f1f8":1,"1f1fd":1,"1f1fd_1f1f0":1,"1f1fe":1,"1f1fe_1f1ea":1,"1f1fe_1f1f9":1,"1f1ff":1,"1f1ff_1f1e6":1,"1f1ff_1f1f2":1,"1f1ff_1f1fc":1,"1f201":1,"1f202":1,"1f21a":1,"1f22f":1,"1f232":1,"1f233":1,"1f234":1,"1f235":1,"1f236":1,"1f237":1,"1f238":1,"1f239":1,"1f23a":1,"1f250":1,"1f251":1,"1f300":1,"1f301":1,"1f302":1,"1f303":1,"1f304":1,"1f305":1,"1f306":1,"1f307":1,"1f308":1,"1f309":1,"1f30a":1,"1f30b":1,"1f30c":1,"1f30d":1,"1f30e":1,"1f30f":1,"1f310":1,"1f311":1,"1f312":1,"1f313":1,"1f314":1,"1f315":1,"1f316":1,"1f317":1,"1f318":1,"1f319":1,"1f31a":1,"1f31b":1,"1f31c":1,"1f31d":1,"1f31e":1,"1f31f":1,"1f320":1,"1f321":1,"1f324":1,"1f325":1,"1f326":1,"1f327":1,"1f328":1,"1f329":1,"1f32a":1,"1f32b":1,"1f32c":1,"1f32d":1,"1f32e":1,"1f32f":1,"1f330":1,"1f331":1,"1f332":1,"1f333":1,"1f334":1,"1f335":1,"1f336":1,"1f337":1,"1f338":1,"1f339":1,"1f33a":1,"1f33b":1,"1f33c":1,"1f33d":1,"1f33e":1,"1f33f":1,"1f340":1,"1f341":1,"1f342":1,"1f343":1,"1f344":1,"1f345":1,"1f346":1,"1f347":1,"1f348":1,"1f349":1,"1f34a":1,"1f34b":1,"1f34c":1,"1f34d":1,"1f34e":1,"1f34f":1,"1f350":1,"1f351":1,"1f352":1,"1f353":1,"1f354":1,"1f355":1,"1f356":1,"1f357":1,"1f358":1,"1f359":1,"1f35a":1,"1f35b":1,"1f35c":1,"1f35d":1,"1f35e":1,"1f35f":1,"1f360":1,"1f361":1,"1f362":1,"1f363":1,"1f364":1,"1f365":1,"1f366":1,"1f367":1,"1f368":1,"1f369":1,"1f36a":1,"1f36b":1,"1f36c":1,"1f36d":1,"1f36e":1,"1f36f":1,"1f370":1,"1f371":1,"1f372":1,"1f373":1,"1f374":1,"1f375":1,"1f376":1,"1f377":1,"1f378":1,"1f379":1,"1f37a":1,"1f37b":1,"1f37c":1,"1f37d":1,"1f37e":1,"1f37f":1,"1f380":1,"1f381":1,"1f382":1,"1f383":1,"1f384":1,"1f385":1,"1f385_1f3fb":1,"1f385_1f3fc":1,"1f385_1f3fd":1,"1f385_1f3fe":1,"1f385_1f3ff":1,"1f386":1,"1f387":1,"1f388":1,"1f389":1,"1f38a":1,"1f38b":1,"1f38c":1,"1f38d":1,"1f38e":1,"1f38f":1,"1f390":1,"1f391":1,"1f392":1,"1f393":1,"1f396":1,"1f397":1,"1f399":1,"1f39a":1,"1f39b":1,"1f39e":1,"1f39f":1,"1f3a0":1,"1f3a1":1,"1f3a2":1,"1f3a3":1,"1f3a4":1,"1f3a5":1,"1f3a6":1,"1f3a7":1,"1f3a8":1,"1f3a9":1,"1f3aa":1,"1f3ab":1,"1f3ac":1,"1f3ad":1,"1f3ae":1,"1f3af":1,"1f3b0":1,"1f3b1":1,"1f3b2":1,"1f3b3":1,"1f3b4":1,"1f3b5":1,"1f3b6":1,"1f3b7":1,"1f3b8":1,"1f3b9":1,"1f3ba":1,"1f3bb":1,"1f3bc":1,"1f3bd":1,"1f3be":1,"1f3bf":1,"1f3c0":1,"1f3c1":1,"1f3c2":1,"1f3c2_1f3fb":1,"1f3c2_1f3fc":1,"1f3c2_1f3fd":1,"1f3c2_1f3fe":1,"1f3c2_1f3ff":1,"1f3c3_1f3fb_200d_2640":1,"1f3c3_1f3fb_200d_2642":1,"1f3c3_1f3fc_200d_2640":1,"1f3c3_1f3fc_200d_2642":1,"1f3c3_1f3fd_200d_2640":1,"1f3c3_1f3fd_200d_2642":1,"1f3c3_1f3fe_200d_2640":1,"1f3c3_1f3fe_200d_2642":1,"1f3c3_1f3ff_200d_2640":1,"1f3c3_1f3ff_200d_2642":1,"1f3c3_200d_2640":1,"1f3c3_200d_2642":1,"1f3c4_1f3fb_200d_2640":1,"1f3c4_1f3fb_200d_2642":1,"1f3c4_1f3fc_200d_2640":1,"1f3c4_1f3fc_200d_2642":1,"1f3c4_1f3fd_200d_2640":1,"1f3c4_1f3fd_200d_2642":1,"1f3c4_1f3fe_200d_2640":1,"1f3c4_1f3fe_200d_2642":1,"1f3c4_1f3ff_200d_2640":1,"1f3c4_1f3ff_200d_2642":1,"1f3c4_200d_2640":1,"1f3c4_200d_2642":1,"1f3c5":1,"1f3c6":1,"1f3c7":1,"1f3c7_1f3fb":1,"1f3c7_1f3fc":1,"1f3c7_1f3fd":1,"1f3c7_1f3fe":1,"1f3c7_1f3ff":1,"1f3c8":1,"1f3c9":1,"1f3ca_1f3fb_200d_2640":1,"1f3ca_1f3fb_200d_2642":1,"1f3ca_1f3fc_200d_2640":1,"1f3ca_1f3fc_200d_2642":1,"1f3ca_1f3fd_200d_2640":1,"1f3ca_1f3fd_200d_2642":1,"1f3ca_1f3fe_200d_2640":1,"1f3ca_1f3fe_200d_2642":1,"1f3ca_1f3ff_200d_2640":1,"1f3ca_1f3ff_200d_2642":1,"1f3ca_200d_2640":1,"1f3ca_200d_2642":1,"1f3cb_1f3fb_200d_2640":1,"1f3cb_1f3fb_200d_2642":1,"1f3cb_1f3fc_200d_2640":1,"1f3cb_1f3fc_200d_2642":1,"1f3cb_1f3fd_200d_2640":1,"1f3cb_1f3fd_200d_2642":1,"1f3cb_1f3fe_200d_2640":1,"1f3cb_1f3fe_200d_2642":1,"1f3cb_1f3ff_200d_2640":1,"1f3cb_1f3ff_200d_2642":1,"1f3cb_200d_2640":1,"1f3cb_200d_2642":1,"1f3cc_1f3fb_200d_2640":1,"1f3cc_1f3fb_200d_2642":1,"1f3cc_1f3fc_200d_2640":1,"1f3cc_1f3fc_200d_2642":1,"1f3cc_1f3fd_200d_2640":1,"1f3cc_1f3fd_200d_2642":1,"1f3cc_1f3fe_200d_2640":1,"1f3cc_1f3fe_200d_2642":1,"1f3cc_1f3ff_200d_2640":1,"1f3cc_1f3ff_200d_2642":1,"1f3cc_200d_2640":1,"1f3cc_200d_2642":1,"1f3cd":1,"1f3ce":1,"1f3cf":1,"1f3d0":1,"1f3d1":1,"1f3d2":1,"1f3d3":1,"1f3d4":1,"1f3d5":1,"1f3d6":1,"1f3d7":1,"1f3d8":1,"1f3d9":1,"1f3da":1,"1f3db":1,"1f3dc":1,"1f3dd":1,"1f3de":1,"1f3df":1,"1f3e0":1,"1f3e1":1,"1f3e2":1,"1f3e3":1,"1f3e4":1,"1f3e5":1,"1f3e6":1,"1f3e7":1,"1f3e8":1,"1f3e9":1,"1f3ea":1,"1f3eb":1,"1f3ec":1,"1f3ed":1,"1f3ee":1,"1f3ef":1,"1f3f0":1,"1f3f3":1,"1f3f3_200d_1f308":1,"1f3f4":1,"1f3f4_e0067_e0062_e0065_e006e_e0067_e007f":1,"1f3f4_e0067_e0062_e0073_e0063_e0074_e007f":1,"1f3f4_e0067_e0062_e0077_e006c_e0073_e007f":1,"1f3f5":1,"1f3f7":1,"1f3f8":1,"1f3f9":1,"1f3fa":1,"1f3fb":1,"1f3fc":1,"1f3fd":1,"1f3fe":1,"1f3ff":1,"1f400":1,"1f401":1,"1f402":1,"1f403":1,"1f404":1,"1f405":1,"1f406":1,"1f407":1,"1f408":1,"1f409":1,"1f40a":1,"1f40b":1,"1f40c":1,"1f40d":1,"1f40e":1,"1f40f":1,"1f410":1,"1f411":1,"1f412":1,"1f413":1,"1f414":1,"1f415":1,"1f416":1,"1f417":1,"1f418":1,"1f419":1,"1f41a":1,"1f41b":1,"1f41c":1,"1f41d":1,"1f41e":1,"1f41f":1,"1f420":1,"1f421":1,"1f422":1,"1f423":1,"1f424":1,"1f425":1,"1f426":1,"1f427":1,"1f428":1,"1f429":1,"1f42a":1,"1f42b":1,"1f42c":1,"1f42d":1,"1f42e":1,"1f42f":1,"1f430":1,"1f431":1,"1f432":1,"1f433":1,"1f434":1,"1f435":1,"1f436":1,"1f437":1,"1f438":1,"1f439":1,"1f43a":1,"1f43b":1,"1f43c":1,"1f43d":1,"1f43e":1,"1f43f":1,"1f440":1,"1f441":1,"1f441_200d_1f5e8":1,"1f442":1,"1f442_1f3fb":1,"1f442_1f3fc":1,"1f442_1f3fd":1,"1f442_1f3fe":1,"1f442_1f3ff":1,"1f443":1,"1f443_1f3fb":1,"1f443_1f3fc":1,"1f443_1f3fd":1,"1f443_1f3fe":1,"1f443_1f3ff":1,"1f444":1,"1f445":1,"1f446":1,"1f446_1f3fb":1,"1f446_1f3fc":1,"1f446_1f3fd":1,"1f446_1f3fe":1,"1f446_1f3ff":1,"1f447":1,"1f447_1f3fb":1,"1f447_1f3fc":1,"1f447_1f3fd":1,"1f447_1f3fe":1,"1f447_1f3ff":1,"1f448":1,"1f448_1f3fb":1,"1f448_1f3fc":1,"1f448_1f3fd":1,"1f448_1f3fe":1,"1f448_1f3ff":1,"1f449":1,"1f449_1f3fb":1,"1f449_1f3fc":1,"1f449_1f3fd":1,"1f449_1f3fe":1,"1f449_1f3ff":1,"1f44a":1,"1f44a_1f3fb":1,"1f44a_1f3fc":1,"1f44a_1f3fd":1,"1f44a_1f3fe":1,"1f44a_1f3ff":1,"1f44b":1,"1f44b_1f3fb":1,"1f44b_1f3fc":1,"1f44b_1f3fd":1,"1f44b_1f3fe":1,"1f44b_1f3ff":1,"1f44c":1,"1f44c_1f3fb":1,"1f44c_1f3fc":1,"1f44c_1f3fd":1,"1f44c_1f3fe":1,"1f44c_1f3ff":1,"1f44d":1,"1f44d_1f3fb":1,"1f44d_1f3fc":1,"1f44d_1f3fd":1,"1f44d_1f3fe":1,"1f44d_1f3ff":1,"1f44e":1,"1f44e_1f3fb":1,"1f44e_1f3fc":1,"1f44e_1f3fd":1,"1f44e_1f3fe":1,"1f44e_1f3ff":1,"1f44f":1,"1f44f_1f3fb":1,"1f44f_1f3fc":1,"1f44f_1f3fd":1,"1f44f_1f3fe":1,"1f44f_1f3ff":1,"1f450":1,"1f450_1f3fb":1,"1f450_1f3fc":1,"1f450_1f3fd":1,"1f450_1f3fe":1,"1f450_1f3ff":1,"1f451":1,"1f452":1,"1f453":1,"1f454":1,"1f455":1,"1f456":1,"1f457":1,"1f458":1,"1f459":1,"1f45a":1,"1f45b":1,"1f45c":1,"1f45d":1,"1f45e":1,"1f45f":1,"1f460":1,"1f461":1,"1f462":1,"1f463":1,"1f464":1,"1f465":1,"1f466":1,"1f466_1f3fb":1,"1f466_1f3fc":1,"1f466_1f3fd":1,"1f466_1f3fe":1,"1f466_1f3ff":1,"1f467":1,"1f467_1f3fb":1,"1f467_1f3fc":1,"1f467_1f3fd":1,"1f467_1f3fe":1,"1f467_1f3ff":1,"1f468":1,"1f468_1f3fb":1,"1f468_1f3fb_200d_1f33e":1,"1f468_1f3fb_200d_1f373":1,"1f468_1f3fb_200d_1f393":1,"1f468_1f3fb_200d_1f3a4":1,"1f468_1f3fb_200d_1f3a8":1,"1f468_1f3fb_200d_1f3eb":1,"1f468_1f3fb_200d_1f3ed":1,"1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f4bb":1,"1f468_1f3fb_200d_1f4bc":1,"1f468_1f3fb_200d_1f527":1,"1f468_1f3fb_200d_1f52c":1,"1f468_1f3fb_200d_1f680":1,"1f468_1f3fb_200d_1f692":1,"1f468_1f3fb_200d_2695":1,"1f468_1f3fb_200d_2696":1,"1f468_1f3fb_200d_2708":1,"1f468_1f3fc":1,"1f468_1f3fc_200d_1f33e":1,"1f468_1f3fc_200d_1f373":1,"1f468_1f3fc_200d_1f393":1,"1f468_1f3fc_200d_1f3a4":1,"1f468_1f3fc_200d_1f3a8":1,"1f468_1f3fc_200d_1f3eb":1,"1f468_1f3fc_200d_1f3ed":1,"1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f4bb":1,"1f468_1f3fc_200d_1f4bc":1,"1f468_1f3fc_200d_1f527":1,"1f468_1f3fc_200d_1f52c":1,"1f468_1f3fc_200d_1f680":1,"1f468_1f3fc_200d_1f692":1,"1f468_1f3fc_200d_2695":1,"1f468_1f3fc_200d_2696":1,"1f468_1f3fc_200d_2708":1,"1f468_1f3fd":1,"1f468_1f3fd_200d_1f33e":1,"1f468_1f3fd_200d_1f373":1,"1f468_1f3fd_200d_1f393":1,"1f468_1f3fd_200d_1f3a4":1,"1f468_1f3fd_200d_1f3a8":1,"1f468_1f3fd_200d_1f3eb":1,"1f468_1f3fd_200d_1f3ed":1,"1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f4bb":1,"1f468_1f3fd_200d_1f4bc":1,"1f468_1f3fd_200d_1f527":1,"1f468_1f3fd_200d_1f52c":1,"1f468_1f3fd_200d_1f680":1,"1f468_1f3fd_200d_1f692":1,"1f468_1f3fd_200d_2695":1,"1f468_1f3fd_200d_2696":1,"1f468_1f3fd_200d_2708":1,"1f468_1f3fe":1,"1f468_1f3fe_200d_1f33e":1,"1f468_1f3fe_200d_1f373":1,"1f468_1f3fe_200d_1f393":1,"1f468_1f3fe_200d_1f3a4":1,"1f468_1f3fe_200d_1f3a8":1,"1f468_1f3fe_200d_1f3eb":1,"1f468_1f3fe_200d_1f3ed":1,"1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f4bb":1,"1f468_1f3fe_200d_1f4bc":1,"1f468_1f3fe_200d_1f527":1,"1f468_1f3fe_200d_1f52c":1,"1f468_1f3fe_200d_1f680":1,"1f468_1f3fe_200d_1f692":1,"1f468_1f3fe_200d_2695":1,"1f468_1f3fe_200d_2696":1,"1f468_1f3fe_200d_2708":1,"1f468_1f3ff":1,"1f468_1f3ff_200d_1f33e":1,"1f468_1f3ff_200d_1f373":1,"1f468_1f3ff_200d_1f393":1,"1f468_1f3ff_200d_1f3a4":1,"1f468_1f3ff_200d_1f3a8":1,"1f468_1f3ff_200d_1f3eb":1,"1f468_1f3ff_200d_1f3ed":1,"1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f4bb":1,"1f468_1f3ff_200d_1f4bc":1,"1f468_1f3ff_200d_1f527":1,"1f468_1f3ff_200d_1f52c":1,"1f468_1f3ff_200d_1f680":1,"1f468_1f3ff_200d_1f692":1,"1f468_1f3ff_200d_2695":1,"1f468_1f3ff_200d_2696":1,"1f468_1f3ff_200d_2708":1,"1f468_200d_1f33e":1,"1f468_200d_1f373":1,"1f468_200d_1f393":1,"1f468_200d_1f3a4":1,"1f468_200d_1f3a8":1,"1f468_200d_1f3eb":1,"1f468_200d_1f3ed":1,"1f468_200d_1f466":1,"1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f467":1,"1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f468_200d_1f466":1,"1f468_200d_1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f468_200d_1f467":1,"1f468_200d_1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f469_200d_1f466":1,"1f468_200d_1f469_200d_1f466_200d_1f466":1,"1f468_200d_1f469_200d_1f467":1,"1f468_200d_1f469_200d_1f467_200d_1f466":1,"1f468_200d_1f469_200d_1f467_200d_1f467":1,"1f468_200d_1f4bb":1,"1f468_200d_1f4bc":1,"1f468_200d_1f527":1,"1f468_200d_1f52c":1,"1f468_200d_1f680":1,"1f468_200d_1f692":1,"1f468_200d_2695":1,"1f468_200d_2696":1,"1f468_200d_2708":1,"1f468_200d_2764_200d_1f468":1,"1f468_200d_2764_200d_1f48b_200d_1f468":1,"1f469":1,"1f469_1f3fb":1,"1f469_1f3fb_200d_1f33e":1,"1f469_1f3fb_200d_1f373":1,"1f469_1f3fb_200d_1f393":1,"1f469_1f3fb_200d_1f3a4":1,"1f469_1f3fb_200d_1f3a8":1,"1f469_1f3fb_200d_1f3eb":1,"1f469_1f3fb_200d_1f3ed":1,"1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f4bb":1,"1f469_1f3fb_200d_1f4bc":1,"1f469_1f3fb_200d_1f527":1,"1f469_1f3fb_200d_1f52c":1,"1f469_1f3fb_200d_1f680":1,"1f469_1f3fb_200d_1f692":1,"1f469_1f3fb_200d_2695":1,"1f469_1f3fb_200d_2696":1,"1f469_1f3fb_200d_2708":1,"1f469_1f3fc":1,"1f469_1f3fc_200d_1f33e":1,"1f469_1f3fc_200d_1f373":1,"1f469_1f3fc_200d_1f393":1,"1f469_1f3fc_200d_1f3a4":1,"1f469_1f3fc_200d_1f3a8":1,"1f469_1f3fc_200d_1f3eb":1,"1f469_1f3fc_200d_1f3ed":1,"1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f4bb":1,"1f469_1f3fc_200d_1f4bc":1,"1f469_1f3fc_200d_1f527":1,"1f469_1f3fc_200d_1f52c":1,"1f469_1f3fc_200d_1f680":1,"1f469_1f3fc_200d_1f692":1,"1f469_1f3fc_200d_2695":1,"1f469_1f3fc_200d_2696":1,"1f469_1f3fc_200d_2708":1,"1f469_1f3fd":1,"1f469_1f3fd_200d_1f33e":1,"1f469_1f3fd_200d_1f373":1,"1f469_1f3fd_200d_1f393":1,"1f469_1f3fd_200d_1f3a4":1,"1f469_1f3fd_200d_1f3a8":1,"1f469_1f3fd_200d_1f3eb":1,"1f469_1f3fd_200d_1f3ed":1,"1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f4bb":1,"1f469_1f3fd_200d_1f4bc":1,"1f469_1f3fd_200d_1f527":1,"1f469_1f3fd_200d_1f52c":1,"1f469_1f3fd_200d_1f680":1,"1f469_1f3fd_200d_1f692":1,"1f469_1f3fd_200d_2695":1,"1f469_1f3fd_200d_2696":1,"1f469_1f3fd_200d_2708":1,"1f469_1f3fe":1,"1f469_1f3fe_200d_1f33e":1,"1f469_1f3fe_200d_1f373":1,"1f469_1f3fe_200d_1f393":1,"1f469_1f3fe_200d_1f3a4":1,"1f469_1f3fe_200d_1f3a8":1,"1f469_1f3fe_200d_1f3eb":1,"1f469_1f3fe_200d_1f3ed":1,"1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f4bb":1,"1f469_1f3fe_200d_1f4bc":1,"1f469_1f3fe_200d_1f527":1,"1f469_1f3fe_200d_1f52c":1,"1f469_1f3fe_200d_1f680":1,"1f469_1f3fe_200d_1f692":1,"1f469_1f3fe_200d_2695":1,"1f469_1f3fe_200d_2696":1,"1f469_1f3fe_200d_2708":1,"1f469_1f3ff":1,"1f469_1f3ff_200d_1f33e":1,"1f469_1f3ff_200d_1f373":1,"1f469_1f3ff_200d_1f393":1,"1f469_1f3ff_200d_1f3a4":1,"1f469_1f3ff_200d_1f3a8":1,"1f469_1f3ff_200d_1f3eb":1,"1f469_1f3ff_200d_1f3ed":1,"1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f4bb":1,"1f469_1f3ff_200d_1f4bc":1,"1f469_1f3ff_200d_1f527":1,"1f469_1f3ff_200d_1f52c":1,"1f469_1f3ff_200d_1f680":1,"1f469_1f3ff_200d_1f692":1,"1f469_1f3ff_200d_2695":1,"1f469_1f3ff_200d_2696":1,"1f469_1f3ff_200d_2708":1,"1f469_200d_1f33e":1,"1f469_200d_1f373":1,"1f469_200d_1f393":1,"1f469_200d_1f3a4":1,"1f469_200d_1f3a8":1,"1f469_200d_1f3eb":1,"1f469_200d_1f3ed":1,"1f469_200d_1f466":1,"1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f467":1,"1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f467_200d_1f467":1,"1f469_200d_1f469_200d_1f466":1,"1f469_200d_1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f469_200d_1f467":1,"1f469_200d_1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f469_200d_1f467_200d_1f467":1,"1f469_200d_1f4bb":1,"1f469_200d_1f4bc":1,"1f469_200d_1f527":1,"1f469_200d_1f52c":1,"1f469_200d_1f680":1,"1f469_200d_1f692":1,"1f469_200d_2695":1,"1f469_200d_2696":1,"1f469_200d_2708":1,"1f469_200d_2764_200d_1f468":1,"1f469_200d_2764_200d_1f469":1,"1f469_200d_2764_200d_1f48b_200d_1f468":1,"1f469_200d_2764_200d_1f48b_200d_1f469":1,"1f46a_1f3fb":1,"1f46a_1f3fc":1,"1f46a_1f3fd":1,"1f46a_1f3fe":1,"1f46a_1f3ff":1,"1f46b":1,"1f46c":1,"1f46d":1,"1f46e_1f3fb_200d_2640":1,"1f46e_1f3fb_200d_2642":1,"1f46e_1f3fc_200d_2640":1,"1f46e_1f3fc_200d_2642":1,"1f46e_1f3fd_200d_2640":1,"1f46e_1f3fd_200d_2642":1,"1f46e_1f3fe_200d_2640":1,"1f46e_1f3fe_200d_2642":1,"1f46e_1f3ff_200d_2640":1,"1f46e_1f3ff_200d_2642":1,"1f46e_200d_2640":1,"1f46e_200d_2642":1,"1f46f_200d_2640":1,"1f46f_200d_2642":1,"1f470":1,"1f470_1f3fb":1,"1f470_1f3fc":1,"1f470_1f3fd":1,"1f470_1f3fe":1,"1f470_1f3ff":1,"1f471_1f3fb_200d_2640":1,"1f471_1f3fb_200d_2642":1,"1f471_1f3fc_200d_2640":1,"1f471_1f3fc_200d_2642":1,"1f471_1f3fd_200d_2640":1,"1f471_1f3fd_200d_2642":1,"1f471_1f3fe_200d_2640":1,"1f471_1f3fe_200d_2642":1,"1f471_1f3ff_200d_2640":1,"1f471_1f3ff_200d_2642":1,"1f471_200d_2640":1,"1f471_200d_2642":1,"1f472":1,"1f472_1f3fb":1,"1f472_1f3fc":1,"1f472_1f3fd":1,"1f472_1f3fe":1,"1f472_1f3ff":1,"1f473_1f3fb_200d_2640":1,"1f473_1f3fb_200d_2642":1,"1f473_1f3fc_200d_2640":1,"1f473_1f3fc_200d_2642":1,"1f473_1f3fd_200d_2640":1,"1f473_1f3fd_200d_2642":1,"1f473_1f3fe_200d_2640":1,"1f473_1f3fe_200d_2642":1,"1f473_1f3ff_200d_2640":1,"1f473_1f3ff_200d_2642":1,"1f473_200d_2640":1,"1f473_200d_2642":1,"1f474":1,"1f474_1f3fb":1,"1f474_1f3fc":1,"1f474_1f3fd":1,"1f474_1f3fe":1,"1f474_1f3ff":1,"1f475":1,"1f475_1f3fb":1,"1f475_1f3fc":1,"1f475_1f3fd":1,"1f475_1f3fe":1,"1f475_1f3ff":1,"1f476":1,"1f476_1f3fb":1,"1f476_1f3fc":1,"1f476_1f3fd":1,"1f476_1f3fe":1,"1f476_1f3ff":1,"1f477_1f3fb_200d_2640":1,"1f477_1f3fb_200d_2642":1,"1f477_1f3fc_200d_2640":1,"1f477_1f3fc_200d_2642":1,"1f477_1f3fd_200d_2640":1,"1f477_1f3fd_200d_2642":1,"1f477_1f3fe_200d_2640":1,"1f477_1f3fe_200d_2642":1,"1f477_1f3ff_200d_2640":1,"1f477_1f3ff_200d_2642":1,"1f477_200d_2640":1,"1f477_200d_2642":1,"1f478":1,"1f478_1f3fb":1,"1f478_1f3fc":1,"1f478_1f3fd":1,"1f478_1f3fe":1,"1f478_1f3ff":1,"1f479":1,"1f47a":1,"1f47b":1,"1f47c":1,"1f47c_1f3fb":1,"1f47c_1f3fc":1,"1f47c_1f3fd":1,"1f47c_1f3fe":1,"1f47c_1f3ff":1,"1f47d":1,"1f47e":1,"1f47f":1,"1f480":1,"1f481_1f3fb_200d_2640":1,"1f481_1f3fb_200d_2642":1,"1f481_1f3fc_200d_2640":1,"1f481_1f3fc_200d_2642":1,"1f481_1f3fd_200d_2640":1,"1f481_1f3fd_200d_2642":1,"1f481_1f3fe_200d_2640":1,"1f481_1f3fe_200d_2642":1,"1f481_1f3ff_200d_2640":1,"1f481_1f3ff_200d_2642":1,"1f481_200d_2640":1,"1f481_200d_2642":1,"1f482_1f3fb_200d_2640":1,"1f482_1f3fb_200d_2642":1,"1f482_1f3fc_200d_2640":1,"1f482_1f3fc_200d_2642":1,"1f482_1f3fd_200d_2640":1,"1f482_1f3fd_200d_2642":1,"1f482_1f3fe_200d_2640":1,"1f482_1f3fe_200d_2642":1,"1f482_1f3ff_200d_2640":1,"1f482_1f3ff_200d_2642":1,"1f482_200d_2640":1,"1f482_200d_2642":1,"1f483":1,"1f483_1f3fb":1,"1f483_1f3fc":1,"1f483_1f3fd":1,"1f483_1f3fe":1,"1f483_1f3ff":1,"1f484":1,"1f485":1,"1f485_1f3fb":1,"1f485_1f3fc":1,"1f485_1f3fd":1,"1f485_1f3fe":1,"1f485_1f3ff":1,"1f486_1f3fb_200d_2640":1,"1f486_1f3fb_200d_2642":1,"1f486_1f3fc_200d_2640":1,"1f486_1f3fc_200d_2642":1,"1f486_1f3fd_200d_2640":1,"1f486_1f3fd_200d_2642":1,"1f486_1f3fe_200d_2640":1,"1f486_1f3fe_200d_2642":1,"1f486_1f3ff_200d_2640":1,"1f486_1f3ff_200d_2642":1,"1f486_200d_2640":1,"1f486_200d_2642":1,"1f487_1f3fb_200d_2640":1,"1f487_1f3fb_200d_2642":1,"1f487_1f3fc_200d_2640":1,"1f487_1f3fc_200d_2642":1,"1f487_1f3fd_200d_2640":1,"1f487_1f3fd_200d_2642":1,"1f487_1f3fe_200d_2640":1,"1f487_1f3fe_200d_2642":1,"1f487_1f3ff_200d_2640":1,"1f487_1f3ff_200d_2642":1,"1f487_200d_2640":1,"1f487_200d_2642":1,"1f488":1,"1f489":1,"1f48a":1,"1f48b":1,"1f48c":1,"1f48d":1,"1f48e":1,"1f490":1,"1f492":1,"1f493":1,"1f494":1,"1f495":1,"1f496":1,"1f497":1,"1f498":1,"1f499":1,"1f49a":1,"1f49b":1,"1f49c":1,"1f49d":1,"1f49e":1,"1f49f":1,"1f4a0":1,"1f4a1":1,"1f4a2":1,"1f4a3":1,"1f4a4":1,"1f4a5":1,"1f4a6":1,"1f4a7":1,"1f4a8":1,"1f4a9":1,"1f4aa":1,"1f4aa_1f3fb":1,"1f4aa_1f3fc":1,"1f4aa_1f3fd":1,"1f4aa_1f3fe":1,"1f4aa_1f3ff":1,"1f4ab":1,"1f4ac":1,"1f4ad":1,"1f4ae":1,"1f4af":1,"1f4b0":1,"1f4b1":1,"1f4b2":1,"1f4b3":1,"1f4b4":1,"1f4b5":1,"1f4b6":1,"1f4b7":1,"1f4b8":1,"1f4b9":1,"1f4ba":1,"1f4bb":1,"1f4bc":1,"1f4bd":1,"1f4be":1,"1f4bf":1,"1f4c0":1,"1f4c1":1,"1f4c2":1,"1f4c3":1,"1f4c4":1,"1f4c5":1,"1f4c6":1,"1f4c7":1,"1f4c8":1,"1f4c9":1,"1f4ca":1,"1f4cb":1,"1f4cc":1,"1f4cd":1,"1f4ce":1,"1f4cf":1,"1f4d0":1,"1f4d1":1,"1f4d2":1,"1f4d3":1,"1f4d4":1,"1f4d5":1,"1f4d6":1,"1f4d7":1,"1f4d8":1,"1f4d9":1,"1f4da":1,"1f4db":1,"1f4dc":1,"1f4dd":1,"1f4de":1,"1f4df":1,"1f4e0":1,"1f4e1":1,"1f4e2":1,"1f4e3":1,"1f4e4":1,"1f4e5":1,"1f4e6":1,"1f4e7":1,"1f4e8":1,"1f4e9":1,"1f4ea":1,"1f4eb":1,"1f4ec":1,"1f4ed":1,"1f4ee":1,"1f4ef":1,"1f4f0":1,"1f4f1":1,"1f4f2":1,"1f4f3":1,"1f4f4":1,"1f4f5":1,"1f4f6":1,"1f4f7":1,"1f4f8":1,"1f4f9":1,"1f4fa":1,"1f4fb":1,"1f4fc":1,"1f4fd":1,"1f4ff":1,"1f500":1,"1f501":1,"1f502":1,"1f503":1,"1f504":1,"1f505":1,"1f506":1,"1f507":1,"1f508":1,"1f509":1,"1f50a":1,"1f50b":1,"1f50c":1,"1f50d":1,"1f50e":1,"1f50f":1,"1f510":1,"1f511":1,"1f512":1,"1f513":1,"1f514":1,"1f515":1,"1f516":1,"1f517":1,"1f518":1,"1f519":1,"1f51a":1,"1f51b":1,"1f51c":1,"1f51d":1,"1f51e":1,"1f51f":1,"1f520":1,"1f521":1,"1f522":1,"1f523":1,"1f524":1,"1f525":1,"1f526":1,"1f527":1,"1f528":1,"1f529":1,"1f52a":1,"1f52b":1,"1f52c":1,"1f52d":1,"1f52e":1,"1f52f":1,"1f530":1,"1f531":1,"1f532":1,"1f533":1,"1f534":1,"1f535":1,"1f536":1,"1f537":1,"1f538":1,"1f539":1,"1f53a":1,"1f53b":1,"1f53c":1,"1f53d":1,"1f549":1,"1f54a":1,"1f54b":1,"1f54c":1,"1f54d":1,"1f54e":1,"1f550":1,"1f551":1,"1f552":1,"1f553":1,"1f554":1,"1f555":1,"1f556":1,"1f557":1,"1f558":1,"1f559":1,"1f55a":1,"1f55b":1,"1f55c":1,"1f55d":1,"1f55e":1,"1f55f":1,"1f560":1,"1f561":1,"1f562":1,"1f563":1,"1f564":1,"1f565":1,"1f566":1,"1f567":1,"1f56f":1,"1f570":1,"1f573":1,"1f574":1,"1f574_1f3fb":1,"1f574_1f3fb_200d_2640":1,"1f574_1f3fc":1,"1f574_1f3fc_200d_2640":1,"1f574_1f3fd":1,"1f574_1f3fd_200d_2640":1,"1f574_1f3fe":1,"1f574_1f3fe_200d_2640":1,"1f574_1f3ff":1,"1f574_1f3ff_200d_2640":1,"1f574_200d_2640":1,"1f575_1f3fb_200d_2640":1,"1f575_1f3fb_200d_2642":1,"1f575_1f3fc_200d_2640":1,"1f575_1f3fc_200d_2642":1,"1f575_1f3fd_200d_2640":1,"1f575_1f3fd_200d_2642":1,"1f575_1f3fe_200d_2640":1,"1f575_1f3fe_200d_2642":1,"1f575_1f3ff_200d_2640":1,"1f575_1f3ff_200d_2642":1,"1f575_200d_2640":1,"1f575_200d_2642":1,"1f576":1,"1f577":1,"1f578":1,"1f579":1,"1f57a":1,"1f57a_1f3fb":1,"1f57a_1f3fc":1,"1f57a_1f3fd":1,"1f57a_1f3fe":1,"1f57a_1f3ff":1,"1f587":1,"1f58a":1,"1f58b":1,"1f58c":1,"1f58d":1,"1f590":1,"1f590_1f3fb":1,"1f590_1f3fc":1,"1f590_1f3fd":1,"1f590_1f3fe":1,"1f590_1f3ff":1,"1f595":1,"1f595_1f3fb":1,"1f595_1f3fc":1,"1f595_1f3fd":1,"1f595_1f3fe":1,"1f595_1f3ff":1,"1f596":1,"1f596_1f3fb":1,"1f596_1f3fc":1,"1f596_1f3fd":1,"1f596_1f3fe":1,"1f596_1f3ff":1,"1f5a4":1,"1f5a5":1,"1f5a8":1,"1f5b1":1,"1f5b2":1,"1f5bc":1,"1f5c2":1,"1f5c3":1,"1f5c4":1,"1f5d1":1,"1f5d2":1,"1f5d3":1,"1f5dc":1,"1f5dd":1,"1f5de":1,"1f5e1":1,"1f5e3":1,"1f5e8":1,"1f5ef":1,"1f5f3":1,"1f5fa":1,"1f5fb":1,"1f5fc":1,"1f5fd":1,"1f5fe":1,"1f5ff":1,"1f600":1,"1f601":1,"1f602":1,"1f603":1,"1f604":1,"1f605":1,"1f606":1,"1f607":1,"1f608":1,"1f609":1,"1f60a":1,"1f60b":1,"1f60c":1,"1f60d":1,"1f60e":1,"1f60f":1,"1f610":1,"1f611":1,"1f612":1,"1f613":1,"1f614":1,"1f615":1,"1f616":1,"1f617":1,"1f618":1,"1f619":1,"1f61a":1,"1f61b":1,"1f61c":1,"1f61d":1,"1f61e":1,"1f61f":1,"1f620":1,"1f621":1,"1f622":1,"1f623":1,"1f624":1,"1f625":1,"1f626":1,"1f627":1,"1f628":1,"1f629":1,"1f62a":1,"1f62b":1,"1f62c":1,"1f62d":1,"1f62e":1,"1f62f":1,"1f630":1,"1f631":1,"1f632":1,"1f633":1,"1f634":1,"1f635":1,"1f636":1,"1f637":1,"1f638":1,"1f639":1,"1f63a":1,"1f63b":1,"1f63c":1,"1f63d":1,"1f63e":1,"1f63f":1,"1f640":1,"1f641":1,"1f642":1,"1f643":1,"1f644":1,"1f645_1f3fb_200d_2640":1,"1f645_1f3fb_200d_2642":1,"1f645_1f3fc_200d_2640":1,"1f645_1f3fc_200d_2642":1,"1f645_1f3fd_200d_2640":1,"1f645_1f3fd_200d_2642":1,"1f645_1f3fe_200d_2640":1,"1f645_1f3fe_200d_2642":1,"1f645_1f3ff_200d_2640":1,"1f645_1f3ff_200d_2642":1,"1f645_200d_2640":1,"1f645_200d_2642":1,"1f646_1f3fb_200d_2640":1,"1f646_1f3fb_200d_2642":1,"1f646_1f3fc_200d_2640":1,"1f646_1f3fc_200d_2642":1,"1f646_1f3fd_200d_2640":1,"1f646_1f3fd_200d_2642":1,"1f646_1f3fe_200d_2640":1,"1f646_1f3fe_200d_2642":1,"1f646_1f3ff_200d_2640":1,"1f646_1f3ff_200d_2642":1,"1f646_200d_2640":1,"1f646_200d_2642":1,"1f647_1f3fb_200d_2640":1,"1f647_1f3fb_200d_2642":1,"1f647_1f3fc_200d_2640":1,"1f647_1f3fc_200d_2642":1,"1f647_1f3fd_200d_2640":1,"1f647_1f3fd_200d_2642":1,"1f647_1f3fe_200d_2640":1,"1f647_1f3fe_200d_2642":1,"1f647_1f3ff_200d_2640":1,"1f647_1f3ff_200d_2642":1,"1f647_200d_2640":1,"1f647_200d_2642":1,"1f648":1,"1f649":1,"1f64a":1,"1f64b_1f3fb_200d_2640":1,"1f64b_1f3fb_200d_2642":1,"1f64b_1f3fc_200d_2640":1,"1f64b_1f3fc_200d_2642":1,"1f64b_1f3fd_200d_2640":1,"1f64b_1f3fd_200d_2642":1,"1f64b_1f3fe_200d_2640":1,"1f64b_1f3fe_200d_2642":1,"1f64b_1f3ff_200d_2640":1,"1f64b_1f3ff_200d_2642":1,"1f64b_200d_2640":1,"1f64b_200d_2642":1,"1f64c":1,"1f64c_1f3fb":1,"1f64c_1f3fc":1,"1f64c_1f3fd":1,"1f64c_1f3fe":1,"1f64c_1f3ff":1,"1f64d_1f3fb_200d_2640":1,"1f64d_1f3fb_200d_2642":1,"1f64d_1f3fc_200d_2640":1,"1f64d_1f3fc_200d_2642":1,"1f64d_1f3fd_200d_2640":1,"1f64d_1f3fd_200d_2642":1,"1f64d_1f3fe_200d_2640":1,"1f64d_1f3fe_200d_2642":1,"1f64d_1f3ff_200d_2640":1,"1f64d_1f3ff_200d_2642":1,"1f64d_200d_2640":1,"1f64d_200d_2642":1,"1f64e_1f3fb_200d_2640":1,"1f64e_1f3fb_200d_2642":1,"1f64e_1f3fc_200d_2640":1,"1f64e_1f3fc_200d_2642":1,"1f64e_1f3fd_200d_2640":1,"1f64e_1f3fd_200d_2642":1,"1f64e_1f3fe_200d_2640":1,"1f64e_1f3fe_200d_2642":1,"1f64e_1f3ff_200d_2640":1,"1f64e_1f3ff_200d_2642":1,"1f64e_200d_2640":1,"1f64e_200d_2642":1,"1f64f":1,"1f64f_1f3fb":1,"1f64f_1f3fc":1,"1f64f_1f3fd":1,"1f64f_1f3fe":1,"1f64f_1f3ff":1,"1f680":1,"1f681":1,"1f682":1,"1f683":1,"1f684":1,"1f685":1,"1f686":1,"1f687":1,"1f688":1,"1f689":1,"1f68a":1,"1f68b":1,"1f68c":1,"1f68d":1,"1f68e":1,"1f68f":1,"1f690":1,"1f691":1,"1f692":1,"1f693":1,"1f694":1,"1f695":1,"1f696":1,"1f697":1,"1f698":1,"1f699":1,"1f69a":1,"1f69b":1,"1f69c":1,"1f69d":1,"1f69e":1,"1f69f":1,"1f6a0":1,"1f6a1":1,"1f6a2":1,"1f6a3_1f3fb_200d_2640":1,"1f6a3_1f3fb_200d_2642":1,"1f6a3_1f3fc_200d_2640":1,"1f6a3_1f3fc_200d_2642":1,"1f6a3_1f3fd_200d_2640":1,"1f6a3_1f3fd_200d_2642":1,"1f6a3_1f3fe_200d_2640":1,"1f6a3_1f3fe_200d_2642":1,"1f6a3_1f3ff_200d_2640":1,"1f6a3_1f3ff_200d_2642":1,"1f6a3_200d_2640":1,"1f6a3_200d_2642":1,"1f6a4":1,"1f6a5":1,"1f6a6":1,"1f6a7":1,"1f6a8":1,"1f6a9":1,"1f6aa":1,"1f6ab":1,"1f6ac":1,"1f6ad":1,"1f6ae":1,"1f6af":1,"1f6b0":1,"1f6b1":1,"1f6b2":1,"1f6b3":1,"1f6b4_1f3fb_200d_2640":1,"1f6b4_1f3fb_200d_2642":1,"1f6b4_1f3fc_200d_2640":1,"1f6b4_1f3fc_200d_2642":1,"1f6b4_1f3fd_200d_2640":1,"1f6b4_1f3fd_200d_2642":1,"1f6b4_1f3fe_200d_2640":1,"1f6b4_1f3fe_200d_2642":1,"1f6b4_1f3ff_200d_2640":1,"1f6b4_1f3ff_200d_2642":1,"1f6b4_200d_2640":1,"1f6b4_200d_2642":1,"1f6b5_1f3fb_200d_2640":1,"1f6b5_1f3fb_200d_2642":1,"1f6b5_1f3fc_200d_2640":1,"1f6b5_1f3fc_200d_2642":1,"1f6b5_1f3fd_200d_2640":1,"1f6b5_1f3fd_200d_2642":1,"1f6b5_1f3fe_200d_2640":1,"1f6b5_1f3fe_200d_2642":1,"1f6b5_1f3ff_200d_2640":1,"1f6b5_1f3ff_200d_2642":1,"1f6b5_200d_2640":1,"1f6b5_200d_2642":1,"1f6b6_1f3fb_200d_2640":1,"1f6b6_1f3fb_200d_2642":1,"1f6b6_1f3fc_200d_2640":1,"1f6b6_1f3fc_200d_2642":1,"1f6b6_1f3fd_200d_2640":1,"1f6b6_1f3fd_200d_2642":1,"1f6b6_1f3fe_200d_2640":1,"1f6b6_1f3fe_200d_2642":1,"1f6b6_1f3ff_200d_2640":1,"1f6b6_1f3ff_200d_2642":1,"1f6b6_200d_2640":1,"1f6b6_200d_2642":1,"1f6b7":1,"1f6b8":1,"1f6b9":1,"1f6ba":1,"1f6bb":1,"1f6bc":1,"1f6bd":1,"1f6be":1,"1f6bf":1,"1f6c0":1,"1f6c0_1f3fb":1,"1f6c0_1f3fc":1,"1f6c0_1f3fd":1,"1f6c0_1f3fe":1,"1f6c0_1f3ff":1,"1f6c1":1,"1f6c2":1,"1f6c3":1,"1f6c4":1,"1f6c5":1,"1f6cb":1,"1f6cc":1,"1f6cc_1f3fb":1,"1f6cc_1f3fc":1,"1f6cc_1f3fd":1,"1f6cc_1f3fe":1,"1f6cc_1f3ff":1,"1f6cd":1,"1f6ce":1,"1f6cf":1,"1f6d0":1,"1f6d1":1,"1f6d2":1,"1f6e0":1,"1f6e1":1,"1f6e2":1,"1f6e3":1,"1f6e4":1,"1f6e5":1,"1f6e9":1,"1f6eb":1,"1f6ec":1,"1f6f0":1,"1f6f3":1,"1f6f4":1,"1f6f5":1,"1f6f6":1,"1f6f7":1,"1f6f8":1,"1f910":1,"1f911":1,"1f912":1,"1f913":1,"1f914":1,"1f915":1,"1f916":1,"1f917":1,"1f918":1,"1f918_1f3fb":1,"1f918_1f3fc":1,"1f918_1f3fd":1,"1f918_1f3fe":1,"1f918_1f3ff":1,"1f919":1,"1f919_1f3fb":1,"1f919_1f3fc":1,"1f919_1f3fd":1,"1f919_1f3fe":1,"1f919_1f3ff":1,"1f91a":1,"1f91a_1f3fb":1,"1f91a_1f3fc":1,"1f91a_1f3fd":1,"1f91a_1f3fe":1,"1f91a_1f3ff":1,"1f91b":1,"1f91b_1f3fb":1,"1f91b_1f3fc":1,"1f91b_1f3fd":1,"1f91b_1f3fe":1,"1f91b_1f3ff":1,"1f91c":1,"1f91c_1f3fb":1,"1f91c_1f3fc":1,"1f91c_1f3fd":1,"1f91c_1f3fe":1,"1f91c_1f3ff":1,"1f91d":1,"1f91e":1,"1f91e_1f3fb":1,"1f91e_1f3fc":1,"1f91e_1f3fd":1,"1f91e_1f3fe":1,"1f91e_1f3ff":1,"1f91f":1,"1f91f_1f3fb":1,"1f91f_1f3fc":1,"1f91f_1f3fd":1,"1f91f_1f3fe":1,"1f91f_1f3ff":1,"1f920":1,"1f921":1,"1f922":1,"1f923":1,"1f924":1,"1f925":1,"1f926_1f3fb_200d_2640":1,"1f926_1f3fb_200d_2642":1,"1f926_1f3fc_200d_2640":1,"1f926_1f3fc_200d_2642":1,"1f926_1f3fd_200d_2640":1,"1f926_1f3fd_200d_2642":1,"1f926_1f3fe_200d_2640":1,"1f926_1f3fe_200d_2642":1,"1f926_1f3ff_200d_2640":1,"1f926_1f3ff_200d_2642":1,"1f926_200d_2640":1,"1f926_200d_2642":1,"1f927":1,"1f928":1,"1f929":1,"1f92a":1,"1f92b":1,"1f92c":1,"1f92d":1,"1f92e":1,"1f92f":1,"1f930":1,"1f930_1f3fb":1,"1f930_1f3fc":1,"1f930_1f3fd":1,"1f930_1f3fe":1,"1f930_1f3ff":1,"1f931":1,"1f931_1f3fb":1,"1f931_1f3fc":1,"1f931_1f3fd":1,"1f931_1f3fe":1,"1f931_1f3ff":1,"1f932":1,"1f932_1f3fb":1,"1f932_1f3fc":1,"1f932_1f3fd":1,"1f932_1f3fe":1,"1f932_1f3ff":1,"1f933":1,"1f933_1f3fb":1,"1f933_1f3fc":1,"1f933_1f3fd":1,"1f933_1f3fe":1,"1f933_1f3ff":1,"1f934":1,"1f934_1f3fb":1,"1f934_1f3fc":1,"1f934_1f3fd":1,"1f934_1f3fe":1,"1f934_1f3ff":1,"1f935":1,"1f935_1f3fb":1,"1f935_1f3fc":1,"1f935_1f3fd":1,"1f935_1f3fe":1,"1f935_1f3ff":1,"1f936":1,"1f936_1f3fb":1,"1f936_1f3fc":1,"1f936_1f3fd":1,"1f936_1f3fe":1,"1f936_1f3ff":1,"1f937_1f3fb_200d_2640":1,"1f937_1f3fb_200d_2642":1,"1f937_1f3fc_200d_2640":1,"1f937_1f3fc_200d_2642":1,"1f937_1f3fd_200d_2640":1,"1f937_1f3fd_200d_2642":1,"1f937_1f3fe_200d_2640":1,"1f937_1f3fe_200d_2642":1,"1f937_1f3ff_200d_2640":1,"1f937_1f3ff_200d_2642":1,"1f937_200d_2640":1,"1f937_200d_2642":1,"1f938_1f3fb_200d_2640":1,"1f938_1f3fb_200d_2642":1,"1f938_1f3fc_200d_2640":1,"1f938_1f3fc_200d_2642":1,"1f938_1f3fd_200d_2640":1,"1f938_1f3fd_200d_2642":1,"1f938_1f3fe_200d_2640":1,"1f938_1f3fe_200d_2642":1,"1f938_1f3ff_200d_2640":1,"1f938_1f3ff_200d_2642":1,"1f938_200d_2640":1,"1f938_200d_2642":1,"1f939":1,"1f939_1f3fb":1,"1f939_1f3fc":1,"1f939_1f3fd":1,"1f939_1f3fe":1,"1f939_1f3ff":1,"1f93a":1,"1f93c_200d_2640":1,"1f93c_200d_2642":1,"1f93d_1f3fb_200d_2640":1,"1f93d_1f3fb_200d_2642":1,"1f93d_1f3fc_200d_2640":1,"1f93d_1f3fc_200d_2642":1,"1f93d_1f3fd_200d_2640":1,"1f93d_1f3fd_200d_2642":1,"1f93d_1f3fe_200d_2640":1,"1f93d_1f3fe_200d_2642":1,"1f93d_1f3ff_200d_2640":1,"1f93d_1f3ff_200d_2642":1,"1f93d_200d_2640":1,"1f93d_200d_2642":1,"1f93e_1f3fb_200d_2640":1,"1f93e_1f3fb_200d_2642":1,"1f93e_1f3fc_200d_2640":1,"1f93e_1f3fc_200d_2642":1,"1f93e_1f3fd_200d_2640":1,"1f93e_1f3fd_200d_2642":1,"1f93e_1f3fe_200d_2640":1,"1f93e_1f3fe_200d_2642":1,"1f93e_1f3ff_200d_2640":1,"1f93e_1f3ff_200d_2642":1,"1f93e_200d_2640":1,"1f93e_200d_2642":1,"1f940":1,"1f941":1,"1f942":1,"1f943":1,"1f944":1,"1f945":1,"1f947":1,"1f948":1,"1f949":1,"1f94a":1,"1f94b":1,"1f94c":1,"1f950":1,"1f951":1,"1f952":1,"1f953":1,"1f954":1,"1f955":1,"1f956":1,"1f957":1,"1f958":1,"1f959":1,"1f95a":1,"1f95b":1,"1f95c":1,"1f95d":1,"1f95e":1,"1f95f":1,"1f960":1,"1f961":1,"1f962":1,"1f963":1,"1f964":1,"1f965":1,"1f966":1,"1f967":1,"1f968":1,"1f969":1,"1f96a":1,"1f96b":1,"1f980":1,"1f981":1,"1f982":1,"1f983":1,"1f984":1,"1f985":1,"1f986":1,"1f987":1,"1f988":1,"1f989":1,"1f98a":1,"1f98b":1,"1f98c":1,"1f98d":1,"1f98e":1,"1f98f":1,"1f990":1,"1f991":1,"1f992":1,"1f993":1,"1f994":1,"1f995":1,"1f996":1,"1f997":1,"1f9c0":1,"1f9d0":1,"1f9d1":1,"1f9d1_1f3fb":1,"1f9d1_1f3fc":1,"1f9d1_1f3fd":1,"1f9d1_1f3fe":1,"1f9d1_1f3ff":1,"1f9d2":1,"1f9d2_1f3fb":1,"1f9d2_1f3fc":1,"1f9d2_1f3fd":1,"1f9d2_1f3fe":1,"1f9d2_1f3ff":1,"1f9d3":1,"1f9d3_1f3fb":1,"1f9d3_1f3fc":1,"1f9d3_1f3fd":1,"1f9d3_1f3fe":1,"1f9d3_1f3ff":1,"1f9d4":1,"1f9d4_1f3fb":1,"1f9d4_1f3fc":1,"1f9d4_1f3fd":1,"1f9d4_1f3fe":1,"1f9d4_1f3ff":1,"1f9d5":1,"1f9d5_1f3fb":1,"1f9d5_1f3fc":1,"1f9d5_1f3fd":1,"1f9d5_1f3fe":1,"1f9d5_1f3ff":1,"1f9d6":1,"1f9d6_1f3fb":1,"1f9d6_1f3fb_200d_2640":1,"1f9d6_1f3fb_200d_2642":1,"1f9d6_1f3fc":1,"1f9d6_1f3fc_200d_2640":1,"1f9d6_1f3fc_200d_2642":1,"1f9d6_1f3fd":1,"1f9d6_1f3fd_200d_2640":1,"1f9d6_1f3fd_200d_2642":1,"1f9d6_1f3fe":1,"1f9d6_1f3fe_200d_2640":1,"1f9d6_1f3fe_200d_2642":1,"1f9d6_1f3ff":1,"1f9d6_1f3ff_200d_2640":1,"1f9d6_1f3ff_200d_2642":1,"1f9d6_200d_2640":1,"1f9d6_200d_2642":1,"1f9d7":1,"1f9d7_1f3fb":1,"1f9d7_1f3fb_200d_2640":1,"1f9d7_1f3fb_200d_2642":1,"1f9d7_1f3fc":1,"1f9d7_1f3fc_200d_2640":1,"1f9d7_1f3fc_200d_2642":1,"1f9d7_1f3fd":1,"1f9d7_1f3fd_200d_2640":1,"1f9d7_1f3fd_200d_2642":1,"1f9d7_1f3fe":1,"1f9d7_1f3fe_200d_2640":1,"1f9d7_1f3fe_200d_2642":1,"1f9d7_1f3ff":1,"1f9d7_1f3ff_200d_2640":1,"1f9d7_1f3ff_200d_2642":1,"1f9d7_200d_2640":1,"1f9d7_200d_2642":1,"1f9d8":1,"1f9d8_1f3fb":1,"1f9d8_1f3fb_200d_2640":1,"1f9d8_1f3fb_200d_2642":1,"1f9d8_1f3fc":1,"1f9d8_1f3fc_200d_2640":1,"1f9d8_1f3fc_200d_2642":1,"1f9d8_1f3fd":1,"1f9d8_1f3fd_200d_2640":1,"1f9d8_1f3fd_200d_2642":1,"1f9d8_1f3fe":1,"1f9d8_1f3fe_200d_2640":1,"1f9d8_1f3fe_200d_2642":1,"1f9d8_1f3ff":1,"1f9d8_1f3ff_200d_2640":1,"1f9d8_1f3ff_200d_2642":1,"1f9d8_200d_2640":1,"1f9d8_200d_2642":1,"1f9d9":1,"1f9d9_1f3fb":1,"1f9d9_1f3fb_200d_2640":1,"1f9d9_1f3fb_200d_2642":1,"1f9d9_1f3fc":1,"1f9d9_1f3fc_200d_2640":1,"1f9d9_1f3fc_200d_2642":1,"1f9d9_1f3fd":1,"1f9d9_1f3fd_200d_2640":1,"1f9d9_1f3fd_200d_2642":1,"1f9d9_1f3fe":1,"1f9d9_1f3fe_200d_2640":1,"1f9d9_1f3fe_200d_2642":1,"1f9d9_1f3ff":1,"1f9d9_1f3ff_200d_2640":1,"1f9d9_1f3ff_200d_2642":1,"1f9d9_200d_2640":1,"1f9d9_200d_2642":1,"1f9da":1,"1f9da_200d_2640":1,"1f9da_200d_2642":1,"1f9db":1,"1f9db_200d_2640":1,"1f9db_200d_2642":1,"1f9dc":1,"1f9dc_1f3fb":1,"1f9dc_1f3fb_200d_2640":1,"1f9dc_1f3fb_200d_2642":1,"1f9dc_1f3fc":1,"1f9dc_1f3fc_200d_2640":1,"1f9dc_1f3fc_200d_2642":1,"1f9dc_1f3fd":1,"1f9dc_1f3fd_200d_2640":1,"1f9dc_1f3fd_200d_2642":1,"1f9dc_1f3fe":1,"1f9dc_1f3fe_200d_2640":1,"1f9dc_1f3fe_200d_2642":1,"1f9dc_1f3ff":1,"1f9dc_1f3ff_200d_2640":1,"1f9dc_1f3ff_200d_2642":1,"1f9dc_200d_2640":1,"1f9dc_200d_2642":1,"1f9dd":1,"1f9dd_1f3fb":1,"1f9dd_1f3fb_200d_2640":1,"1f9dd_1f3fb_200d_2642":1,"1f9dd_1f3fc":1,"1f9dd_1f3fc_200d_2640":1,"1f9dd_1f3fc_200d_2642":1,"1f9dd_1f3fd":1,"1f9dd_1f3fd_200d_2640":1,"1f9dd_1f3fd_200d_2642":1,"1f9dd_1f3fe":1,"1f9dd_1f3fe_200d_2640":1,"1f9dd_1f3fe_200d_2642":1,"1f9dd_1f3ff":1,"1f9dd_1f3ff_200d_2640":1,"1f9dd_1f3ff_200d_2642":1,"1f9dd_200d_2640":1,"1f9dd_200d_2642":1,"1f9de":1,"1f9de_200d_2640":1,"1f9de_200d_2642":1,"1f9df":1,"1f9df_200d_2640":1,"1f9df_200d_2642":1,"1f9e0":1,"1f9e1":1,"1f9e2":1,"1f9e3":1,"1f9e4":1,"1f9e5":1,"1f9e6":1,"203c":1,2049:1,2122:1,2139:1,2194:1,2195:1,2196:1,2197:1,2198:1,2199:1,"21a9":1,"21aa":1,"231a":1,"231b":1,2328:1,"23_20e3":1,"23cf":1,"23e9":1,"23ea":1,"23eb":1,"23ec":1,"23ed":1,"23ee":1,"23ef":1,"23f0":1,"23f1":1,"23f2":1,"23f3":1,"23f8":1,"23f9":1,"23fa":1,"24c2":1,"25aa":1,"25ab":1,"25b6":1,"25c0":1,"25fb":1,"25fc":1,"25fd":1,"25fe":1,2600:1,2601:1,2602:1,2603:1,2604:1,"260e":1,2611:1,2614:1,2615:1,2618:1,"261d":1,"261d_1f3fb":1,"261d_1f3fc":1,"261d_1f3fd":1,"261d_1f3fe":1,"261d_1f3ff":1,2620:1,2622:1,2623:1,2626:1,"262a":1,"262e":1,"262f":1,2638:1,2639:1,"263a":1,2640:1,2642:1,2648:1,2649:1,"264a":1,"264b":1,"264c":1,"264d":1,"264e":1,"264f":1,2650:1,2651:1,2652:1,2653:1,2660:1,2663:1,2665:1,2666:1,2668:1,"267b":1,"267f":1,2692:1,2693:1,2694:1,2695:1,2696:1,2697:1,2699:1,"269b":1,"269c":1,"26a0":1,"26a1":1,"26aa":1,"26ab":1,"26b0":1,"26b1":1,"26bd":1,"26be":1,"26c4":1,"26c5":1,"26c8":1,"26ce":1,"26cf":1,"26d1":1,"26d3":1,"26d4":1,"26e9":1,"26ea":1,"26f0":1,"26f1":1,"26f2":1,"26f3":1,"26f4":1,"26f5":1,"26f7":1,"26f8":1,"26f9_1f3fb_200d_2640":1,"26f9_1f3fb_200d_2642":1,"26f9_1f3fc_200d_2640":1,"26f9_1f3fc_200d_2642":1,"26f9_1f3fd_200d_2640":1,"26f9_1f3fd_200d_2642":1,"26f9_1f3fe_200d_2640":1,"26f9_1f3fe_200d_2642":1,"26f9_1f3ff_200d_2640":1,"26f9_1f3ff_200d_2642":1,"26f9_200d_2640":1,"26f9_200d_2642":1,"26fa":1,"26fd":1,2702:1,2705:1,2708:1,2709:1,"270a":1,"270a_1f3fb":1,"270a_1f3fc":1,"270a_1f3fd":1,"270a_1f3fe":1,"270a_1f3ff":1,"270b":1,"270b_1f3fb":1,"270b_1f3fc":1,"270b_1f3fd":1,"270b_1f3fe":1,"270b_1f3ff":1,"270c":1,"270c_1f3fb":1,"270c_1f3fc":1,"270c_1f3fd":1,"270c_1f3fe":1,"270c_1f3ff":1,"270d":1,"270d_1f3fb":1,"270d_1f3fc":1,"270d_1f3fd":1,"270d_1f3fe":1,"270d_1f3ff":1,"270f":1,2712:1,2714:1,2716:1,"271d":1,2721:1,2728:1,2733:1,2734:1,2744:1,2747:1,"274c":1,"274e":1,2753:1,2754:1,2755:1,2757:1,2763:1,2764:1,2795:1,2796:1,2797:1,"27a1":1,"27b0":1,"27bf":1,2934:1,2935:1,"2a_20e3":1,"2b05":1,"2b06":1,"2b07":1,"2b1b":1,"2b1c":1,"2b50":1,"2b55":1,3030:1,"303d":1,"30_20e3":1,"31_20e3":1,3297:1,3299:1,"32_20e3":1,"33_20e3":1,"34_20e3":1,"35_20e3":1,"36_20e3":1,"37_20e3":1,"38_20e3":1,"39_20e3":1,a9:1,ae:1};e.exports=a}),null);
__d("SupportedFacebookEmoji",["SupportedCommonEmoji"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("SupportedCommonEmoji"),{"1f46b_1f3fb":1,"1f46b_1f3fc":1,"1f46b_1f3fd":1,"1f46b_1f3fe":1,"1f46b_1f3ff":1,"1f46c_1f3fb":1,"1f46c_1f3fc":1,"1f46c_1f3fd":1,"1f46c_1f3fe":1,"1f46c_1f3ff":1,"1f46d_1f3fb":1,"1f46d_1f3fc":1,"1f46d_1f3fd":1,"1f46d_1f3fe":1,"1f46d_1f3ff":1,"1f46f_1f3fb_200d_2640":1,"1f46f_1f3fb_200d_2642":1,"1f46f_1f3fc_200d_2640":1,"1f46f_1f3fc_200d_2642":1,"1f46f_1f3fd_200d_2640":1,"1f46f_1f3fd_200d_2642":1,"1f46f_1f3fe_200d_2640":1,"1f46f_1f3fe_200d_2642":1,"1f46f_1f3ff_200d_2640":1,"1f46f_1f3ff_200d_2642":1,"1f91d_1f3fb":1,"1f91d_1f3fc":1,"1f91d_1f3fd":1,"1f91d_1f3fe":1,"1f91d_1f3ff":1,"1f93c_1f3fb_200d_2640":1,"1f93c_1f3fb_200d_2642":1,"1f93c_1f3fc_200d_2640":1,"1f93c_1f3fc_200d_2642":1,"1f93c_1f3fd_200d_2640":1,"1f93c_1f3fd_200d_2642":1,"1f93c_1f3fe_200d_2640":1,"1f93c_1f3fe_200d_2642":1,"1f93c_1f3ff_200d_2640":1,"1f93c_1f3ff_200d_2642":1});e.exports=a}),null);
__d("FBEmojiUtils",["EmojiRendererData","FBEmojiAliases","SupportedFacebookEmoji"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/_fe0f/g,h=[127995,127996,127997,127998,127999];function a(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}var i=function(a){return a.map(function(a){return a.codePointAt(0).toString(16)}).join("_").replace(g,"")},j=function(a){a=i(a);if(a==null)return null;a=k(a);return b("SupportedFacebookEmoji")[a]?a:null};c=function(a){var b=k(a);return(b!==null?b:a).replace(g,"")};var k=function(a){var c=b("FBEmojiAliases")[a];return c?c.replace(g,""):a};d=function(a){__p&&__p();var c=[];if(!b("EmojiRendererData").isEmojiModifierBase(a[0]))return c;h.forEach(function(d){var e=a.reduce(function(a,c){if(a.length&&b("EmojiRendererData").isEmojiVariationSelector(c)&&b("EmojiRendererData").isEmojiModifier(a[a.length-1]))return a;a.push(c);b("EmojiRendererData").isEmojiModifierBase(c)&&a.push(d);return a},[]);j(e.map(function(a){return String.fromCodePoint(a)}))&&c.push(e)});return c};e.exports={codepointsToString:a,getKeyFromCodepoints:i,getSupportedKey:j,getSupportedModifierSequences:d,normalizeKey:c,resolveAliasFromKey:k}}),null);
__d("SupportedEmoji3",["SupportedCommonEmoji"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("SupportedCommonEmoji"),{"1f3f4_200d_2620":1,"1f468_1f3fb_200d_1f9b0":1,"1f468_1f3fb_200d_1f9b1":1,"1f468_1f3fb_200d_1f9b2":1,"1f468_1f3fb_200d_1f9b3":1,"1f468_1f3fc_200d_1f9b0":1,"1f468_1f3fc_200d_1f9b1":1,"1f468_1f3fc_200d_1f9b2":1,"1f468_1f3fc_200d_1f9b3":1,"1f468_1f3fd_200d_1f9b0":1,"1f468_1f3fd_200d_1f9b1":1,"1f468_1f3fd_200d_1f9b2":1,"1f468_1f3fd_200d_1f9b3":1,"1f468_1f3fe_200d_1f9b0":1,"1f468_1f3fe_200d_1f9b1":1,"1f468_1f3fe_200d_1f9b2":1,"1f468_1f3fe_200d_1f9b3":1,"1f468_1f3ff_200d_1f9b0":1,"1f468_1f3ff_200d_1f9b1":1,"1f468_1f3ff_200d_1f9b2":1,"1f468_1f3ff_200d_1f9b3":1,"1f468_200d_1f9b0":1,"1f468_200d_1f9b1":1,"1f468_200d_1f9b2":1,"1f468_200d_1f9b3":1,"1f469_1f3fb_200d_1f9b0":1,"1f469_1f3fb_200d_1f9b1":1,"1f469_1f3fb_200d_1f9b2":1,"1f469_1f3fb_200d_1f9b3":1,"1f469_1f3fc_200d_1f9b0":1,"1f469_1f3fc_200d_1f9b1":1,"1f469_1f3fc_200d_1f9b2":1,"1f469_1f3fc_200d_1f9b3":1,"1f469_1f3fd_200d_1f9b0":1,"1f469_1f3fd_200d_1f9b1":1,"1f469_1f3fd_200d_1f9b2":1,"1f469_1f3fd_200d_1f9b3":1,"1f469_1f3fe_200d_1f9b0":1,"1f469_1f3fe_200d_1f9b1":1,"1f469_1f3fe_200d_1f9b2":1,"1f469_1f3fe_200d_1f9b3":1,"1f469_1f3ff_200d_1f9b0":1,"1f469_1f3ff_200d_1f9b1":1,"1f469_1f3ff_200d_1f9b2":1,"1f469_1f3ff_200d_1f9b3":1,"1f469_200d_1f9b0":1,"1f469_200d_1f9b1":1,"1f469_200d_1f9b2":1,"1f469_200d_1f9b3":1,"1f6f9":1,"1f939_1f3fb_200d_2640":1,"1f939_1f3fb_200d_2642":1,"1f939_1f3fc_200d_2640":1,"1f939_1f3fc_200d_2642":1,"1f939_1f3fd_200d_2640":1,"1f939_1f3fd_200d_2642":1,"1f939_1f3fe_200d_2640":1,"1f939_1f3fe_200d_2642":1,"1f939_1f3ff_200d_2640":1,"1f939_1f3ff_200d_2642":1,"1f939_200d_2640":1,"1f939_200d_2642":1,"1f94d":1,"1f94e":1,"1f94f":1,"1f96c":1,"1f96d":1,"1f96e":1,"1f96f":1,"1f970":1,"1f973":1,"1f974":1,"1f975":1,"1f976":1,"1f97a":1,"1f97c":1,"1f97d":1,"1f97e":1,"1f97f":1,"1f998":1,"1f999":1,"1f99a":1,"1f99b":1,"1f99c":1,"1f99d":1,"1f99e":1,"1f99f":1,"1f9a0":1,"1f9a1":1,"1f9a2":1,"1f9b0":1,"1f9b1":1,"1f9b2":1,"1f9b3":1,"1f9b4":1,"1f9b5":1,"1f9b5_1f3fb":1,"1f9b5_1f3fc":1,"1f9b5_1f3fd":1,"1f9b5_1f3fe":1,"1f9b5_1f3ff":1,"1f9b6":1,"1f9b6_1f3fb":1,"1f9b6_1f3fc":1,"1f9b6_1f3fd":1,"1f9b6_1f3fe":1,"1f9b6_1f3ff":1,"1f9b7":1,"1f9b8":1,"1f9b8_1f3fb":1,"1f9b8_1f3fb_200d_2640":1,"1f9b8_1f3fb_200d_2642":1,"1f9b8_1f3fc":1,"1f9b8_1f3fc_200d_2640":1,"1f9b8_1f3fc_200d_2642":1,"1f9b8_1f3fd":1,"1f9b8_1f3fd_200d_2640":1,"1f9b8_1f3fd_200d_2642":1,"1f9b8_1f3fe":1,"1f9b8_1f3fe_200d_2640":1,"1f9b8_1f3fe_200d_2642":1,"1f9b8_1f3ff":1,"1f9b8_1f3ff_200d_2640":1,"1f9b8_1f3ff_200d_2642":1,"1f9b8_200d_2640":1,"1f9b8_200d_2642":1,"1f9b9":1,"1f9b9_1f3fb":1,"1f9b9_1f3fb_200d_2640":1,"1f9b9_1f3fb_200d_2642":1,"1f9b9_1f3fc":1,"1f9b9_1f3fc_200d_2640":1,"1f9b9_1f3fc_200d_2642":1,"1f9b9_1f3fd":1,"1f9b9_1f3fd_200d_2640":1,"1f9b9_1f3fd_200d_2642":1,"1f9b9_1f3fe":1,"1f9b9_1f3fe_200d_2640":1,"1f9b9_1f3fe_200d_2642":1,"1f9b9_1f3ff":1,"1f9b9_1f3ff_200d_2640":1,"1f9b9_1f3ff_200d_2642":1,"1f9b9_200d_2640":1,"1f9b9_200d_2642":1,"1f9c1":1,"1f9c2":1,"1f9db_1f3fb":1,"1f9db_1f3fb_200d_2640":1,"1f9db_1f3fb_200d_2642":1,"1f9db_1f3fc":1,"1f9db_1f3fc_200d_2640":1,"1f9db_1f3fc_200d_2642":1,"1f9db_1f3fd":1,"1f9db_1f3fd_200d_2640":1,"1f9db_1f3fd_200d_2642":1,"1f9db_1f3fe":1,"1f9db_1f3fe_200d_2640":1,"1f9db_1f3fe_200d_2642":1,"1f9db_1f3ff":1,"1f9db_1f3ff_200d_2640":1,"1f9db_1f3ff_200d_2642":1,"1f9e7":1,"1f9e8":1,"1f9e9":1,"1f9ea":1,"1f9eb":1,"1f9ec":1,"1f9ed":1,"1f9ee":1,"1f9ef":1,"1f9f0":1,"1f9f1":1,"1f9f2":1,"1f9f3":1,"1f9f4":1,"1f9f5":1,"1f9f6":1,"1f9f7":1,"1f9f8":1,"1f9f9":1,"1f9fa":1,"1f9fb":1,"1f9fc":1,"1f9fd":1,"1f9fe":1,"1f9ff":1,"265f":1,"267e":1});e.exports=a}),null);
__d("SupportedEmojiExtended",[],(function(a,b,c,d,e,f){a={FACE_WITH_COLON_THREE:1,LIKE:1,PACMAN:1};e.exports=a}),null);
__d("FBEmojiResource",["EmojiImageURL","EmojiRenderer","FBEmojiStyle","FBEmojiUtils","SupportedEmoji3","SupportedEmojiExtended","SupportedFacebookEmoji","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){a=b("FBEmojiUtils").normalizeKey(a);return b("SupportedFacebookEmoji")[a]||b("SupportedEmoji3")[a]?a:null}function h(a){var c=b("gkx")("761432"),d=b("gkx")("761433");if(c&&b("SupportedEmoji3")[a])return b("FBEmojiStyle").EMOJI_3;else if(b("SupportedFacebookEmoji")[a])return b("FBEmojiStyle").FB_EMOJI;else if(d&&b("SupportedEmoji3")[a])return b("FBEmojiStyle").EMOJI_3;else return null}function i(a){this.$1=a}i.prototype.getImageURL=function(a){var c=this.$1;if(b("SupportedEmojiExtended")[c])return b("EmojiImageURL").getFBEmojiExtendedURL(c,a);var d=h(c);switch(d){case b("FBEmojiStyle").EMOJI_3:return b("EmojiImageURL").getEmoji3URL(c,a);case b("FBEmojiStyle").FB_EMOJI:return b("EmojiImageURL").getFBEmojiURL(c,a)}return null};i.firstFromText=function(a){a=b("EmojiRenderer").parse(a);return a.length===0?null:i.fromCodepoints(a[0].emoji)};i.fromCodepoints=function(a){a=g(b("FBEmojiUtils").getKeyFromCodepoints(a));return a==null?null:new i(a)};e.exports=i}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("MessengerHotlikeEmoji.re",["MessengerHotlikeEmoji.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotlikeEmoji.bs").isMessengerHotlike;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){a={decode:function(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}},encode:function(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}};e.exports=a}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=String(a);while(f){a=b("ifRequired")("MessengerSupportedEmojiUtils",function(a){return a.getEmojiMatchObj(f)},function(){return b("MessengerSupportedEmoji").getEmojiMatchObj(f)});if(a){var g=a.offset+a.length,h=f.substr(0,a.is_supported?a.offset:g);d(h);a.is_supported&&c(a.emoji_str,a.emoji_key,e);h=f.substr(g);f=h}else break}d(f)}e.exports=a}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f,g,h;a=String(a);while(a){g=b("EmoticonEmojiList").regexp.exec(a);if(g)f=g.index+g[1].length,h=a.substr(0,f),g=g[2],f=a.substr(f+g.length),d(h),c(g,b("EmoticonEmojiList").names[g],e),a=f;else break}d(a)}e.exports=a}),null);
__d("MessengerTextWithEmoticons.react",["cx","fbt","BaseTextWithDecoration.react","EmojiImageURL","EmoticonEmojiList","FBEmojiResource","FBEmojiUtils","Image.react","MessengerHotlikeEmoji.re","React","messengerIterateEmoji","messengerIterateEmoticons"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;function j(a,c,d,e){var f=e===!0?128:16;a=!a&&!b("MessengerHotlikeEmoji.re").isMessengerHotlike(d)?new(b("FBEmojiResource"))(b("FBEmojiUtils").resolveAliasFromKey(d)||d).getImageURL(f):b("EmojiImageURL").getMessengerURL(d,f);d=e===!0?"_1ift _5m3a":"_1ift _2560";return b("React").createElement(b("Image.react"),{alt:c,className:d,src:a})}function k(a,c,d){var e=d===!0?128:16,f=b("EmoticonEmojiList").emote2emojis[c],g=f?b("MessengerHotlikeEmoji.re").isMessengerHotlike(f)?b("EmojiImageURL").getMessengerURL(f,e):new(b("FBEmojiResource"))(f).getImageURL(e):null;if(g!=null&&g!==""){f=String.fromCodePoint(parseInt(f,e));e=d===!0?"_1ift _5m3a":"_1ift _2560";return b("React").createElement(b("Image.react"),{alt:f,className:e,src:g})}d=h._("{emoticonName} emoticon",[h._param("emoticonName",c)]);return b("React").createElement("span",{"aria-label":d},a)}function l(a,b,c){return function(d,e,f){var g=function(c,d,a){e(b(c,d,a))};a(String(d),g,f,c)}}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.shouldComponentUpdate=function(a){return a.text!==this.props.text};a.prototype.render=function(){var a=[l(b("messengerIterateEmoji"),j.bind(null,!!this.props.forceMessengerEmoji),this.props.customSize),l(b("messengerIterateEmoticons"),k,this.props.customSize)];return b("React").createElement(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},this.props,{text:this.props.text,decorators:a}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("MessengerTextWithEntities.react",["BaseTextWithEntities.react","Link.react","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){if(this.props.renderEmoticons||this.props.renderEmoji)return b("React").createElement(b("MessengerTextWithEmoticons.react"),{text:a,customSize:this.props.customSize,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji});else return h(a)}.bind(this),this.$2=function(a,c){if(this.props.interpolator)return this.props.interpolator(a,c);else return b("React").createElement(b("Link.react"),{href:c.entity},a)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$1}))};e.exports=a}),null);
__d("AbstractFBEmoji.react",["cx","Image.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.size,e=a.src;a=a.title;d={height:d,width:d,fontSize:d,backgroundImage:"url('"+e+"')"};return b("React").createElement("span",{className:"_5mfr",title:a},b("React").createElement("span",{style:d,className:"_6qdm"},c))};e.exports=a}),null);
__d("FBEmoji.react",["cx","AbstractFBEmoji.react","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.codepoints;a=a.size;var d=c.join("");c=b("FBEmojiResource").fromCodepoints(c);c=c!=null?c.getImageURL(a):null;return c==null?b("React").createElement("span",{className:"_4ay8"+(a===16?" _3kkw":"")+(a===18?" _366d":"")+(a===20?" _366e":"")+(a===24?" _48cb":"")+(a===28?" _5-0n":"")+(a===30?" _5-0o":"")+(a===32?" _5-0p":"")+(a===36?" _2oah":"")+(a===56?" _4352":"")+(a===112?" _435o":"")},d):b("React").createElement(b("AbstractFBEmoji.react"),{size:a,src:c},d)};e.exports=a}),null);
__d("EmoticonsList",[],(function(a,b,c,d,e,f){e.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","8-)":"glasses","B-)":"glasses","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",flushkiss:"-3-",frown:":(",gasp:":o",glasses:"8-)",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",tongue:":P",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",glasses:"1f913",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",tongue:"1f61b",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||\(n\)(?!\))|\(N\)(?!\))|:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||\(n\)(?!\))|\(N\)(?!\))|:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("FBEmoticon.react",["fbt","AbstractFBEmoji.react","EmoticonsList","FBEmojiResource","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.emoticon,d=a.name;a=a.size;var e=b("EmoticonsList").emoji[d];if(!e)return b("React").createElement("span",null,c);e=new(b("FBEmojiResource"))(e);e=e.getImageURL(a);if(e==null)return b("React").createElement("span",null,c);d=g._("{emoticonName} emoticon",[g._param("emoticonName",d)]);return b("React").createElement(b("AbstractFBEmoji.react"),{size:a,src:e,title:d},c)};e.exports=a}),null);
__d("iterateEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){var e=0,f=b("EmojiRenderer").parse(a);f.forEach(function(b){var f=b.offset;f>e&&d(a.substr(e,f-e));c(b.emoji);e=f+b.length});d(a.substr(e,a.length-e))}e.exports=a}),null);
__d("iterateEmoticons",["EmoticonsList"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){var e,f,g;a=a;while(a){f=b("EmoticonsList").regexp.exec(a);if(f)e=f.index+f[1].length,g=a.substr(0,e),f=f[2],e=a.substr(e+f.length),d(g),c(f,b("EmoticonsList").emotes[f]),a=e;else break}d(a)}e.exports=a}),null);
__d("MemoizationInstrumentation",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a={inject:function(a){h==null||g(0,2221),h=a},onFunctionCall:function(a,b){return h?h.functionCall(a,b):null}};e.exports=a}),null);
__d("TextWithEmoticons.react",["BaseTextWithDecoration.react","FBEmoji.react","FBEmoticon.react","React","iterateEmoji","iterateEmoticons","memoizeWithArgs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a,c){return b("React").createElement(b("FBEmoji.react"),{codepoints:a,size:c})}function i(a,c,d){return b("React").createElement(b("FBEmoticon.react"),{emoticon:a,name:c,size:d})}function j(a){return function(c,d,e){b("iterateEmoji")(c,function(b){return d(h(b,a))},e)}}function k(a){return function(c,d,e){b("iterateEmoticons")(c,function(b,c){return d(i(b,c,a))},e)}}var l=b("memoizeWithArgs")(function(a,b,c){if(a&&b)return[j(c),k(c)];else if(b)return[k(c)];else return[j(c)]},function(a,b,c){return a.toString()+"_"+b.toString()+"_"+c});g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.shouldComponentUpdate=function(a){return a.text!==this.props.text||a.size!==this.props.size};a.prototype.render=function(){var a=this.props,c=a.text;a=babelHelpers.objectWithoutPropertiesLoose(a,["text"]);if(typeof c==="string")return this.props.isWhitespace?b("React").createElement("span",{className:"whitespace"},c):b("React").createElement(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},a,{text:c,decorators:[].concat(l(this.props.renderEmoji,this.props.renderEmoticons,this.props.size),this.props.decorators)}));else return b("React").createElement("span",null,c)};function a(){g.apply(this,arguments)}a.defaultProps={renderEmoji:!0,renderEmoticons:!0,size:16,decorators:[]};e.exports=a}),null);
__d("TextWithEntities.react",["BaseTextWithEntities.react","Link.react","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){if(this.props.renderEmoticons||this.props.renderEmoji){var c=a.trim();return b("React").createElement(b("TextWithEmoticons.react"),{isWhitespace:c.length===0,text:a,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji,size:this.props.showEmojisStandalone?32:16})}else return h(a)}.bind(this),this.$2=function(a,c){if(this.props.interpolator)return this.props.interpolator(a,c);else if(c.entity&&c.entity.url!==void 0&&c.entity.url!==null)return b("React").createElement(b("Link.react"),{href:c.entity},a);else if(c.entity&&c.entity.url===void 0)return b("React").createElement(b("Link.react"),{href:c.entity},a);else return a}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{textRenderer:this.$1,rangeRenderer:this.$2,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,metaRanges:this.props.metaRanges,textDelightRanges:this.props.textDelightRanges,text:this.props.text}))};e.exports=a}),null);
__d("HelpLink.react",["fbt","React","TooltipLink.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("TooltipLink.react"),babelHelpers["extends"]({"aria-label":this.props.label},this.props,{className:b("joinClasses")(this.props.className,"uiHelpLink mls")}),void 0)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={href:"#",label:g._("Help")};e.exports=a}),null);
__d("ReactBrowserEventEmitter_DO_NOT_USE",["ReactDOM-fb"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOM-fb").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.exports=a.ReactBrowserEventEmitter}),null);
__d("ReactLayerCommon",["invariant","React","ReactBrowserEventEmitter_DO_NOT_USE","ReactDOM","SubscriptionsHandler","emptyFunction","warning"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=function(a){a.isPropagationStopped=b("emptyFunction").thatReturnsTrue};h=babelHelpers.inherits(j,b("React").Component);h&&h.prototype;j.prototype.render=function(){return b("React").createElement("div",{onClick:i,onBlur:i,onDoubleClick:i,onFocus:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onMouseDown:i,onMouseMove:i,onMouseUp:i},this.props.children)};function j(){h.apply(this,arguments)}var k={makeInitialSubscriptions:function(a,c,d){var e=new(b("SubscriptionsHandler"))();c.onToggle&&(k.layerSubscribe(a,e,"show",function(){return c.onToggle(!0)},d),k.layerSubscribe(a,e,"hide",function(){return c.onToggle(!1)},d));c.onBlur&&k.layerSubscribe(a,e,"blur",function(a,b){return c.onBlur(b)},d);c.onHide&&k.layerSubscribe(a,e,"runhide",function(a,b){return c.includeHideSource?c.onHide(b):c.onHide()},d);return e},layerSubscribe:function(a,c,d,e,f){f=a.subscribe||a.addListener;c.addSubscriptions(f.call(a,d,function(a,c){var d=b("ReactBrowserEventEmitter_DO_NOT_USE").isEnabled();d&&e(a,c)}))},render:function(a,c){a=b("ReactDOM").createPortal(b("React").createElement(j,null,a),c);a===void 0&&b("ReactDOM").createPortal._isMockFunction&&(a=null);return a},diffBehaviors:function(a,b,c){__p&&__p();var d;for(d in a)a[d]&&!b[d]&&c.disableBehavior(a[d]);for(d in b){var e=a[d],f=b[d];if(e&&f){e===f||g(0,120,d);continue}e&&c.disableBehavior(e);f&&c.enableBehavior(f)}}};e.exports=k}),null);
__d("ReactLayer",["invariant","React","ReactDOM","ReactLayerCommon","emptyFunction","getObjectValues"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=!1;var h={componentDidMount:function(){this.layer=this.createLayer(this._layerContainer),this.layer||g(0,2397),this.layerSubscriptions=b("ReactLayerCommon").makeInitialSubscriptions(this.layer,this.props,this._stackDEVTemporaryDoNotUse||null),this._resetBehaviors()},componentDidUpdate:function(a){this.receiveProps(this.props,a)},componentWillUnmount:function(){this._layerContainer=null,this.layerSubscriptions&&(this.layerSubscriptions.release(),this.layerSubscriptions=null),this.layer&&(this.layer.destroy(),this.layer=null)},_createLayerContainer:function(){this._layerContainer==null&&(this._layerContainer=document.createElement("div"))},render:function(){this._createLayerContainer();return b("ReactLayerCommon").render(this.props.children,this._layerContainer)},enumerateBehaviors:function(a){a=this.getEffectiveBehaviors(a);return b("getObjectValues")(a).filter(b("emptyFunction").thatReturnsArgument)},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors)},updateBehaviors:function(a,b){this._diffBehaviors(a,b)},_diffBehaviors:function(a,c){a=this.getEffectiveBehaviors(a),c=this.getEffectiveBehaviors(c),b("ReactLayerCommon").diffBehaviors(a,c,this.layer)},getEffectiveBehaviors:function(a){return!this.getDefaultEnabledBehaviors?a||{}:babelHelpers["extends"]({},this.getDefaultEnabledBehaviors(),a)},layerSubscribe:function(a,c){b("ReactLayerCommon").layerSubscribe(this.layer,this.layerSubscriptions,a,c,this._stackDEVTemporaryDoNotUse||null)}};c={createClass:function(a){return b("React").createClass({mixins:[h,a]})}};e.exports=c}),null);
__d("ContextualLayer.react",["ContextualLayer","React","ReactBrowserEventEmitter_DO_NOT_USE","ReactDOM","ReactLayer","Style","warning"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=b("ReactLayer").createClass({propTypes:{contextRef:a.func,context:function(a,c,d){if(a.context==null==(a.contextRef==null))return new Error("Exactly one of `context` or `contextRef` must be set on `"+(d+"`."));a=a[c];if(a!=null){if(typeof a!=="object")return new Error("Invalid `"+c+"` supplied to `"+d+"`, expected a React component.");if(b("React").isValidElement(a))return new Error("Invalid `"+c+"` supplied to `"+d+"`, expected a React component instance. You're passing a React descriptor.")}}},immutableProps:{modal:null},createLayer:function(a){__p&&__p();var c=this._getContextNode(),d={context:c,contextBounds:this.props.contextBounds,"data-testid":this.props["data-testid"],position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties,isStrictlyControlled:this.props.isStrictlyControlled};d=new(b("ContextualLayer"))(d,a);this._node=a;this._matchContextSize(this.props);this.props.contextBounds&&d.setContextWithBounds(c,this.props.contextBounds);this._resizeSubscription=d.subscribe("resize",function(a,c){a=b("ReactBrowserEventEmitter_DO_NOT_USE").isEnabled();a&&(this.props.onResize&&this.props.onResize(c))}.bind(this));d.conditionShow(this.props.shown);return d},componentWillUnmount:function(){this._resizeSubscription&&(this._resizeSubscription.unsubscribe(),this._resizeSubscription=null)},receiveProps:function(a,b){this.updateBehaviors(b.behaviors,a.behaviors);b=this._getContextNode();a.contextBounds?this.layer.setContextWithBounds(b,a.contextBounds):this.layer.setContext(b);this._matchContextSize(a);this.layer.setPosition(a.position);this.layer.setAlignment(a.alignment);this.layer.setOffsetX(a.offsetX);this.layer.setOffsetY(a.offsetY);this.layer.conditionShow(a.shown)},getDefaultEnabledBehaviors:function(){return b("ContextualLayer").getDefaultBehaviorsAsObject()},_getContextNode:function(){var a;this.props.context?a=b("ReactDOM").findDOMNode(this.props.context):this.props.contextRef&&(a=b("ReactDOM").findDOMNode(this.props.contextRef()));return a},_matchContextSize:function(a){var c=this._node,d=this._getContextNode();a.containerWidthMatchContext&&b("Style").set(c,"width",d.offsetWidth+"px");a.containerHeightMatchContext&&b("Style").set(c,"height",d.offsetHeight+"px")}});e.exports=c}),null);
__d("abstractMethod",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){g(0,1537,a,b)}e.exports=a}),null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","ContextualDialogKeepInViewport","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React").PropTypes;a={createSpec:function(a){__p&&__p();return{displayName:a.displayName,propTypes:{position:g.oneOf(["above","below","left","right"]),alignment:g.oneOf(["left","center","right"]),offsetX:g.number,offsetY:g.number,width:g.number,autoFocus:g.bool,focusContextOnHide:g.bool,arrowBehavior:g.func,behaviors:g.object,shown:g.bool,context:g.object,contextRef:g.func,dialogRole:g.oneOf(["dialog","region","alert"]),hoverContext:g.object,hoverContextRef:g.func,hoverShowDelay:g.number,hoverHideDelay:g.number,hideOnBlur:g.bool,hideOnEscape:g.bool,insertParent:g.object,keepInViewport:g.bool,label:g.node,labelledBy:g.string,onBeforeHide:g.func,onToggle:g.func,hasActionableContext:g.bool,"data-testid":g.string},immutableProps:{modal:null},createLayer:function(c){__p&&__p();var d=this.props.context||b("ReactDOM").findDOMNode(this.props.contextRef()),e=this.props.hoverContext||this.props.hoverContextRef&&b("ReactDOM").findDOMNode(this.props.hoverContextRef());this.isHoverContextSet=e!=null;e=babelHelpers["extends"]({context:d,hoverContext:e,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,dialogRole:this.props.dialogRole,label:this.props.label,labelledBy:this.props.labelledBy,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||b("ContextualDialogArrow"),addedBehaviors:this.enumerateBehaviors(this.props.behaviors),"data-testid":this.props["data-testid"]},a||{});e=new(b("ContextualDialog"))(e,c);this.props.contextBounds&&e.setContextWithBounds(d,this.props.contextBounds);this.props.autoFocus!==!1&&e.enableBehavior(b("LayerAutoFocus"));this.props.hideOnBlur===!0&&e.enableBehavior(b("LayerHideOnBlur"));this.props.hideOnEscape===!0&&e.enableBehavior(b("LayerHideOnEscape"));this.props.focusContextOnHide===!1&&e.disableBehavior(b("LayerRefocusOnHide"));this.props.keepInViewport===!1&&e.disableBehavior(b("ContextualDialogKeepInViewport"));this.props.onBeforeHide&&e.subscribe("beforehide",this.props.onBeforeHide);this.props.insertParent&&e.setInsertParent(this.props.insertParent);e.conditionShow(this.props.shown);return e},receiveProps:function(a,c){this.updateBehaviors(c.behaviors,a.behaviors);var d=a.context||a.contextRef&&b("ReactDOM").findDOMNode(a.contextRef());d&&(a.contextBounds?this.layer.setContextWithBounds(d,a.contextBounds):this.layer.setContext(d));c.hideOnEscape!==a.hideOnEscape&&(a.hideOnEscape?this.layer.enableBehavior(b("LayerHideOnEscape")):this.layer.disableBehavior(b("LayerHideOnEscape")));this.layer.setPosition(a.position).setAlignment(a.alignment).setOffsetX(a.offsetX).setOffsetY(a.offsetY).setWidth(a.width);(!this.isHoverContextSet||a.shown!==void 0)&&this.layer.conditionShow(a.shown)}}}};e.exports=a}),null);
__d("ScrollableArea.react",["cx","Bootloader","React","ReactDOM","ScrollBoundaryContain","Style","SubscriptionsHandler","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i="uiScrollableArea native",j="uiScrollableAreaWrap scrollable",k="uiScrollableAreaBody",l="uiScrollableAreaContent";d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.$4=function(a){if(this.$2)return;this.$1=a.fromNative(b("ReactDOM").findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===void 0?!0:this.props.shadow,tabIndex:this.props.tabIndex});this.$5();(this.props.onScroll||this.props.onEndReached||this.props.onTopReached)&&this.$1&&this.$1.subscribe("scroll",this.$6)}.bind(this),this.$6=function(){this.props.onScroll&&this.props.onScroll(),this.$1&&this.$1.isScrolledToBottom()?this.props.onEndReached&&this.props.onEndReached():this.$1&&this.$1.isScrolledToTop()&&(this.props.onTopReached&&this.props.onTopReached())}.bind(this),this.$3=new(b("SubscriptionsHandler"))()}a.prototype.render=function(){var a={height:this.props.height},c=Object.assign({},this.props);delete c.maxHeight;delete c.fade;delete c.persistent;delete c.contain;return b("React").createElement("div",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,i),ref:"root",role:this.props.role,style:babelHelpers["extends"]({},this.props.style||{},a)}),b("React").createElement("div",{className:j,ref:"wrap",role:this.props.role,style:{maxHeight:this.props.maxHeight}},b("React").createElement("div",{className:k,ref:"body",role:this.props.role},b("React").createElement("div",{className:l,role:this.props.contentRole||this.props.role},this.props.children))))};a.prototype.getArea=function(){return this.$1};a.prototype.componentDidMount=function(){b("Bootloader").loadModules(["ScrollableArea"],this.$4,"ScrollableArea.react");var a=b("ReactDOM").findDOMNode(this.refs.wrap);if(a&&this.props.contain){a=b("ScrollBoundaryContain").applyToElem(a);a&&this.$3.addSubscriptions(a)}};a.prototype.componentDidUpdate=function(a){a.width!==this.props.width&&this.$5();a=this.getArea();a&&a.throttledAdjustGripper()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2=!0,this.$3.release()};a.prototype.$5=function(){var a=b("ReactDOM").findDOMNode(this.refs.body);b("Style").set(a,"width",this.props.width+"px")};a.propTypes={width:c.number,height:c.oneOfType([c.number,c.string]),maxHeight:c.oneOfType([c.number,c.string]),onScroll:c.func,onEndReached:c.func,onTopReached:c.func,shadow:c.bool,fade:c.bool,persistent:c.bool,role:c.string,contentRole:c.string,contain:c.bool};a.defaultProps={contain:!0};e.exports=a}),null);
__d("ContextualDialogXUITheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_53ii",arrowDimensions:{offset:12,length:16}};e.exports=a}),null);
__d("XUIContextualDialogBody.react",["React"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:this.props.className},this.props.children)};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("XUIContextualDialogFooter.react",["cx","React","XUIOverlayFooter.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIOverlayFooter.react"),{className:"_572u"},this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUIContextualDialogTitle.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.use;a=b("joinClasses")("_47lu"+(a==="primary"?" _47lv":"")+(a==="secondary"?" _47mc":""),this.props.className);return b("React").createElement("h3",{className:a,id:this.props.id},this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={use:"primary"};e.exports=a}),null);
__d("XUIContextualDialog.react",["cx","fbt","ContextualDialogXUITheme","React","ReactAbstractContextualDialog","ReactLayer","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"ReactXUIContextualDialog",theme:b("ContextualDialogXUITheme")}));c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){"use strict";i.constructor.call(this),this.updatePosition=function(){var a=this.refs.dialog;a&&a.layer.updatePosition()}.bind(this),this.$1=this.$1||b("uniqueID")()}a.prototype.$2=function(){"use strict";return this.$3(b("XUIContextualDialogBody.react"))};a.prototype.$4=function(){"use strict";return this.$3(b("XUIContextualDialogTitle.react"))};a.prototype.$5=function(){"use strict";return this.$3(b("XUIContextualDialogFooter.react"))};a.prototype.$3=function(a){"use strict";var c=null;b("React").Children.forEach(this.props.children,function(b){!c&&b&&b.type===a&&(c=b)});return c};a.prototype.$6=function(){"use strict";return h._("Dialog content")};a.prototype.render=function(){"use strict";var a=this.props.children,c=this.$2(),d=this.$4(),e={};this.props.labelledBy?e.labelledBy=this.props.labelledBy:this.props.label?e.label=this.props.label:d?(d=b("React").cloneElement(d,{id:this.$1}),e.labelledBy=this.$1):e.label=this.$6();c&&(a=b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_53iv")},d,c));return b("React").createElement(j,babelHelpers["extends"]({},this.props,e,{ref:"dialog"}),a,c?this.$5():null)};a.WIDTH={NORMAL:312,WIDE:400};a.defaultProps={dialogRole:"dialog",hasActionableContext:!1,hideOnEscape:!0};e.exports=a}),null);
__d("XUIDialogButton.react",["cx","React","XUIButton.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.action,c=(a==="confirm"?"layerConfirm":"")+(a==="cancel"?" layerCancel":"")+(a==="button"?" layerButton":""),d=this.props.href;a==="cancel"?d="#":a==="button"&&((d==null||d==="")&&(d="#"));return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,c),href:d,role:"button"}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUIDialogCancelButton.react",["fbt","React","XUIDialogButton.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{action:"cancel",label:g._("Cancel")}))};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XUIDialogOkayButton.react",["cx","fbt","React","XUIDialogButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIDialogButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_2z1w"),action:this.props.action,label:h._("OK")}))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={action:c.oneOf(["confirm","cancel","button"]).isRequired};e.exports=a}),null);
__d("LayerAutoFocusReact",["focusWithinLayer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this._layer=a,this._subscription=null}a.prototype.enable=function(){this._layer.containsReactComponent&&(this._subscription=this._layer.subscribe("reactshow",this._focus.bind(this)))};a.prototype.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)};a.prototype._focus=function(){var a=this._layer.getRoot();a&&b("focusWithinLayer")(a)};e.exports=a}),null);
__d("XUIDialogBody.react",["cx","React","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a="_4-i2"+(this.props.useCustomPadding?"":" _pig");return b("React").createElement(b("XUIText.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,a),display:"block",size:this.props.fontSize}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.defaultProps={fontSize:"medium"};e.exports=a}),null);
__d("XUIDialogFooter.react",["cx","LeftRight.react","React","XUIOverlayFooter.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a="_5a8u"+(this.props.fullBleedBorder?" _27qq":""),c=this.props,d=c.children,e=c.leftContent;c=babelHelpers.objectWithoutPropertiesLoose(c,["children","leftContent"]);return b("React").createElement(b("XUIOverlayFooter.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,a)}),b("React").createElement(b("XUIText.react"),{display:"block",fontSize:this.props.fontSize},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null,e),b("React").createElement("div",null,d))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={fontSize:c.oneOf(["medium","inherit"]),fullBleedBorder:c.bool,leftContent:c.object};a.defaultProps={fontSize:"medium"};e.exports=a}),null);
__d("XUIDialogTitle.react",["cx","fbt","LeftRight.react","React","XUICloseButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";var a=null,c=this.props,d=c.closeButtonText,e=c.showCloseButton;c=babelHelpers.objectWithoutPropertiesLoose(c,["closeButtonText","showCloseButton"]);e&&(a=b("React").createElement(b("XUICloseButton.react"),{"data-testid":"dialog_title_close_button",label:d,className:"layerCancel _51-t"}));d=b("React").Children.toArray(this.props.children);return b("React").createElement("div",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"_4-i0"+(e?" _2gb3":""))}),b("React").createElement(b("LeftRight.react"),null,b("React").createElement("h3",{className:"_52c9","data-hover":"tooltip","data-tooltip-display":"overflow"},d[0]),b("React").createElement("div",{className:"_51-u"},d.slice(1),a)))};function a(){"use strict";i.apply(this,arguments)}a.defaultProps={closeButtonText:h._("Close"),showCloseButton:!0};e.exports=a}),null);
__d("SimpleXUIDialog",["cx","DialogX","LayerAutoFocusReact","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=445;a={show:function(a,c,d,e){var f=b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm"});return this.showEx(a,c,f,d,e)},showConfirm:function(a,c,d,e){var f=!1,g=b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",className:e&&e.autofocusConfirm?"autofocus":"",use:"confirm",onClick:function(){f=!0}});e&&e.confirmBtnTxt&&(g=b("React").createElement(b("XUIDialogButton.react"),{className:b("joinClasses")(e&&e.autofocusConfirm?"autofocus":"","_2z1w"),action:"cancel",use:"confirm",label:e.confirmBtnTxt,onClick:function(){f=!0}}));g=b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:function(){f=!1}}),g);function h(){d&&d(f)}return this.showEx(a,c,g,h,e)},showEx:function(a,c,d,e,f){__p&&__p();f=f||{};var g=[b("LayerDestroyOnHide"),b("LayerFadeOnShow"),b("LayerFadeOnHide"),b("LayerHideOnEscape"),b("LayerRefocusOnHide")];f.hideOnBlur!==!1&&g.push(b("LayerHideOnBlur"));f.useReactFocusBehavior&&g.push(b("LayerAutoFocusReact"));g={width:f.width||h,xui:!0,addedBehaviors:g,causalElement:f.causalElement};if(c){var i=b("uniqueID")();g.titleID=i;c=b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:f.showCloseButton!==!1,id:i},c)}d&&(d=b("React").createElement(b("XUIDialogFooter.react"),{"data-testid":"simple_xui_dialog_footer",leftContent:f.leftContent},d));i=b("React").createElement("div",null,c,b("React").createElement(b("XUIDialogBody.react"),null,a),d);f=new(b("DialogX"))(g,i);e&&f.subscribe("hide",e);f.show();return f}};e.exports=a}),null);
__d("MessengerObjectAssociationType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({REGULAR_CHAT:null,GENERAL_CHAT:null})}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f){__p&&__p();a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway"});c=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"});d=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"});f=b("keyMirror")({SCREEN:null,CAMERA:null});var g=Object.freeze({LL_NONE:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5}),h=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"}),i=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"}),j=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30}),k=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20}),l=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout"],m=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",UNKNOWN:"CollabUnknown"}),n=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10}),o=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});b=b("keyMirror")({AUDIO:null,VIDEO:null});var p=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"}),q=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"}),r=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"});o={CallBlockingConstants:o,CallEndReason:k,CallType:d,ChildWindowMessageType:c,CollabCallEndSubreason:m,GroupVideoViewLayout:q,IncomingCallDialogTypes:b,Orientation:r,PayloadType:a,RTCConstraints:j,SignalingProtocol:p,StreamType:h,UIEventType:n,UploadLogLevel:g,VideoQuality:i,MediaContentTypes:f,convertFromUploadLogLevel:function(a){switch(a){case g.LL_DEBUG:return"d";case g.LL_BASIC:return"b";case g.LL_WARNING:return"w";case g.LL_INFO:return"i";case g.LL_VERBOSE:return"v";case g.LL_NONE:default:return null}},convertToUploadLogLevel:function(a){switch(a){case"d":return g.LL_DEBUG;case"b":return g.LL_BASIC;case"w":return g.LL_WARNING;case"i":return g.LL_INFO;case"v":return g.LL_VERBOSE;default:return g.LL_NONE}},uploadLogLevelString:function(a){switch(a){case g.LL_BASIC:return"basic";case g.LL_DEBUG:return"debug";case g.LL_WARNING:return"warning";case g.LL_INFO:return"info";case g.LL_VERBOSE:return"verbose";default:return""}},endCallReasonFromString:function(a){return l.indexOf(a)},callEndReasonString:function(a){a=l[a];return!a?"Unknown":a},fullCallEndReasonString:function(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}};e.exports=o}),null);
__d("FBRTCIceStatsParser",[],(function(a,b,c,d,e,f){__p&&__p();var g=null;h.getInstance=function(){"use strict";g||(g=new h());return g};h.prototype.extractIceInfo=function(a){"use strict";var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};h.prototype.$1=function(a){"use strict";return a.indexOf("candidate:")>-1};h.prototype.$2=function(a){"use strict";var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};h.prototype.$3=function(a){"use strict";a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};function h(){"use strict"}e.exports=h}),null);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBRTCConstants").UploadLogLevel,h={getUploadLogLevel:function(a){return Math.max(h.getLocalUploadLogLevel(),a)},getLocalUploadLogLevel:function(){return b("CurrentUser").isEmployee()?g.LL_DEBUG:g.LL_NONE}};e.exports=h}),null);
__d("IntlDateStringsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:IntlDateStringsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:IntlDateStringsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IntlDateStringsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCldrKey=function(a){this.$1.cldr_key=a;return this};a.prototype.setCldrValue=function(a){this.$1.cldr_value=a;return this};a.prototype.setDatetimeFormat=function(a){this.$1.datetime_format=a;return this};a.prototype.setDatetimeInsideSentence=function(a){this.$1.datetime_inside_sentence=a;return this};a.prototype.setLoggedFromClient=function(a){this.$1.logged_from_client=a;return this};a.prototype.setTargetLocale=function(a){this.$1.target_locale=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={cldr_key:!0,cldr_value:!0,datetime_format:!0,datetime_inside_sentence:!0,logged_from_client:!0,target_locale:!0,time:!0,weight:!0};e.exports=a}),null);
__d("IntlDateCLDRCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DATE_FORMATS:"dateFormats",TIME_FORMATS:"timeFormats",DATE_TIME_FORMATS:"dateTimeFormats",AVAILABLE_FORMATS:"availableFormats"})}),null);
__d("IntlDateFormatsCLDRWidthEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FULL:"full",LONG:"long",MEDIUM:"medium",SHORT:"short"})}),null);
__d("getCLDRLocalizedFormat",["CLDRDateFormatConfig","FBLogger","IntlDateCLDRCategory","IntlDateFormatsCLDRWidthEnum","ex","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CLDRDateFormatConfig").CLDRConfigeratorFormats,h=b("CLDRDateFormatConfig").CLDRRegionalConfigeratorFormats,i=new Set(["date_short","dateTime_short_short","time_short","time_medium","j"]);function a(a){__p&&__p();if(a==null)throw new Error(b("ex")('Format: "%s", not supported by configurator.',a));var c,d,e=a.split("_"),f=e[0];e=e.slice(1);var l=f+"Formats";i.has(a)?d=h:d=g;switch(l){case b("IntlDateCLDRCategory").DATE_FORMATS:case b("IntlDateCLDRCategory").TIME_FORMATS:var m=j(e[0]);if(m==null)throw new Error(b("ex")('Format: "%s", category: "%s", with unsupported width: "%s"',a,l,m));c=d[l][m];if(c==null)throw new Error(b("ex")('Format: "%s", category: "%s", width: "%s", with unsupported localization',a,l,m));break;case b("IntlDateCLDRCategory").DATE_TIME_FORMATS:m=j(e[0]);e=j(e[1]);if(m==null||e==null)throw new Error(b("ex")('Format: "%s", category: "%s", with unsupported width: "%s" or "%s"',a,l,m,e));c=d[l][m];var n=d.dateFormats[m],o=d.timeFormats[e];if(c==null)throw new Error(b("ex")('Format: "%s", category: "%s", date width: "%s", and time width: "%s", with unsupported localization',a,l,m,e));c=c.replace("{0}",o).replace("{1}",n);break;default:l=b("IntlDateCLDRCategory").AVAILABLE_FORMATS;m=f;m.includes("j")&&(m=k(m,d.timeFormats));c=d[l][m];if(c==null)throw new Error(b("ex")('Format: "%s", with key: "%s", not supported by CLDR',a,m))}return c}function j(a){return b("IntlDateFormatsCLDRWidthEnum")[b("nullthrows")(a,"Expected CLDR width key to not be null").toUpperCase()]}function k(a,c){var d;c=c["short"];c==null?(b("FBLogger")("formatDate").blameToPreviousFile().warn('CLDR `timeFormat`, width `short` required for 24 hour localization not found for availableKey: "%s"',a),d="h"):d=c.includes("H")?"H":"h";return a.replace("j",d)}e.exports=a}),null);
__d("intlGetDateNumerics",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b.utc===!0?b={dateDay:a.getUTCDate(),dateDayOfWeek:a.getUTCDay(),dateMonth:a.getUTCMonth(),dateYear:a.getUTCFullYear(),dateHours:a.getUTCHours(),dateMinutes:a.getUTCMinutes(),dateSeconds:a.getUTCSeconds(),dateMilliseconds:a.getUTCMilliseconds()}:b={dateDay:a.getDate(),dateDayOfWeek:a.getDay(),dateMonth:a.getMonth(),dateYear:a.getFullYear(),dateHours:a.getHours(),dateMinutes:a.getMinutes(),dateSeconds:a.getSeconds(),dateMilliseconds:a.getMilliseconds()};return b}e.exports=a}),null);
__d("DateStrings",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j,k,l,m,n,o,p,q={getWeekdayName:function(a){m||(m=[g._("Sunday"),g._("Monday"),g._("Tuesday"),g._("Wednesday"),g._("Thursday"),g._("Friday"),g._("Saturday")]);return m[a]},getUppercaseWeekdayName:function(a){o||(o=[g._("SUNDAY"),g._("MONDAY"),g._("TUESDAY"),g._("WEDNESDAY"),g._("THURSDAY"),g._("FRIDAY"),g._("SATURDAY")]);return o[a]},getWeekdayNameShort:function(a){n||(n=[g._("Sun"),g._("Mon"),g._("Tue"),g._("Wed"),g._("Thu"),g._("Fri"),g._("Sat")]);return n[a]},getUppercaseWeekdayNameShort:function(a){p||(p=[g._("SUN"),g._("MON"),g._("TUE"),g._("WED"),g._("THU"),g._("FRI"),g._("SAT")]);return p[a]},_initializeMonthNames:function(){h=[g._("January"),g._("February"),g._("March"),g._("April"),g._("May"),g._("June"),g._("July"),g._("August"),g._("September"),g._("October"),g._("November"),g._("December")]},getMonthName:function(a){h||q._initializeMonthNames();return h[a-1]},getMonthNames:function(){h||q._initializeMonthNames();return h.slice()},getUppercaseMonthName:function(a){k||(k=[g._("JANUARY"),g._("FEBRUARY"),g._("MARCH"),g._("APRIL"),g._("MAY"),g._("JUNE"),g._("JULY"),g._("AUGUST"),g._("SEPTEMBER"),g._("OCTOBER"),g._("NOVEMBER"),g._("DECEMBER")]);return k[a-1]},getMonthNameShort:function(a){i||(i=[g._("Jan"),g._("Feb"),g._("Mar"),g._("Apr"),g._("May"),g._("Jun"),g._("Jul"),g._("Aug"),g._("Sep"),g._("Oct"),g._("Nov"),g._("Dec")]);return i[a-1]},getUppercaseMonthNameShort:function(a){j||(j=[g._("JAN"),g._("FEB"),g._("MAR"),g._("APR"),g._("MAY"),g._("JUN"),g._("JUL"),g._("AUG"),g._("SEP"),g._("OCT"),g._("NOV"),g._("DEC")]);return j[a-1]},getOrdinalSuffix:function(a){l||(l=["",g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st"),g._("nd"),g._("rd"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("th"),g._("st")]);return l[a]},getDayOfMonth:function(a){__p&&__p();switch(a){case 1:return g._("1st");case 2:return g._("2nd");case 3:return g._("3rd");case 4:return g._("4th");case 5:return g._("5th");case 6:return g._("6th");case 7:return g._("7th");case 8:return g._("8th");case 9:return g._("9th");case 10:return g._("10th");case 11:return g._("11th");case 12:return g._("12th");case 13:return g._("13th");case 14:return g._("14th");case 15:return g._("15th");case 16:return g._("16th");case 17:return g._("17th");case 18:return g._("18th");case 19:return g._("19th");case 20:return g._("20th");case 21:return g._("21st");case 22:return g._("22nd");case 23:return g._("23rd");case 24:return g._("24th");case 25:return g._("25th");case 26:return g._("26th");case 27:return g._("27th");case 28:return g._("28th");case 29:return g._("29th");case 30:return g._("30th");case 31:return g._("31st");default:throw new Error("Invalid day of month.")}},getDayLabel:function(){return g._("Day:")},getMonthLabel:function(){return g._("Month:")},getYearLabel:function(){return g._("Year:")},getHourLabel:function(){return g._("Hour:")},getMinuteLabel:function(){return g._("Minute:")},getDayPlaceholder:function(){return g._("dd")},getMonthPlaceholder:function(){return g._("mm")},getYearPlaceholder:function(){return g._("yyyy")},getHourPlaceholder:function(){return g._("h")},getMinutePlaceholder:function(){return g._("m")},get12HourClockSuffix:function(a){return a<12?g._("am"):g._("pm")},getUppercase12HourClockSuffix:function(a){return a<12?g._("AM"):g._("PM")}};e.exports=q}),null);
__d("padNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.toString();return a.length>=b?a:"0".repeat(b-a.length)+a}e.exports=a}),null);
__d("intlRenderJSDateSymbol",["DateStrings","nullthrows","padNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();f===void 0&&(f=0);var g="";switch(c){case"\\":f++;g=b("nullthrows")(e,"Only deprecated calls to `intlRenderJSDateSymbol()` use `localizedJSFormat`.").charAt(f);break;case"d":g=b("padNumber")(a.dateDay,2);break;case"j":g=a.dateDay;break;case"S":g=b("DateStrings").getOrdinalSuffix(a.dateDay);break;case"D":g=b("DateStrings").getWeekdayNameShort(a.dateDayOfWeek);break;case"l":g=b("DateStrings").getWeekdayName(a.dateDayOfWeek);break;case"F":case"f":g=b("DateStrings").getMonthName(a.dateMonth+1);break;case"M":g=b("DateStrings").getMonthNameShort(a.dateMonth+1);break;case"m":g=b("padNumber")(a.dateMonth+1,2);break;case"n":g=a.dateMonth+1;break;case"Y":g=a.dateYear;break;case"y":g=(""+a.dateYear).slice(2);break;case"a":d.skipSuffixLocalization?g=a.dateHours<12?"am":"pm":g=b("DateStrings").get12HourClockSuffix(a.dateHours);break;case"A":d.skipSuffixLocalization?g=a.dateHours<12?"AM":"PM":g=b("DateStrings").getUppercase12HourClockSuffix(a.dateHours);break;case"g":a.dateHours===0||a.dateHours===12?g="12":g=a.dateHours%12;break;case"G":g=a.dateHours;break;case"h":a.dateHours===0||a.dateHours===12?g="12":g=b("padNumber")(a.dateHours%12,2);break;case"H":g=b("padNumber")(a.dateHours,2);break;case"i":g=b("padNumber")(a.dateMinutes,2);break;case"s":g=b("padNumber")(a.dateSeconds,2);break;case"X":g=b("padNumber")(a.dateMilliseconds,3);break;default:g=c}return{idx:f,rendered:String(g)}}e.exports=a}),null);
__d("intlRenderCLDRDate",["CLDRDateFormatConfig","ex","intlRenderJSDateSymbol"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/\w+/;function a(a,c,d){__p&&__p();var e=b("CLDRDateFormatConfig").intlDateSpecialChars,f="",g="",i=!1,j=[],k;a=a.split(e.cldrDelimiter+e.singleQuote).join(e.singleQuoteHolder);for(var l=0,m=a.length;l<m;l++){var n=a.charAt(l);!i?n===e.cldrDelimiter?i=!0:f.length===0||f[0]===n?f+=n:n===e.singleQuoteHolder?f+=e.singleQuote:(k=h(f,d,c),j.push(k.rendered),f=n):(f.length!==0&&(k=h(f,d,c),j.push(k.rendered),f=""),n===e.cldrDelimiter?(i=!1,j.push(g),g=""):n===e.singleQuoteHolder?g+=e.singleQuote:g+=n)}if(g.length!==0)throw new Error(b("ex")('Format: "%s" must contain closing str literal delimiter',a));f.length!==0&&(k=h(f,d,c),j.push(k.rendered));return j.join("")}function h(a,c,d){a=i(a);return b("intlRenderJSDateSymbol")(c,a,d)}function i(a){if(a in b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion)return b("CLDRDateFormatConfig").CLDRToPHPSymbolConversion[a];if(g.test(a))throw new Error(b("ex")('Unsupported CLDR symbol: "%s". If string literal, wrap in delimiters',a));return a}e.exports=a}),null);
__d("formatDate",["invariant","CLDRDateFormatConfig","CLDRDateRenderingClientRollout","DateFormatConfig","FBLogger","IntlDateStringsTypedLogger","Random","getCLDRLocalizedFormat","gkx","intlGetDateNumerics","intlRenderCLDRDate","intlRenderJSDateSymbol"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=Object.freeze({today:null,yesterday:null,thisWeek:null,thisMonth:null,thisYear:null,withinDay:null,withinWeek:null,withinMonth:null,withinYear:null,older:null,future:null,allOtherTimes:null});h.DEFAULT_FORMAT="M j, Y g:i A";h.periodNames=Object.freeze(Object.keys(a));function h(a,c,d){__p&&__p();d=d||{};if(!c||!a&&a!==0)return"";typeof a==="string"&&(a=parseInt(a,10));typeof a==="number"&&(a=new Date(a*1e3));a instanceof Date||g(0,214);isNaN(a.getTime())&&g(0,215);a.getTime()>=1e15&&b("FBLogger")("i18n-formatDate").blameToPreviousFile().info("The date passed to formatDate is too far in the future. Did you mix up milliseconds/seconds?");c=k(a,c);a=b("intlGetDateNumerics")(a,d);return i(c,a,d)}function i(a,c,d){__p&&__p();var e=a;if(!d.skipPatternLocalization&&(d.formatInternal||!n()))if(b("gkx")("676840")&&a in b("CLDRDateFormatConfig").supportedPHPFormatsKeys)try{var f=b("CLDRDateFormatConfig").supportedPHPFormatsKeys[a],h=b("getCLDRLocalizedFormat")(f);m(a,f,h);return b("intlRenderCLDRDate")(h,d,c)}catch(a){b("FBLogger")("i18n-formatDate").blameToPreviousFile().catching(a).mustfix("CLDR date format render error");if(d.throwCLDRError)throw a}else b("DateFormatConfig").formats[a]?(e=b("DateFormatConfig").formats[a],m(a)):a.length===1||g(0,216,a);return j(e,d,c)}function j(a,c,d){var e=[];for(var f=0;f<a.length;f++){var g=a.charAt(f);g=b("intlRenderJSDateSymbol")(d,g,c,a,f);e.push(g.rendered);f=g.idx}return e.join("")}function k(a,c){__p&&__p();var d=h.DEFAULT_FORMAT;if(typeof c==="string")return c;else if(typeof c==="object"){var e=a.getTime(),f=l();for(var g=0;g<f.length;g++){var i=f[g],j=c[i.name];if(j!=null&&i.start<=e&&e<i.end)return j}b("FBLogger")("i18n-formatDate").blameToPreviousFile().warn('Matching period not found for date "%s", using default: %s',a.getTime(),d);return d}else{b("FBLogger")("i18n-formatDate").blameToPreviousFile().warn('Called with invalid format "%s" (type: %s) for date "%s", using default: %s',c,typeof c,a.getTime(),d);return d}}function l(){var a=new Date(),c=a.getTime(),d=a.getFullYear(),e=a.getMonth(),f=new Date(d,a.getMonth()+1,0).getDate(),g=new Date(d,1,29).getMonth()===1?366:365,h=1e3*60*60*24,i=new Date(a.setHours(0,0,0,0)),j=new Date(d,e,i.getDate()+1);a=a.getDate()-(a.getDay()-b("DateFormatConfig").weekStart+6)%7;var k=new Date(c).setDate(a);a=new Date(c).setDate(a+7);var l=new Date(d,e,1);e=new Date(d,e,f+1);var m=new Date(d,0,1);d=new Date(d+1,0,1);return[{name:"today",start:i.getTime(),end:j.getTime()},{name:"withinDay",start:c-h,end:c+h},{name:"yesterday",start:i.getTime()-h,end:i.getTime()-1},{name:"thisWeek",start:k,end:a},{name:"withinWeek",start:c-h*7,end:c+h*7},{name:"thisMonth",start:l.getTime(),end:e.getTime()},{name:"withinMonth",start:c-h*f,end:c+h*f},{name:"thisYear",start:m.getTime(),end:d.getTime()},{name:"withinYear",start:c-h*g,end:c+h*g},{name:"older",start:-Infinity,end:c},{name:"future",start:c,end:+Infinity},{name:"allOtherTimes",start:-Infinity,end:+Infinity}]}function m(a,c,d){c===void 0&&(c=null),d===void 0&&(d=null),b("Random").random()<b("CLDRDateRenderingClientRollout").formatDateClientLoggerSamplingRate&&new(b("IntlDateStringsTypedLogger"))().setDatetimeFormat(a).setLoggedFromClient(!0).setCldrKey(c).setCldrValue(d).log()}function n(){var a;a=(a=window)!=null?(a=a.location)!=null?a.pathname:a:a;return a&&a.startsWith("/intern")||!1}e.exports=h}),null);
__d("FBRTCConsoleLogger",["Log","LogHistory","formatDate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;h.getInstance=function(){g||(g=new h());return g};function h(){this.$1=b("LogHistory").getInstance(h.MODULE_NAME)}h.prototype.getLogHistory=function(){return this.$1};h.prototype.log=function(a,b,c,d,e){d===void 0&&(d="Console");e===void 0&&(e="DEBUG");e=" "+JSON.stringify({conferenceName:b,callID:c});this.$1.log(d||"Console",a+e);return this};h.MODULE_NAME="webrtc";e.exports=h}),null);
__d("CacheStorage",["ErrorUtils","EventListener","ExecutionEnvironment","FBJSON","WebStorage","killswitch"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i="_@_",j="3b",k="CacheStorageVersion";function a(a){"use strict";this._store=a}a.prototype.getStore=function(){"use strict";return this._store};a.prototype.keys=function(){"use strict";var a=[];for(var b=0;b<this._store.length;b++)a.push(this._store.key(b));return a};a.prototype.get=function(a){"use strict";return this._store.getItem(a)};a.prototype.set=function(a,b){"use strict";this._store.setItem(a,b)};a.prototype.remove=function(a){"use strict";this._store.removeItem(a)};a.prototype.clear=function(){"use strict";this._store.clear()};a.prototype.clearWithPrefix=function(a){"use strict";a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};f=babelHelpers.inherits(c,a);g=f&&f.prototype;function c(){"use strict";g.constructor.call(this,b("WebStorage").getLocalStorage())}c.available=function(){"use strict";return!!b("WebStorage").getLocalStorage()};f=babelHelpers.inherits(d,a);h=f&&f.prototype;function d(){"use strict";h.constructor.call(this,b("WebStorage").getSessionStorage())}d.available=function(){"use strict";return!!b("WebStorage").getSessionStorage()};function l(){"use strict";this._store={}}l.prototype.getStore=function(){"use strict";return this._store};l.prototype.keys=function(){"use strict";return Object.keys(this._store)};l.prototype.get=function(a){"use strict";return this._store[a]===void 0?null:this._store[a]};l.prototype.set=function(a,b){"use strict";this._store[a]=b};l.prototype.remove=function(a){"use strict";a in this._store&&delete this._store[a]};l.prototype.clear=function(){"use strict";this._store={}};l.prototype.clearWithPrefix=function(a){"use strict";a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};l.available=function(){"use strict";return!0};var m={memory:l,localstorage:c,sessionstorage:d};function n(a,c){"use strict";__p&&__p();this._exceptionMessage=null;this._key_prefix=c||"_cs_";if(a=="AUTO"||!a)for(var d in m){c=m[d];if(c.available()){a=d;break}}a&&(!m[a]||!m[a].available()?(b("ExecutionEnvironment").canUseDOM,this._backend=new l()):this._backend=new m[a]());c=this.useBrowserStorage();c&&b("EventListener").listen(window,"storage",this._onBrowserValueChanged.bind(this));a=c?this._backend.getStore().getItem(k):this._backend.getStore()[k];a!==j&&(b("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}n.prototype.useBrowserStorage=function(){"use strict";return this._backend.getStore()===b("WebStorage").getLocalStorage()||this._backend.getStore()===b("WebStorage").getSessionStorage()};n.prototype.addValueChangeCallback=function(a){"use strict";this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(a);return{remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(a),1)}.bind(this)}};n.prototype._onBrowserValueChanged=function(a){"use strict";this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};n.prototype.keys=function(){"use strict";var a=[];b("ErrorUtils").guard(function(){if(this._backend){var b=this._backend.keys(),c=this._key_prefix.length;for(var d=0;d<b.length;d++)b[d].substr(0,c)==this._key_prefix&&a.push(b[d].substr(c))}}.bind(this),"CacheStorage")();return a};n.prototype.set=function(a,c,d){"use strict";__p&&__p();if(this._backend){var e;typeof c==="string"?e=i+c:!d?(e={__t:Date.now(),__v:c},e=b("FBJSON").stringify(e)):e=b("FBJSON").stringify(c);d=this._backend;c=this._key_prefix+a;a=!0;var f=null;while(a)try{f=null,d.set(c,e),a=!1}catch(b){f=b;var g=d.keys().length;this._evictCacheEntries();a=d.keys().length<g}if(f!==null){this._exceptionMessage=f.message;return!1}else{this._exceptionMessage=null;return!0}}this._exceptionMessage="no back end";return!1};n.prototype.getLastSetExceptionMessage=function(){"use strict";return this._exceptionMessage};n.prototype.getStorageKeyCount=function(){"use strict";var a=this._backend;return a?a.keys().length:0};n.prototype._evictCacheEntries=function(){"use strict";__p&&__p();var a=[],c=this._backend;c.keys().forEach(function(d){__p&&__p();if(d===k)return;var f=c.get(d);if(f===void 0){c.remove(d);return}if(n._hasMagicPrefix(f))return;try{f=b("FBJSON").parse(f,e.id)}catch(a){c.remove(d);return}f&&f.__t!==void 0&&f.__v!==void 0&&a.push([d,f.__t])});a.sort(function(a,b){return a[1]-b[1]});for(var d=0;d<Math.ceil(a.length/2);d++)c.remove(a[d][0])};n.prototype.get=function(a,c){"use strict";__p&&__p();var d;if(this._backend){b("ErrorUtils").applyWithGuard(function(){d=this._backend.get(this._key_prefix+a)},this,null,function(){d=null},"CacheStorage:get");if(d!==null)if(n._hasMagicPrefix(d))d=d.substr(i.length);else try{d=b("FBJSON").parse(d,e.id),d&&d.__t!==void 0&&d.__v!==void 0&&(d=d.__v)}catch(a){d=void 0}else d=void 0}d===void 0&&c!==void 0&&(d=c,this.set(a,d));return d};n.prototype.remove=function(a){"use strict";this._backend&&b("ErrorUtils").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],null,"CacheStorage:remove")};n.prototype._setVersion=function(){"use strict";this.useBrowserStorage()?this._backend.getStore().setItem(k,j):this._backend.getStore()[k]=j};n.prototype.clear=function(){"use strict";this._backend&&(b("ErrorUtils").applyWithGuard(this._backend.clear,this._backend,null,null,null,"CacheStorage:clear"),this._setVersion())};n.prototype.clearOwnKeys=function(){"use strict";this._backend&&(b("ErrorUtils").applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],null,null,"CacheStorage:clearOwnKeys"),this._setVersion())};n.getAllStorageTypes=function(){"use strict";return Object.keys(m)};n._hasMagicPrefix=function(a){"use strict";return a.substr(0,i.length)===i};e.exports=n}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){__p&&__p();var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null,x=!1;function a(){G().set(k,y())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function y(){t=t||G().get(k)||0;return t}function z(){v||(u=G().get(l),v=!0);var a=Date.now();(!u||a-i>y())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),G().set(l,u));return u}function A(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function B(){return{locale:navigator.language}}function C(b,a,c,d,f,g,h){var i=h||Date.now();t=h?Date.now():i;a=a||p;return{name:b,time:i/1e3,module:a,obj_type:d,obj_id:f,uuid:g,extra:c}}function D(a,b,c){return C("content",null,{flags:b},null,null,a,c)}function E(a){__p&&__p();var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(D(c,1,d[1]));a.push(D(c,2,d[2]));a.push(D(c,3,d[3]))}}}function F(a){__p&&__p();E(a);if(a.length===0)return;o&&a.push(C("counters",null,m));var c=b("Banzai").BASIC,d=b("MarauderConfig").gk_enabled;s===0&&d&&(a.push(C("device_status",null,B())),c={delay:5e3});d&&Math.random()<.01&&a.push(C("device_info",null,A()));if(r!==null)for(var d=0;d<a.length;d++){var e=a[d];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,log_type:g,seq:s++,session_id:z()};d=G().get("device_id");d&&(e.device_id=d);m={};o=!1;b("Banzai").post(j,e,c)}function G(){x||(x=!0,w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function H(b,a,c,d,f,g,h){F([C(b,a,c,d,f,g,h)])}function I(a,b){p!==b&&(n.push(C(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,I(a,b))}function f(a,b,c){H(b?"show_module":"hide_module",a,c)}function J(a){p=a}function K(){return p}function L(a){r===null&&(r=a,a!==null&&(F(n),n=[]))}e.exports={count:c,log:H,navigateTo:d,navigateWithinSession:I,toggleModule:f,setUUID:L,setNavigationModule:J,getNavigationModule:K}}),null);
__d("P2PReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAppBuildNumber=function(a){this.$1.app_build_number=a;return this};a.prototype.setAppID=function(a){this.$1.app_id=a;return this};a.prototype.setAppVersion=function(a){this.$1.app_version=a;return this};a.prototype.setCallID=function(a){this.$1.call_id=a;return this};a.prototype.setDeviceID=function(a){this.$1.device_id=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setExtra=function(a){this.$1.extra=a;return this};a.prototype.setMsgID=function(a){this.$1.msg_id=a;return this};a.prototype.setMsgType=function(a){this.$1.msg_type=a;return this};a.prototype.setProcessingTimeSinceRecvOnWww=function(a){this.$1.processing_time_since_recv_on_www=a;return this};a.prototype.setRawTime=function(a){this.$1.raw_time=a;return this};a.prototype.setReceiverID=function(a){this.$1.receiver_id=a;return this};a.prototype.setResultCode=function(a){this.$1.result_code=a;return this};a.prototype.setSenderID=function(a){this.$1.sender_id=a;return this};a.prototype.setServiceName=function(a){this.$1.service_name=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setUserCountry=function(a){this.$1.user_country=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={app_build_number:!0,app_id:!0,app_version:!0,call_id:!0,device_id:!0,event_name:!0,extra:!0,msg_id:!0,msg_type:!0,processing_time_since_recv_on_www:!0,raw_time:!0,receiver_id:!0,result_code:!0,sender_id:!0,service_name:!0,time:!0,user_country:!0,weight:!0};e.exports=a}),null);
__d("RTWebLoggingSharedInstance",["CurrentUser","UserAgentData"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null;h.getInstance=function(){g==null&&(g=new h());return g};function h(){this.$1=b("UserAgentData").browserName+b("CurrentUser").getID().substr(-4)+"_"+Date.now().toString().substr(-5)}h.prototype.getDeviceID=function(){return this.$1};e.exports=h}),null);
__d("FBRTCLogger",["ChannelManager","FBRTCConsoleLogger","FBRTCMessageType","MarauderLogger","P2PReliabilityTypedLogger","RTWebLoggingSharedInstance","UserAgentData","CurrentUser","pageID"],(function(a,b,c,d,e,f){__p&&__p();var g=b("CurrentUser").getID(),h="call_action",i="rtc_client_call_summary",j="client_error",k="client_event",l="info",m="received_message",n="send_failed",o="send_succeeded",p="sent_message",q=null;r.getInstance=function(){"use strict";q==null&&(q=new r());return q};r.multiwayMessageTypeName=function(a){"use strict";__p&&__p();switch(a){case b("FBRTCMessageType").JOIN:return"JOIN";case b("FBRTCMessageType").SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case b("FBRTCMessageType").HANGUP:return"HANGUP";case b("FBRTCMessageType").ICE_CANDIDATE:return"ICE_CANDIDATE";case b("FBRTCMessageType").RING:return"RING";case b("FBRTCMessageType").DISMISS:return"DISMISS";case b("FBRTCMessageType").CONFERENCE_STATE:return"CONFERENCE_STATE";case b("FBRTCMessageType").ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case b("FBRTCMessageType").SUBSCRIPTION:return"SUBSCRIPTION";case b("FBRTCMessageType").CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case b("FBRTCMessageType").DATA_MESSAGE:return"DATA_MESSAGE";case b("FBRTCMessageType").REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case b("FBRTCMessageType").EXPERIMENT:return"EXPERIMENT";case b("FBRTCMessageType").CONNECT:return"CONNECT";case b("FBRTCMessageType").APPROVAL:return"APPROVAL"}return a.toString()};function r(){"use strict";this.$2=JSON.stringify({version:2,device:b("UserAgentData").deviceName,os:b("UserAgentData").platformName,os_version:b("UserAgentData").platformFullVersion,browser:b("UserAgentData").browserName,browser_version:b("UserAgentData").browserFullVersion}),this.$3=JSON.stringify({version:2,device:b("UserAgentData").deviceName,os:b("UserAgentData").platformName,os_version:b("UserAgentData").platformFullVersion,browser:b("UserAgentData").browserName,browser_version:b("UserAgentData").browserFullVersion,msg_source:"web"}),this.$1=b("RTWebLoggingSharedInstance").getInstance().getDeviceID()}r.prototype.logToConsole=function(a){"use strict";this.$4(null,null,"Console",a)};r.prototype.$5=function(a){"use strict";return new(b("P2PReliabilityTypedLogger"))().setExtra(this.$2).setDeviceID(this.$1).setRawTime(Date.now()).setServiceName("WEB_CLIENT").setMsgType(a.toUpperCase())};r.prototype.logMultiwayMessageReceived=function(a,b){"use strict";var c=r.multiwayMessageTypeName(a.type());this.$4(a.conferenceName(),b,"Received MW",c+", "+a.transactionId(),c==="EXPERIMENT"?"DEBUG":"INFO")};r.prototype.logReceivedMessage=function(a,b,c){"use strict";var d=b?b.toString():null,e={call_id:b,from:a,msg_id:c.msg_id,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);var f=c.type||c.msgType;this.$5(f).setEventName("CLIENT_RECEIVED_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(a).setReceiverID(g).setExtra(this.$3).log();this.$6(m,e);this.$4(a,b,"Received P2P",c.type+", "+c.msg_id)};r.prototype.logSentMessage=function(a,b,c){"use strict";var d=b?b.toString():null,e={call_id:b,msg_id:c.msg_id,to:a,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);this.$5(c.type).setEventName("CLIENT_SENDING_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(g).setReceiverID(a).log();this.$6(p,e);this.$4(a,b,"Sent",c.type+", "+c.msg_id)};r.prototype.logSentMessageSuccess=function(a,b,c,d){"use strict";var e={call_id:b,msg_id:d,peer_id:a,type:c};b=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_SUCCESS").setCallID(b).setMsgID(d.toString()).setSenderID(g).setReceiverID(a).log();this.$6(o,e)};r.prototype.logSentMessageFailure=function(a,b,c,d,e){"use strict";var f={call_id:b,error_code:e,msg_id:d,peer_id:a,type:c},h=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_ERROR").setCallID(h).setMsgID(d.toString()).setSenderID(a).setSenderID(g).setReceiverID(a).setResultCode(e).log();this.$6(n,f);this.$4(a,b,"Send Failed",c+", "+e)};r.prototype.logCallAction=function(a,b,c,d,e){"use strict";var f={call_action:c,call_id:b,content:d,peer_id:a};e&&(f.trigger=e);this.$6(h,f);this.$4(a,b,"CallAction",c+", "+JSON.stringify(d))};r.prototype.logEvent=function(a,b,c){"use strict";var d={call_id:b,content:c,peer_id:a};this.$6(k,d);this.$4(a,b,"Event",JSON.stringify(c))};r.prototype.logInfo=function(a,b,c){"use strict";var d={call_id:b,content:c,peer_id:a};this.$6(l,d);this.$4(a,b,"Info",JSON.stringify(c))};r.prototype.logError=function(a,b,c){"use strict";var d={call_id:b,content:c,peer_id:a};this.$6(j,d);this.$4(a,b,"Error",JSON.stringify(c))};r.prototype.logErrorWithoutID=function(a){"use strict";this.logError(null,null,a)};r.prototype.logEndCallSummary=function(a){"use strict";if(!a)return;var c={call_id:a.callID,channel_session_id:b("ChannelManager").getCompleteConfig().sessionID,content:a.toString(),peer_id:a.peerID,tag:"endcallstats"},d=babelHelpers["extends"]({},c,a.getExtraInfo());this.$6(i,d);this.$4(a.peerID,a.callID,"Call Summary",JSON.stringify(c))};r.prototype.doesContainSensitiveData=function(a){"use strict";return String(a).indexOf("crypto")>-1};r.prototype.redactSensitiveData=function(a,b){"use strict";if(a!==i){a=JSON.stringify(b);if(this.doesContainSensitiveData(a))return{redacted:!0}}return b};r.prototype.$6=function(a,c){"use strict";c.page_id=b("pageID");c=this.redactSensitiveData(a,c);b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,c);b("MarauderLogger").log(a,b("FBRTCConsoleLogger").MODULE_NAME,c)};r.prototype.$4=function(a,c,d,e,f){f===void 0&&(f="DEBUG"),b("FBRTCConsoleLogger").getInstance().log(this.doesContainSensitiveData(e)?"redacted":e,a,c,d,f)};r.CallAction=Object.freeze({ANSWER_CALL:"answer_call",AUTO_DISABLE_VIDEO:"auto_disable_video",DENIED_PERMISSION:"denied_permission",END_CALL:"end_call",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",RECEIVED_CALL:"received_call",SET_FULLSCREEN_ON:"set_fullscreen_on",SET_MUTE:"set_mute",SET_SELF_VIEW_ON:"set_self_view_on",SET_VIDEO_ON:"set_video_on",START_CALL:"start_call",START_SKYPE:"start_skype",TRY_NEW:"try_new",USER_SETTINGS_CHANGED:"user_settings_changed"});r.Trigger=Object.freeze({ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",MULTIWAY_ADMIN_MESSAGE_JOIN_AUDIO_CALL_BUTTON:"multiway_admin_message_join_audio_call_button",MULTIWAY_ADMIN_MESSAGE_JOIN_VIDEO_CALL_BUTTON:"multiway_admin_message_join_video_call_button",MULTIWAY_ADMIN_MESSAGE_START_AUDIO_CALL_BUTTON:"multiway_admin_message_start_audio_call_button",MULTIWAY_ADMIN_MESSAGE_START_VIDEO_CALL_BUTTON:"multiway_admin_message_start_video_call_button",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button",POPUP_CALL_START_BUTTON:"popup_start_call_button",REDIAL_BUTTON:"redial_button",RESET_CALL:"install_screen_sharing_ext_dialog",RETURN_CALL:"return_call",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",TIMELINE_PROFILE:"timeline_profile",VC_PRECALL_SETUP:"vc_precall_setup",UNKNOWN:"unknown",WEB_MESSENGER:"web_messenger"});r.Key=Object.freeze({BATTERY_START:"battery_start",BATTERY_END:"battery_end",CALL_TYPE:"call_type",CONNECTION_EFFECTIVE_TYPE:"conn_effective_type",CPU_CORES:"cpu_cores",DEVICE_INFO:"device_info",DEVICE_MEMORY:"device_memory",DEVICE_PIXEL_RATIO:"device_pixel_ratio",INITIATED_BY_PAGE_ID:"initiated_by_page_id",PEER_IS_MOBILE:"peer_is_mobile",RATING_SHOWN:"rating_shown",RATING:"rating5",EFFECT_COUNT:"rtc_effect_count",EFFECT_TOTAL_DURATION:"rtc_effect_total_duration",VIDEO_DURATION_WITH_FILTER:"rtc_video_duration_with_filter_enabled",SCREEN_DURATION:"screen_duration",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",MEDIA_INPUTS:"media_inputs",VIDEO_CAPABILITIES:"video_capabilities"});e.exports=r}),null);
__d("FBRTCMediaMetricTracker",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};function h(){this.$1={},this.$2={},this.$3={}}h.prototype.getVideoStreamReportKeys=function(){return Object.keys(this.$3)};h.prototype.getJitterStreamReportKey=function(){return Object.keys(this.$1)};h.prototype.getAudioStreamReportKeys=function(){return Object.keys(this.$2)};h.prototype.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b))};h.prototype.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$4(this.$3[a][b],c))};h.prototype.$4=function(a,c){__p&&__p();if(a!==null&&a!==void 0){a.current=c;a.updatedTime=b("performanceNow")();a.total+=c;a.count+=1;a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mean=a.total/a.count;return a}else return{min:c,max:c,total:c,count:1,mean:c,first:c,startedTime:b("performanceNow")(),current:c,updatedTime:b("performanceNow")()}};h.prototype.getVideoMetric=function(a,b){return this.$3[a]?this.$3[a][b]:null};h.prototype.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$2[a]||(this.$2[a]={}),this.$2[a][b]=this.$4(this.$2[a][b],c))};h.prototype.getMetricStats=function(a,b){return!this.$2[a]?null:this.$2[a][b]};h.prototype.getJitterBufferStats=function(a){__p&&__p();if(!this.$1[a])return g;var b=this.$1[a].length;if(b===0)return g;this.$1[a].sort(function(a,b){return a-b});var c=this.$1[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$1[a][d]+this.$1[a][e])/2}else d=this.$1[a][(b-1)/2];return{max:this.$1[a][b-1],min:this.$1[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};h.prototype.toJsonString=function(){return JSON.stringify({stats:this.$2,jitterBufferDelays:this.$1,videoMetric:this.$3})};h.fromJsonString=function(a){var b=new h();try{a=JSON.parse(a),a=a}catch(a){return b}a.stats&&(b.$2=a.stats);a.jitterBufferDelays&&(b.$1=a.jitterBufferDelays);a.videoMetric&&(b.$3=a.videoMetric);return b};e.exports=h}),null);
__d("FBRTCMediaMetricsConst",[],(function(a,b,c,d,e,f){"use strict";a={JITTER:"jitter",ACCELERATE_RATE:"accelerate_rate",DECODING_CNG:"decoding_cng",DECODING_NORMAL:"decoding_normal",DECODING_PLC:"decoding_plc",DECODING_PLC_CNG:"decoding_plc_cng",DISCARD_RATE:"discard_rate",EXPAND_RATE:"expand_rate",PREEMPTIVE_RATE:"preemptive_rate",AUDIO_PACKETS_RECEIVED:"audio_packets_received",AUDIO_PACKETS_RECEIVED_LOST:"audio_packets_received_lost",AUDIO_PACKETS_SENT:"audio_packets_sent",AUDIO_PACKETS_SENT_LOST:"audio_packets_sent_lost",VIDEO_BYTES_RECEIVED:"video_bytes_received",VIDEO_BYTES_SENT:"video_bytes_sent",INBOUND_QP:"inbound_qp",OUTBOUND_QP:"outbound_qp",FRAMES_ENCODED:"frames_encoded",FRAMES_DECODED:"frames_decoded",VIDEOBWE_SEND_BANDWIDTH:"videobwe_send_bandwidth",VIDEOBWE_TRANSMIT_BITRATE:"videobwe_transmit_bitrate",VIDEOBWE_RETRANSMIT_BITRATE:"videobwe_retransmit_bitrate",AUDIO_BYTES_SENT:"audio_bytes_sent",AUDIO_BYTES_RECEIVED:"audio_bytes_received",VIDEO_PKTS_SENT:"video_pkts_sent",VIDEO_PKTS_SEND_LOST:"video_pkts_send_lost",VIDEO_PKTS_RECEIVED:"video_pkts_received",VIDEO_PKTS_RECV_LOST:"video_pkts_receive_lost",AUDIO_RTT_RECEIVED:"audio_rtt_received",AUDIO_RTT_SENT:"audio_rtt_sent"};e.exports=a}),null);
__d("FBRTCCallSummary",["FBRTCConstants","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricsConst","FBRTCMediaMetricTracker","SiteData","UserAgentData","gkx","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=5*60*1e3,h={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},i={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},j={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},k={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},l=[b("FBRTCMediaMetricsConst").ACCELERATE_RATE,b("FBRTCMediaMetricsConst").DISCARD_RATE,b("FBRTCMediaMetricsConst").EXPAND_RATE,b("FBRTCMediaMetricsConst").PREEMPTIVE_RATE];m.nullSummary=function(){"use strict";return new m({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function m(a){"use strict";this.peerID=String(a.peerID),this.callID=String(a.callID),this.$2=a.isCaller,this.$1=a.version||m.CURRENT_SUMMARY_VERSION,this.$3=b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel(),this.$14=new Date().valueOf(),this.$4=a.callTrigger||null,this.$5={},this.$7={},this.$8={},this.$13={},this.$33=null,this.$34=null,this.$35=null,this.$16=0,this.$17=0,this.$32=!1,this.$9={},this.$10={},this.$11={},this.$12={},this.$36=null,this.$19=b("performanceNow")(),this.$15=0,this.$6={},this.$18=this.$19,this.$20=0,this.$21={},this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_INFO,this.$43()),this.$44(),this.$45(),this.$46(),this.$23=b("FBRTCIceStatsParser").getInstance(),this.$42=new(b("FBRTCMediaMetricTracker"))(),this.$22=b("FBRTCLogger").getInstance()}m.prototype.toJsonString=function(){"use strict";this.$17=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$28,conferenceName:this.$25,joinWithSID:this.$26,activeConn:this.$24,escP2PCallID:this.$27,serverInfoData:this.$29,localVideoDuration:this.$30,remoteVideoDuration:this.$31,startTime:this.$14,trigger:this.$4,signalingTime:this.$5,escStateTimes:this.$7,applicationEventTime:this.$8,videoEscTimes:this.$13,endCallReason:this.$33,endCallSubreason:this.$34,isRemoteEnded:this.$35,lastUpdatedTime:this.$16,lastSerializedTime:this.$17,unsetOnRetrieve:this.$32,openCount:this.$20,extraInfo:this.$21,gen0IceSentCount:this.$9,gen0IceReceivedCount:this.$10,iceSentCount:this.$11,iceReceivedCount:this.$12,connectionType:this.$36,mediaMetricStats:this.$42.toJsonString(),newSignalingTime:this.$6,accumulatedCallTime:this.$47(),deviceCharged:this.$38,videoReceivedCodec:this.$39,videoSentCodec:this.$40,audioSentCodec:this.$41,relayIP:this.$37})};m.fromJsonString=function(a){"use strict";__p&&__p();try{a=JSON.parse(a)}catch(a){return null}if(a.version<m.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(a,"peerID")||!Object.prototype.hasOwnProperty.call(a,"callID")||!Object.prototype.hasOwnProperty.call(a,"isCaller")||!Object.prototype.hasOwnProperty.call(a,"startTime")||!Object.prototype.hasOwnProperty.call(a,"trigger")||!Object.prototype.hasOwnProperty.call(a,"signalingTime")||!Object.prototype.hasOwnProperty.call(a,"endCallReason")||!Object.prototype.hasOwnProperty.call(a,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(a,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(a,"lastSerializedTime"))return null;var c=new m({peerID:a.peerID,callID:a.callID,isCaller:a.isCaller});c.$1=a.version;c.$3=a.uploadLogLevel;c.$14=a.startTime;c.$4=a.trigger;c.$5=a.signalingTime;c.$33=a.endCallReason;c.$34=a.endCallSubreason;c.$35=a.isRemoteEnded;c.$16=a.lastUpdatedTime;c.$17=a.lastSerializedTime;c.$26=a.joinWithSID;a.callType&&(c.$28=a.callType);a.conferenceName&&(c.$25=a.conferenceName);a.escP2PCallID&&(c.$27=a.escP2PCallID);a.activeConn&&(c.$24=a.activeConn);a.serverInfoData&&(c.$29=a.serverInfoData);a.localVideoDuration&&(c.$30=a.localVideoDuration);a.remoteVideoDuration&&(c.$31=a.remoteVideoDuration);a.unsetOnRetrieve&&(c.$32=a.unsetOnRetrieve);a.openCount&&(c.$20=a.openCount);a.extraInfo&&(c.$21=a.extraInfo);a.gen0IceSentCount&&(c.$9=a.gen0IceSentCount);a.gen0IceReceivedCount&&(c.$10=a.gen0IceReceivedCount);a.iceSentCount&&(c.$11=a.iceSentCount);a.iceReceivedCount&&(c.$12=a.iceReceivedCount);a.newSignalingTime&&(c.$6=a.newSignalingTime);a.accumulatedCallTime&&(c.$15=a.accumulatedCallTime);a.escStateTimes&&(c.$7=a.escStateTimes);a.applicationEventTime&&(c.$8=a.applicationEventTime);a.videoEscTimes&&(c.$13=a.videoEscTimes);a.mediaMetricStats&&(c.$42=b("FBRTCMediaMetricTracker").fromJsonString(a.mediaMetricStats));a.connectionType&&(c.$36=a.connectionType);a.deviceCharged&&(c.$38=a.deviceCharged);a.videoReceivedCodec!==null&&(c.$39=a.videoReceivedCodec);a.videoSentCodec!==null&&(c.$40=a.videoSentCodec);a.audioSentCodec!==null&&(c.$41=a.audioSentCodec);a.relayIP!==null&&a.relayIP!==void 0&&(c.$37=a.relayIP);return c};m.restoreOrInitialize=function(a,c,d,e,f,g){"use strict";c=String(c);d=String(d);a=a.retrieveCallSummary(c,d);!a?(a=new m({peerID:c,callID:d,isCaller:e}),f?(a.onFullMessageReceived({msg:f}),a.onOfferAckSent(f)):a.onCallStarted(g||b("FBRTCLogger").Trigger.UNKNOWN),b("FBRTCLogger").getInstance().logError(c,d,"Missing call summary from storage")):a.$32&&(a.$33=null,a.$34=null,a.$35=null,delete a.$5[h.CALL_ENDED],delete a.$6[h.CALL_ENDED],a.$19=0,a.$32=null);return a};m.logSavedSummaries=function(a){"use strict";__p&&__p();var c=a.getLoggableSummaries(),d=c.length;if(d<=0)return;var e=b("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=c[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};m.prototype.logThisSummary=function(a){"use strict";var c=b("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null&&(c.logEndCallSummary(this),a.removeCallSummary(this.peerID,this.callID),c.logToConsole("Logged active summary"))};m.prototype.isNull=function(){"use strict";var a=m.CANONICAL_NULL_SUMMARY;return this.peerID===a.peerID&&this.callID===a.callID&&this.isCaller()===a.isCaller()&&this.getCallTrigger()===a.getCallTrigger()};m.prototype.save=function(a){"use strict";var c=b("performanceNow")(),d=c-this.$18;if(d>g){this.$22.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}a.storeCallSummary(this.peerID,this.callID,this);this.$18=c};m.prototype.getVersion=function(){"use strict";return this.$1};m.prototype.getLastUpdatedTime=function(){"use strict";return this.$16};m.prototype.setLastUpdatedTime=function(a){"use strict";this.$16=a};m.prototype.getExtraInfo=function(){"use strict";return this.$21};m.prototype.getCallTrigger=function(){"use strict";return this.$4};m.prototype.addExtraInfo=function(a,b){"use strict";this.$21[a]=b,this.$46()};m.prototype.isCaller=function(){"use strict";return this.$2};m.prototype.isNetworkReady=function(){"use strict";if(this.$5[h.NETWORK_READY])return!0;else return!1};m.prototype.isAnswerReceived=function(){"use strict";if(this.$5[h.RECV_ANSWER])return!0;else return!1};m.prototype.onCallStarted=function(a){"use strict";this.$4=a,this.$48(h.CALL_STARTED),this.$46()};m.prototype.setCallTrigger=function(a){"use strict";this.$4=a,this.$46()};m.prototype.onPopupOpened=function(){"use strict";this.$49(i.POPUP_OPENED),this.$20++,this.$46()};m.prototype.onPressedAnswer=function(){"use strict";this.$49(i.PRESSED_ANSWER),this.$46()};m.prototype.onMediaRequested=function(){"use strict";this.$49(i.MEDIA_REQUESTED),this.$46()};m.prototype.onMediaSucceeded=function(){"use strict";this.$49(i.MEDIA_SUCCEEDED),this.$46()};m.prototype.onFellbackToAudio=function(){"use strict";this.$49(i.FELLBACK_TO_AUDIO),this.$46()};m.prototype.setConnectionType=function(a){"use strict";this.$36=a,this.$46()};m.prototype.setUploadLogLevel=function(a){"use strict";this.$3=a,this.$46()};m.prototype.getCallType=function(){"use strict";return this.$28};m.prototype.setCallType=function(a){"use strict";this.$28=a,this.addExtraInfo(b("FBRTCLogger").Key.CALL_TYPE,a),this.$46()};m.prototype.setVideoDurations=function(a,b){"use strict";this.$30=a,this.$31=b,this.$46()};m.prototype.setScreenDuration=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.SCREEN_DURATION,a)};m.prototype.setConferenceName=function(a){"use strict";this.$25=a,this.$46()};m.prototype.setTotalVideoFilterDuration=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};m.prototype.setCoExperienceEffectDuration=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};m.prototype.setEffectCount=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};m.prototype.setJoinWithSID=function(a){"use strict";this.$26=a,this.$46()};m.prototype.setServerInfoData=function(a){"use strict";this.$29=a,this.$46()};m.prototype.setActiveConnection=function(a){"use strict";this.$24=a,this.$46()};m.prototype.setEscalationP2PCallID=function(a){"use strict";this.$27=a,this.$46()};m.prototype.onOfferAckSent=function(a){"use strict";this.onMessageSent({type:b("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};m.prototype.onMessageSent=function(a){"use strict";__p&&__p();var c=a.flag===1;switch(a.type){case b("FBRTCConstants").PayloadType.OFFER:this.$50(c,h.SENT_OFFER,h.SENT_RETRIED_OFFER);this.$51(a,this.$9,this.$11);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$50(c,h.SENT_ANSWER,h.SENT_RETRIED_ANSWER);this.$51(a,this.$9,this.$11);break;case b("FBRTCConstants").PayloadType.OK:this.$48(h.SENT_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$48(h.SENT_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$50(c,h.SENT_OFFER_ACK,h.SENT_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$50(c,h.SENT_ANSWER_ACK,h.SENT_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$51(a,this.$9,this.$11);break;case b("FBRTCConstants").PayloadType.ACK:a.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$52(k.SENT_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$52(k.SENT_ESC_RESPONSE):this.$52(k.SENT_ESC_REQUEST);break;default:}this.$46()};m.prototype.$51=function(a,b,c){"use strict";var d,e=null;a=this.$23.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$53(b,e),this.$53(c,e)};m.prototype.$53=function(a,b){"use strict";!a[b]?a[b]=1:a[b]+=1};m.prototype.$54=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};m.prototype.onFullMessageReceived=function(a){"use strict";__p&&__p();var c=a.msg,d=c.flag===1;switch(c.type){case b("FBRTCConstants").PayloadType.OFFER:this.$54(a);this.$50(d,h.RECV_OFFER,h.RECV_RETRIED_OFFER);this.$51(c,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$54(a);this.$50(d,h.RECV_ANSWER,h.RECV_RETRIED_ANSWER);this.$51(c,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.OK:this.$48(h.RECV_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$48(h.RECV_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$50(d,h.RECV_OFFER_ACK,h.RECV_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$50(d,h.RECV_ANSWER_ACK,h.RECV_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$51(c,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ACK:c.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$52(k.RECV_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:c.ack_id?c.videoon||c.reqVideoOn?this.$52(k.RECV_ESC_ACCEPT):this.$52(k.RECV_ESC_DECLINE):c.videoon||c.reqVideoOn?this.$52(k.RECV_ESC_REQUEST):this.$52(k.RECV_ESC_TIMEOUT);break;default:}this.$46()};m.prototype.onMsgAckReceived=function(a,b){"use strict";a=a.msg.flag===1;b?this.$50(a,h.RECV_OFFER_ACK,h.RECV_RETRIED_OFFER_ACK):this.$50(a,h.RECV_ANSWER_ACK,h.RECV_RETRIED_ANSWER_ACK)};m.prototype.onNetworkReady=function(){"use strict";this.$48(h.NETWORK_READY),this.$46()};m.prototype.onCallConnected=function(){"use strict";this.$48(h.CALL_CONNECTED),this.$46()};m.prototype.onCallEnded=function(a,b,c,d){"use strict";this.$32=c,this.$33=a,this.$34=d,this.$35=b,this.$48(h.CALL_ENDED),this.$46()};m.prototype.setOfferSentTime=function(){"use strict";this.$48(h.SENT_OFFER)};m.prototype.setOfferAckReceivedTime=function(){"use strict";this.$48(h.RECV_OFFER_ACK)};m.prototype.setAnswerSentTime=function(){"use strict";this.$48(h.SENT_ANSWER)};m.prototype.setAnswerReceivedTime=function(){"use strict";this.$48(h.RECV_ANSWER)};m.prototype.setJoinRequestSent=function(){"use strict";this.$48(h.SENT_JOIN_REQUEST),this.$46()};m.prototype.setJoinResponseReceived=function(){"use strict";this.$48(h.RECV_JOIN_RESPONSE),this.$46()};m.prototype.setJoinResponseProcessed=function(){"use strict";this.$48(h.PROC_JOIN_RESPONSE),this.$46()};m.prototype.setRingRequestReceived=function(){"use strict";this.$48(h.RECV_RING_REQUEST),this.$46()};m.prototype.setRingResponseSent=function(){"use strict";this.$48(h.SENT_RING_RESPONSE),this.$46()};m.prototype.setEscalationAvailable=function(){"use strict";this.$55(j.ESCALATION_IS_AVAILABLE)};m.prototype.setEscalationInitiated=function(){"use strict";this.$55(j.USER_INITIATED_REQUEST)};m.prototype.setReceivedEscalationRequest=function(){"use strict";this.$55(j.RECEIVED_INCOMING_REQUEST)};m.prototype.setInvalidP2PEscalationState=function(){"use strict";this.$55(j.REJECTED_INVALID_P2P_STATE)};m.prototype.setEscalationConnectingToMultiway=function(){"use strict";this.$55(j.CONNECTING_TO_MULTIWAY)};m.prototype.setEscalationConnectedToMultiway=function(){"use strict";this.$55(j.CONNECTED_TO_MULTIWAY)};m.prototype.setEscalationPeerConnectingToMultiway=function(){"use strict";this.$55(j.PEER_CONNECTING_TO_MULTIWAY)};m.prototype.setEscalationPeerConnectedToMultiway=function(){"use strict";this.$55(j.PEER_CONNECTED_TO_MULTIWAY)};m.prototype.setReadyToEscalate=function(){"use strict";this.$55(j.READY_TO_ESCALATE)};m.prototype.setEscalationPeerFailedToConnectToMultiway=function(){"use strict";this.$55(j.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};m.prototype.setEscalationTimedOut=function(){"use strict";this.$55(j.TIMED_OUT)};m.prototype.setVidEscalationInitClick=function(){"use strict";this.$52(k.ESCALATION_INITIATION_BUTTON_CLICKED)};m.prototype.setVidEscalationAcceptedClick=function(){"use strict";this.$52(k.ESCALATION_APPROVED_BUTTON_CLICKED)};m.prototype.setVidEscalationDeclinedClick=function(){"use strict";this.$52(k.ESCALATION_DECLINED_BUTTON_CLICKED)};m.prototype.setVidEscalationMediaRequested=function(){"use strict";this.$52(k.USERMEDIA_REQUEST)};m.prototype.setVidEscalationMediaSuccess=function(){"use strict";this.$52(k.USERMEDIA_SUCCESS)};m.prototype.setVidEscalationMediaFailed=function(){"use strict";this.$52(k.USERMEDIA_FAILURE)};m.prototype.setVideoCapabilities=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};m.prototype.setMediaInputs=function(a){"use strict";this.addExtraInfo(b("FBRTCLogger").Key.MEDIA_INPUTS,a)};m.prototype.getVideoReceivedCodec=function(){"use strict";return this.$39};m.prototype.setVideoReceivedCodec=function(a){"use strict";this.$39=a};m.prototype.getVideoSentCodec=function(){"use strict";return this.$40};m.prototype.setVideoSentCodec=function(a){"use strict";this.$40=a};m.prototype.getAudioSentCodec=function(){"use strict";return this.$41};m.prototype.setAudioSentCodec=function(a){"use strict";this.$41=a};m.prototype.toString=function(){"use strict";var a={};a.core_metrics=this.$56();a.time_series=null;return JSON.stringify(a)};m.prototype.$56=function(){"use strict";__p&&__p();var a={};a.ver=this.$1;a.log_level=b("FBRTCConstants").uploadLogLevelString(this.$3);a.caller=this.$2;a.call_type=this.$28;a.active_conn=this.$24;a.app_event_times=this.$8;a.conf_name=this.$25;a.join_with_sid=this.$26;a.esc_p2p_call_id=this.$27;a.esc_state_times=this.$7;a.vid_esc_times=this.$13;a.serv_info=this.$29;a.conn=this.$57();a.peer_id=this.peerID;a.has_video=!0;a.open_count=this.$20;a.signaling=this.$58();a.sender=this.$59();a.receiver=this.$60();a.end=this.$61();a.video=this.$62();a.push_phase=b("SiteData").push_phase;a.DebugAudioMetrics=this.$63();a.device_charged=this.$38;return a};m.prototype.$63=function(){"use strict";return{NetworkReceive:{jb_nm:this.$64()}}};m.prototype.$64=function(){"use strict";var a={},b=this.$42.getAudioStreamReportKeys().pop();l.forEach(function(c){var d=this.$42.getMetricStats(b,c);d&&(a[c]={m:d.min,M:d.max,avg:d.mean})}.bind(this));var c=this.$42.getJitterBufferStats(b);a.neteq={maxWait:c.max,meanWait:c.mean||0,mediaWait:c.median||0,minWait:c.min};return a};m.prototype.$57=function(){"use strict";var a={dtls:1},b=this.$59();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$37!==null&&(a.relay_ip=this.$37);return a};m.prototype.$58=function(){"use strict";var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$14;a.time_from_start=this.$5;a.new_time_from_start=this.$6;var b=this.$65();b>0&&(a.duration=b);return a};m.prototype.$65=function(a){"use strict";var b=this.$6[h.CALL_CONNECTED]||this.$6[h.NETWORK_READY];if(!b)return 0;a=this.$6[h.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$15||this.$47();return Math.max(0,a-b)};m.prototype.$59=function(){"use strict";__p&&__p();var a={},c=this.$42.getAudioStreamReportKeys();c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);if(c!=null){a.bytes=c.current;var d=c.updatedTime-c.startedTime;d>0&&(a.ube_avg=(c.current-c.first)*8/d*1e3);return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);if(c){a.plost=c.current;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);if(c){a.psent=c.current;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);if(c){a.avgrtt=c.mean;a.maxrtt=c.max;a.minrtt=c.min;return!0}return!1}.bind(this));this.$9&&(a.ice_g0=this.$9);this.$11&&(a.ice=this.$11);this.$41!=null&&this.$41!==""&&(a.codec={www:this.$41});return a};m.prototype.$60=function(){"use strict";__p&&__p();var a={},c=this.$42.getAudioStreamReportKeys();c.some(function(c){__p&&__p();var d=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").DECODING_PLC),e=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").DECODING_PLC_CNG),f=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").DECODING_CNG);c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").DECODING_NORMAL);if(f!=null&&c!=null&&d!=null&&e!=null){a.dec_cng=f.current;a.dec_normal=c.current;a.dec_plc=d.current;a.dec_plc_cng=e.current;a.neteq_calls=a.dec_cng+a.dec_normal+a.dec_plc+a.dec_plc_cng;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(c){a.bytes=c.current;var d=c.updatedTime-c.startedTime;d>0&&(a.dbe_avg=(c.current-c.first)*8/d*1e3);return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);if(c){a.plost=c.current;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED);if(c){a.precv=c.current;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);if(c){a.avgrtt=c.mean;a.maxrtt=c.max;a.minrtt=c.min;return!0}return!1}.bind(this));this.$10&&(a.ice_g0=this.$10);this.$12&&(a.ice=this.$12);return a};m.prototype.$61=function(){"use strict";var a={};this.$33!=null&&(a.end_call_reason_string=b("FBRTCConstants").callEndReasonString(this.$33),this.$34!==null&&(a.end_call_subreason_string=this.$34),a.remote_ended=this.$35);this.$36&&(a.conn_type=this.$36);return a};m.prototype.$62=function(){"use strict";var a={ename:this.$40,eqps:this.$66(),frames:this.$67(),psent:null,plost:null};return{sender:this.$68(a),receiver:this.$69(),ld:this.$30,rd:this.$31,bwe:this.$70()}};m.prototype.$66=function(){"use strict";__p&&__p();var a=null,c=this.$42.getVideoStreamReportKeys();c.some(function(c){c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").OUTBOUND_QP);if(c){a=c.current;return!0}return!1}.bind(this));return a};m.prototype.$67=function(){"use strict";__p&&__p();var a=null,c=this.$42.getVideoStreamReportKeys();c.some(function(c){c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_ENCODED);if(c){a=c.current;return!0}return!1}.bind(this));return a};m.prototype.$70=function(){"use strict";__p&&__p();var a={avg_enc_bitrate:this.$71(),avg_send_bw:null,avg_trans_bitrate:null,avg_retrans_bitrate:null},c=this.$42.getVideoStreamReportKeys();c.some(function(c){var d=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH),e=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(d&&e&&c){a.avg_send_bw=d.mean;a.avg_trans_bitrate=e.mean;a.avg_retrans_bitrate=c.mean;return!0}return!1}.bind(this));return a};m.prototype.$71=function(){"use strict";__p&&__p();var a=this.$42.getVideoStreamReportKeys(),c=null;a.some(function(a){a=this.$42.getVideoMetric(a,b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT);if(a){var d=a.current-a.first;a=a.updatedTime-a.startedTime;a>0&&(c=d*8/a*1e3);return!0}return!1}.bind(this));return c};m.prototype.$68=function(a){"use strict";__p&&__p();var c=this.$42.getVideoStreamReportKeys();c.some(function(c){var d=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_SENT);c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_SEND_LOST);if(d&&c){a.psent=d.current;a.plost=c.current;return!0}return!1}.bind(this));return a};m.prototype.$69=function(){"use strict";__p&&__p();var a={dec_bytes:null,dec_time:null,dname:this.$39,frd:null,precv:null,plost:null,qps:null},c=this.$42.getVideoStreamReportKeys();c.some(function(c){var d=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED);c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);if(d&&c){a.precv=d.current;a.plost=c.current;return!0}return!1}.bind(this));c.some(function(c){c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);if(c){a.dec_bytes=c.current-c.first;a.dec_time=c.updatedTime-c.startedTime;return!0}return!1}.bind(this));c.some(function(c){var d=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);c=this.$42.getVideoMetric(c,b("FBRTCMediaMetricsConst").INBOUND_QP);if(d&&c){a.frd=d.current;a.qps=c.current;return!0}return!1}.bind(this));return a};m.prototype.$72=function(){"use strict";return new Date().valueOf()-this.$14};m.prototype.$47=function(){"use strict";var a=b("performanceNow")()-this.$19;return Math.floor(this.$15+a)};m.prototype.$48=function(a){"use strict";if(this.$5[a])return;this.$5[a]=this.$72();this.$6[a]=this.$47()};m.prototype.$55=function(a){"use strict";if(this.$7[a])return;this.$7[a]=this.$72()};m.prototype.$49=function(a){"use strict";if(this.$8[a])return;this.$8[a]=this.$72()};m.prototype.$52=function(a){"use strict";if(this.$13[a])return;this.$13[a]=this.$72()};m.prototype.setDeviceCharged=function(a){"use strict";this.$38=a};m.prototype.$50=function(a,b,c){"use strict";a?this.$48(c):this.$48(b)};m.prototype.$46=function(){"use strict";this.$16=new Date().valueOf()};m.prototype.$43=function(){"use strict";var a=b("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(a+=" Mobile");return{device:b("UserAgentData").deviceName,os:a,os_version:b("UserAgentData").platformFullVersion,browser:b("UserAgentData").browserName,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};m.prototype.$44=function(){"use strict";window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};m.prototype.$45=function(){"use strict";navigator.hardwareConcurrency!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};m.prototype.getCallDuration=function(){"use strict";var a=b("gkx")("707989");return this.$65({assumeOngoing:a})};m.prototype.getConnectedStartTime=function(){"use strict";return this.$5[h.CALL_CONNECTED]?this.$5[h.CALL_CONNECTED]+this.$14:0};m.prototype.getCurrentTimeFromCallConnected=function(){"use strict";var a=this.$6[h.CALL_CONNECTED];return this.$47()-a};m.prototype.getMediaMetricTracker=function(){"use strict";return this.$42};m.prototype.getEndCallReason=function(){"use strict";return this.$33!=null?b("FBRTCConstants").callEndReasonString(this.$33):"Unknown"};m.prototype.setRelayIP=function(a){"use strict";this.$37=a};m.CANONICAL_NULL_SUMMARY=Object.freeze(m.nullSummary());m.OLDEST_SUPPORTED_SUMMARY_VERSION=19;m.CURRENT_SUMMARY_VERSION=24;m.REPORT_KEY="reportID";e.exports=m}),null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="localstorage",h="RTC_CALL_SUMMARY_",i="summary",j=2e3,k=3,l=3*60*1e3,m=null;n.getInstance=function(){m||(m=new n());return m};function n(){this.$1=new(b("CacheStorage"))(g,h),this.$2=b("FBRTCLogger").getInstance()}n.prototype.storeCallSummary=function(a,c,d){__p&&__p();if(d.isNull()){b("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(b){__p&&__p();b[a]||(b[a]={});var f=b[a][c];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}b[a][c]=e.$5(d);return b},e.$2.logError.bind(e.$2,a,c))};n.prototype.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};n.prototype.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};n.prototype.removeCallSummaries=function(a){this.$3(function(b){var c=a.length;for(var d=0;d<c;d++){var e=a[d].peerID,f=a[d].callID;b[e]&&b[e][f]&&(delete b[e][f],this.$6(b[e])&&delete b[e])}return b}.bind(this),this.$2.logError.bind(this.$2,null,null))};n.prototype.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],l);e&&b.push(e)}return b};n.prototype.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};n.prototype.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};n.prototype.$4=function(a,c){return a&&(!c||Date.now()-a.__t>=c)?b("FBRTCCallSummary").fromJsonString(a.__d):null};n.prototype.getCallSummaries=function(){var a=this.$1.get(i)||{};return a};n.prototype.$3=function(a,c,d,e){__p&&__p();d===void 0&&(d=k);(d===void 0||d===null)&&(d=k);var f=this.getCallSummaries(),g=this.getCallSummaries();f=a(f);if(f===null)return;var h=this.getCallSummaries();if(b("areEqual")(g,h))this.$1.set(i,f);else if(d>0){c("Retry lock");if(e){var l=this;b("setTimeout")(function(){l.$3(a,c,d-1,!0)},j)}else this.$3(a,c,d-1,!0)}else c("Failed to lock")};e.exports=n}),null);
__d("RTWebExperiments",["FBRTCConfig","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={enableCallCollisionFix:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771668")},passOfferWithWindowMessages:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771669")},forceSmallWindow:function(a,c){return a||c?!1:b("qex")._("722012")},fixedHeightGridView:function(a,c){return a||c?!1:b("qex")._("779395")},fixedHeightGridViewOuterWindowHeight:function(){return b("qex")._("779396")},fixedHeightGridViewOuterWindowWidth:function(){return b("qex")._("779397")},fixedHeightGridViewGridHeightPercent:function(){return b("qex")._("781541")}};e.exports=a}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCConstants","RTWebExperiments"],(function(a,b,c,d,e,f){__p&&__p();var g="localstorage",h="RTC_",i="offer",j="offer_msg",k="data_",l=30*1e3,m=new Map(),n={STORAGE_TYPE:g,PREFIX:h,OFFER_KEY:i,OFFER_SUFFIX:j,DATA_KEY_PREFIX:k,CACHE_LIFE:l,clearQueue:function(a){m.set(a,new Map())},writePeerOfferToStorage:function(a,b){a=n.getStorage(a,j);n._storeData(a,i,b)},getPeerOfferFromStorage:function(a){a=n.getStorage(a,j);return n._getData(a,i)},clearPeerOfferFromStorage:function(a){a=n.getStorage(a,j);a.remove(i)},pluckOffer:function(a){if(b("RTWebExperiments").passOfferWithWindowMessages()){var c=m.get(a)||new Map(),d=c.get(i);c["delete"](i);return d||null}else{c=n.getPeerOfferFromStorage(a);n.clearPeerOfferFromStorage(a);return c||null}},enqueueMessage:function(a,c,d){c=k+c.toString();var e=m.get(a)||new Map();d.msg_type===b("FBRTCConstants").PayloadType.OFFER&&(c=i);e.set(c,d);m.set(a,e)},drainQueue:function(a,b){__p&&__p();var c=m.get(a)||new Map();for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];b(f)}m.set(a,new Map())},_storeData:function(a,b,c){c={__t:Date.now(),__d:c};a.set(b,c)},_getData:function(a,b){var c=a.get(b);if(c&&n._isValid(c))return c.__d;else c&&a.remove(b);return null},_getAndRemoveData:function(a,b){var c=n._getData(a,b);if(c!==null){a.remove(b);return c}return null},_isValid:function(a){return Date.now()-a.__t<l},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")}};e.exports=n}),null);
__d("CollabMinimumChromeVersion",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCREEN_SHARE_CALL:65,VIDEO_CALL:48})}),null);
__d("FBRTCSupport",["CollabMinimumChromeVersion","RTCConfig","UserAgent"],(function(a,b,c,d,e,f){var g={isWebrtcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Firefox >= 25")||b("UserAgent").isBrowser("Edge >= 15.15042")||b("UserAgent").isBrowser("Opera >= 20")},isGroupCallWebtrcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Opera >= 20")},isCollabSupported:function(){return g.isWebrtcSupported()&&(!!b("RTCConfig").CollabWhitelistedBrowserGK||b("UserAgent").isBrowser("Chrome >= "+b("CollabMinimumChromeVersion").VIDEO_CALL))},isMobileDevice:function(){return b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS")},isVideoFilterEffectSupported:function(){return!g.isMobileDevice()&&(b("UserAgent").isBrowser("Chrome >= 51")||b("UserAgent").isBrowser("Opera >= 36"))},videoEscalationByUnmuteWorkaround:function(){return b("UserAgent").isBrowser("Firefox < 60")||b("UserAgent").isBrowser("Edge")},isChromiumBased:function(){return b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")}};e.exports=g}),null);
__d("FBRTCMessageListener",["invariant","Arbiter","BonfireFeatureGating","Bootloader","ChannelConstants","FBRTCConstants","FBRTCLocalMessageQueue","FBRTCSupport","RTWebExperiments","guid","mixInEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").ChildWindowMessageType,i=45*1e3,j=[],k=null,l=null,m,n=null,o=null,p=!1,q=!1,r=null,s=null,t=null,u=null,v=null,w=2e3,x=null,y=null,z=null;a={logCheckpoint:function(a){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(b){b.logCheckpoint({checkpoint:a})},"FBRTCMessageListener")},logDelayed:function(a,b){a="MQTT_"+(a?"YES":"NO")+"_CP_"+(b?"YES":"NO");this.logCheckpoint(a)},clearMQTTLogState:function(){x=null,y=null,z=null},logMessageReceived:function(a,b){if(a&&x||!a&&y)return;else a?x=b:y=b;y&&x&&z?(window.clearTimeout(z),z=null):z||(z=window.setTimeout(function(){this.logDelayed(x,y)}.bind(this),w))},init:function(a,c){__p&&__p();if(p)return;p=!0;q=a;r=c;b("Bootloader").loadModules(["FBMqttChannel"],function(a){a.subscribe("/webrtc",function(a){this.logMessageReceived(!0,a);a=JSON.parse(a);this._onMessage(a)}.bind(this))}.bind(this),"FBRTCMessageListener");b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("webrtc"),function(a,b){this.logMessageReceived(!1,JSON.stringify(b.obj)),this._onMessage(b.obj)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("webrtc_offer"),function(a,b){this._onMessage(b.obj)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("webrtc_offerack"),function(a,b){this._onMessage(b.obj)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("rtc_multi_json"),function(a,b){this._onMultiwayMessage(b.obj)}.bind(this));b("BonfireFeatureGating").canReceiveBonfireRingInterop()&&b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("parties_notifications"),function(a,b){this._onBonfireMessage(b.obj)}.bind(this));b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("onevc"),function(a,b){this._onOneVCMessage(b.obj)}.bind(this));if(b("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){var d=a?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",d,!1)}a&&this._connectToParentWindow(c)},setParentWindowNonce:function(a){n=a},generateNewNonce:function(){o=b("guid")();return o},setMultiwayMessageHandler:function(a){s&&g(0,1011),s=a},_emit:function(a,b){this.emit(a,b)},_onMultiwayMessage:function(a){this._emit("multiwayMessageReceived",a),s&&s(a)},setBonfireMessageHandler:function(a){t&&g(0,1012),t=a},_onBonfireMessage:function(a){this._emit("bonfireMessageReceived",a),t&&t(a)},setOneVCMessegeHandler:function(a){u==null&&(u=a)},_onOneVCMessage:function(a){u!=null&&u(a)},setMessageHandler:function(a){k&&g(0,1013);k=a;while(j.length)k(j.shift())},removeMessageHandler:function(){k=null},removeOneVCMessageHandler:function(){u=null},setParentWindowStartCallHandler:function(a){v=a},_onMessage:function(a){a.from&&(a.from=a.from.toString()),this._emit("messageReceived",a),k?k(a):j.push(a),q||this._passOrQueueToChildWindow(a)},_connectToParentWindow:function(a){if(window.opener&&window.opener.postMessage){a={type:h.CHILD_WINDOW_READY,nonce:n,childNonce:this.generateNewNonce(),peerID:a};window.opener.postMessage(a,window.location.origin)}},_verifyWindowMessage:function(a){return Boolean(a.origin===window.location.origin&&a.data&&o!==null&&a.data.nonce===o)},_handleWindowMessageToParent:function(a){__p&&__p();if(!this._verifyWindowMessage(a))return;if(a.data.type===h.CHILD_WINDOW_READY){var b=a.data,c=b.childNonce;b=b.peerID;this.setParentWindowNonce(c);this._setChildWindow(a.source);this._startCallInChildWindow(b);this.generateNewNonce();this._replayQueuedMessagesToChild(b,l)}},_handleWindowMessageToChild:function(a){if(!this._verifyWindowMessage(a))return;a.data.type===h.CHILD_WINDOW_MESSAGE&&this._onMessage(a.data.message);if(a.data.type===h.CHILD_WINDOW_START_CALL&&v){a=a.data.offer;!a&&r&&(a=b("FBRTCLocalMessageQueue").getPeerOfferFromStorage(r),a&&b("RTWebExperiments").passOfferWithWindowMessages()&&this.logCheckpoint("got_offer_from_storage_while_in_experiment"));v(a)}},_replayQueuedMessagesToChild:function(a,c){b("FBRTCLocalMessageQueue").drainQueue(a,function(a){this._postToChildWindowMessage(c,a)}.bind(this))},_setChildWindow:function(a){l=a,window.clearTimeout(m),m=window.setTimeout(function(){l=null},i)},_postToChildWindowMessage:function(a,b){b={type:h.CHILD_WINDOW_MESSAGE,nonce:n,message:b};a.postMessage(b,window.location.origin)},_passOrQueueToChildWindow:function(a){l&&this._postToChildWindowMessage(l,a),b("RTWebExperiments").enableCallCollisionFix()&&b("FBRTCLocalMessageQueue").enqueueMessage(a.from,a.id,a)},_startCallInChildWindow:function(a){if(l){a={type:h.CHILD_WINDOW_START_CALL,nonce:n,offer:b("RTWebExperiments").passOfferWithWindowMessages()?b("FBRTCLocalMessageQueue").pluckOffer(a):null};l.postMessage(a,window.location.origin)}}};b("mixInEventEmitter")(a,{messageReceived:!0,multiwayMessageReceived:!0,bonfireMessageReceived:!0});e.exports=a}),null);
__d("CollabCallTriggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTERN_SEARCH_MEETING_ROOM_UNIT:"intern_search_meeting_room_unit",MEETING_ROOM_PAGE_PROFILE:"meeting_room_page_profile",QUICK_DIAL:"quickdial"})}),null);
__d("RTCWebUserActionsDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCallID=function(a){this.$1.call_id=a;return this};a.prototype.setCallType=function(a){this.$1.call_type=a;return this};a.prototype.setCheckpoint=function(a){this.$1.checkpoint=a;return this};a.prototype.setClientTime=function(a){this.$1.client_time=a;return this};a.prototype.setComponent=function(a){this.$1.component=a;return this};a.prototype.setConferenceName=function(a){this.$1.conference_name=a;return this};a.prototype.setConferenceState=function(a){this.$1.conference_state=a;return this};a.prototype.setDeviceID=function(a){this.$1.device_id=a;return this};a.prototype.setErrorDomain=function(a){this.$1.error_domain=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};a.prototype.setIsCaller=function(a){this.$1.is_caller=a;return this};a.prototype.setMediaType=function(a){this.$1.media_type=a;return this};a.prototype.setPage=function(a){this.$1.page=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTCWebUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCallID=function(a){this.$1.call_id=a;return this};a.prototype.setCallType=function(a){this.$1.call_type=a;return this};a.prototype.setCheckpoint=function(a){this.$1.checkpoint=a;return this};a.prototype.setClientTime=function(a){this.$1.client_time=a;return this};a.prototype.setComponent=function(a){this.$1.component=a;return this};a.prototype.setConferenceName=function(a){this.$1.conference_name=a;return this};a.prototype.setConferenceState=function(a){this.$1.conference_state=a;return this};a.prototype.setDeviceID=function(a){this.$1.device_id=a;return this};a.prototype.setErrorDomain=function(a){this.$1.error_domain=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};a.prototype.setIsCaller=function(a){this.$1.is_caller=a;return this};a.prototype.setMediaType=function(a){this.$1.media_type=a;return this};a.prototype.setPage=function(a){this.$1.page=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTWebLoggingCallType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P:"p2p",MW:"mw",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",SCREENSHARING_POP_OUT:"screensharing_pop_out_button",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",TOGGLE_FILTERS:"toggle_filters",SCROLL_FILTERS:"scroll_filters",VIDEO_FILTER_OPTION:"video_filter_option",ADD_PARTICIPANT:"add_participant",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings",CLOSE_DIALOG:"close_dialog",INCOMING_RING_TONE:"incoming_ring_tone",FREE_CALL:"free_call",VIDEO_ESCALATE:"video_escalate",VIDEO_ESCALATE_ACCEPT:"video_escalate_accept",VIDEO_ESCALATE_DECLINE:"video_escalate_decline",RECENT_CALLS:"recent_calls",MESSAGE:"message",SAVE:"save_button",WINDOW_RESIZE:"window_resize",POOR_NETWORK_TOOLTIP:"poor_network_tooltip",VIDEO_LAYOUT_SWITCH:"video_layout_switch"})}),null);
__d("RTWebLoggingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAP:"tap",IMPRESSION:"impression",ERROR:"error",RING_TONE_PLAYED:"ring_tone_played",CHECKPOINT:"checkpoint"})}),null);
__d("RTWebLoggingMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO:"video",AUDIO:"audio",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingPage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FACEBOOK:"facebook",MOBILE_WEB:"mweb",WORKPLACE:"workplace"})}),null);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RTCWebUserActionsTypedLogger","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingMediaType","RTWebLoggingPage","RTWebLoggingSharedInstance","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;function a(){this.$2=g(),this.$3=new Set(),this.$4=b("RTWebLoggingSharedInstance").getInstance().getDeviceID(),this.$5=this.$6(),this.clearCache()}a.prototype.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};a.prototype.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").IMPRESSION},a))};a.prototype.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};a.prototype.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};a.prototype.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").TAP},a))};a.prototype.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").ERROR},a))};a.prototype.startTimer=function(a){var c=b("performanceNow")();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$7(a,{startTime:c})};a.prototype.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$8(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};a.prototype.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").CHECKPOINT},a))};a.prototype.$9=function(a){return a===null||a===void 0};a.prototype.logEvent=function(a){__p&&__p();var b=this.$1;b.callID=this.$9(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$9(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$10(a,b);b=this.$11(a,b);this.$7(a.eventName,b)};a.prototype.$11=function(a,c){var d=new(b("RTCWebUserActionsTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$4).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$5).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).log();return d.getData()};a.prototype.$10=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$4).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$5).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).log();return d.getData()};a.prototype.getCallType=function(a,c){c===void 0&&(c=!1);if(a===null||a===void 0)return null;if(a)return b("RTWebLoggingCallType").MW;else if(c)return b("RTWebLoggingCallType").ESCALATED;else return b("RTWebLoggingCallType").P2P};a.prototype.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?b("RTWebLoggingComponent").AUDIO_CALL:b("RTWebLoggingComponent").VIDEO_CALL};a.prototype.getMediaType=function(a,c){c===void 0&&(c=!1);if(c)return b("RTWebLoggingMediaType").ESCALATED;else if(a)return b("RTWebLoggingMediaType").AUDIO;else return b("RTWebLoggingMediaType").VIDEO};a.prototype.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};a.prototype.clearLoggedDomains=function(){this.$3.clear()};a.prototype.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};a.prototype.$6=function(){__p&&__p();if(b("FBRTCSupport").isMobileDevice())return b("RTWebLoggingPage").MOBILE_WEB;else if(b("CurrentUser").isWorkUser())return b("RTWebLoggingPage").WORKPLACE;var a=window.location.hostname;if(a.search("facebook")!==-1)return b("RTWebLoggingPage").FACEBOOK;else if(a.search("messenger")!==-1)return b("RTWebLoggingPage").MESSENGER_DOT_COM;return a};a.prototype.$8=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt(b("performanceNow")()-c,10)}return null};a.prototype.$7=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};e.exports=new a()}),null);
__d("assignMediaStream",[],(function(a,b,c,d,e,f){"use strict";var g=window.URL||window.webkitURL,h="srcObject"in window.HTMLMediaElement.prototype,i="mozSrcObject"in window.HTMLMediaElement.prototype;function a(a,b){h?a.srcObject=b:i?a.mozSrcObject=b:(typeof a.src==="string"&&g.revokeObjectURL(a.src),a.src=b!=null?g.createObjectURL(b):"")}e.exports=a}),null);
__d("FBRTCUtils",["AsyncRequest","CollabCallTriggerType","FBIDCheck","FBRTCConfig","RTCConfig","RTWebUserActionLogger","assignMediaStream","emptyFunction","randomInt"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3,h="setSinkId"in window.HTMLMediaElement.prototype;a={attachMediaStream:function(a,c){if(a==null)return;b("assignMediaStream")(a,c);if(c){c=a.play();c!==void 0&&c["catch"](function(a){b("RTWebUserActionLogger").logError({errorDomain:"autoplay was prevented",errorType:a.toString()})})}},aboutEqual:function(a,b){return a-b<.01&&b-a<.01},sendServerRequest:function(a,c,d,e,f,h){c===void 0&&(c=b("emptyFunction"));d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=g);h===void 0&&(h={});a=new(b("AsyncRequest"))().setURI(a).setData(h).setAllowCrossPageTransition(!0).setHandler(c).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()},supportsSetSink:function(){return h},isPeerVCEndpoint:function(a){var c=b("FBRTCConfig").isVCEndpointCall();return c!==void 0?c:!!a&&!b("FBIDCheck").isUser_deprecated(a)&&b("RTCConfig").CollabVCEndpointsVideoCallGK},isCollabTrigger:function(a){return a===b("CollabCallTriggerType").QUICK_DIAL||a===b("CollabCallTriggerType").MEETING_ROOM_PAGE_PROFILE}};e.exports=a}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={busy:g._("Busy"),callAgain:g._("Call Again"),callEnded:g._("Call Ended"),callFailed:g._("Call Failed"),callInterrupted:g._("Call Interrupted"),cannotConnect:g._("Can't Connect Call"),chatLinksLeftVideoChat:g._("You left the group video chat"),clientEncryptionError:g._("Client Encryption Error"),close:g._("Close"),connected:g._("Connected"),connecting:g._("Connecting..."),connectionDropped:g._("Connection Dropped"),connectionLost:g._("Connection Lost"),contacting:g._("Contacting..."),copiedVideoChatLink:g._("Copied"),copyVideoChatLink:g._("Copy Video Chat Link"),disconnected:g._("Disconnected"),dismiss:g._("Dismiss"),hangingUp:g._("Hanging up..."),inactive:g._("Call is Inactive"),inAnotherCall:g._("In Another Call"),incomingVideoChat:g._("Incoming video chat"),invalidStreamConfiguration:g._("Too many clients connected to the room"),noAnswer:g._("No Answer"),notNow:g._("Not Now"),participantLimitReached:g._("Participant Limit Reached"),pleaseWait:g._("Please wait..."),profilePictureAlt:g._("Profile Picture"),reconnecting:g._("Reconnecting..."),redial:g._("Redial"),ringing:g._("Ringing..."),switchToWiFi:g._("Switch to Wi-Fi to complete your call"),unreachable:g._("Unreachable"),userVideoOff:function(a){return g._("{name}'s camera is off",[g._param("name",a)])},viewerVideoOff:g._("Your camera is off"),waitingForOthers:g._("Waiting for others to join...")};e.exports=a}),null);
__d("FBRTCExperimentName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USE_H264:"rtc_browser_use_h264",USE_VP9:"rtc_browser_use_vp9",ENABLE_SCREEN_SHARING:"webrtc_enable_screen_sharing",INCOMING_CALL_EXPERIMENTS:"rtweb_incoming_call_experiments",SHOW_CHAT_WHILE_IN_CALL:"rtc_www_show_chat_while_in_call",MW_AUDIO_FALLBACK:"rtc_www_mw_audio_fallback",LARGER_SELF_VIEW:"rtc_www_larger_self_view",VIDEO_CHAT_FILTERS:"rtc_www_video_chat_filters",P2P_END_CALL_SCREEN:"rtc_www_p2p_end_call_screen",CALL_UNIFICATION:"rtc_www_call_unification",TURNOFF_CAMERA_WHEN_FACEMUTE:"turnoff_camera_when_facemute",DIVE_BAR_RECENT_CALLS:"rtc_www_dive_bar_recent_calls",FB_PROFILE_RTC_BUTTONS:"rt_web_fb_profile_rtc_buttons",MW_VIDEO_QUALITY:"rtc_www_mw_video_quality",MEDIA_QUALITY_H2_2018:"rtc_www_media_quality_h2_2018",VIDEO_ESCALATION:"rtweb_video_escalation",NEW_MUTE_ICON_LAYOUT:"rtcwww_muteicon"})}),null);
__d("QE2Logger",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();var g="qe2_log_exposure",h={},i={logExposureForUser:function(a,b){b=b?b:"",i.__logExposure(a,b,9)},logExposureForEmail:function(a,b){i.__logExposure(a,b,3)},logExposureForDatr:function(a){i.__logExposure(a,"",5)},logExposureForOculusLoggedOut:function(a){i.__logExposure(a,"",31)},logExposureForPage:function(a,b){i.__logExposure(a,b,7)},logExposureForBusiness:function(a,b){i.__logExposure(a,b,17)},logExposureForGroup:function(a,b){i.__logExposure(a,b,25)},logExposureForPhoneNumber:function(a,b){i.__logExposure(a,b,8)},logExposureForScimCompanyID:function(a,b){i.__logExposure(a,b,22)},logExposureForAnalyticsEntityID:function(a,b){i.__logExposure(a,b,27)},logExposureForAdAccountID:function(a,b){i.__logExposure(a,b,0)},logExposure:function(a,b,c){i.__logExposure(a,b,c)},__logExposure:function(a,c,d){var e=a+"|"+c;if(h[e])return;a={universeName:a,unitID:c,unitType:d};b("Banzai").post(g,a,{signal:!0});h[e]=!0}};e.exports=i}),null);
__d("FBRTCExperiment",["FBRTCExperimentName","FBRTCExperimentsConfig","QE2Logger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();g.gen=function(a){var c={params:{},auto_exposure:!1,in_experiment:!1};c=b("FBRTCExperimentsConfig")[a]||c;a=new g(a,c);return a};g.getIncomingCallExperiments=function(){return g.gen(b("FBRTCExperimentName").INCOMING_CALL_EXPERIMENTS)};g.getMediaQualityExperiments=function(){return g.gen(b("FBRTCExperimentName").MEDIA_QUALITY_H2_2018)};g.getNewMuteIconLayoutExperiments=function(){return g.gen(b("FBRTCExperimentName").NEW_MUTE_ICON_LAYOUT)};function g(a,b){this.$1=a,this.$2=b}g.prototype.$3=function(){this.$2.auto_exposure&&this.logExposure()};g.prototype.logExposure=function(){this.$2.in_experiment&&b("QE2Logger").logExposureForUser(this.$1)};g.prototype.getParam=function(a,b){if(this.$2.in_experiment){this.$3();a=this.$2.params[a];if(a!==void 0)return String(a)}return b};g.prototype.getInt=function(a,b){if(this.$2.in_experiment){this.$3();if(this.$2.params[a]!==void 0)return parseInt(this.$2.params[a],10)}return b};g.prototype.getBool=function(a,b){var c=this.$2.params;if(this.$2.in_experiment){this.$3();if(c[a]!==void 0)return c[a]==="1"||c[a]===1||c[a]==="true"||c[a]===!0}return b};e.exports=g}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,lastConnectedAt:0,participantState:null,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:b("immutable").Set(),streams:b("immutable").Set(),userName:"",userShortName:"",vanity:""});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("RTCUser",["FBRTCConstants","FBRTCParticipantCallState","RTCUserRecord","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBRTCConstants").MediaContentTypes;g=babelHelpers.inherits(i,b("RTCUserRecord"));g&&g.prototype;i.prototype.clone=function(){return new i(this.toObject())};i.prototype.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};i.prototype.getParticipantState=function(){return this.participantState&&this.participantState.state};i.prototype.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};i.prototype.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};i.prototype.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};i.prototype.isAudioMuted=function(){return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(a){return this.areAllTracksMuted(a)}.bind(this))};i.prototype.isVideoMuted=function(){return!this.hasVideo()?!0:this.streams.every(function(a){return this.areAllTracksMuted(a.getVideoTracks())}.bind(this))};i.prototype.areAllTracksMuted=function(a){return!a.some(function(a){return a.enabled})};i.prototype.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};i.prototype.toggleMuteAudio=function(a){this.getAllStreamAudioTracks().forEach(function(a){return this.$RTCUser1(a)}.bind(this));return this.clone()};i.prototype.toggleMuteVideo=function(a){this.streams.forEach(function(b){this.$RTCUser1(b.getVideoTracks(),a)}.bind(this));return this.clone()};i.prototype.stopVideo=function(){this.streams.forEach(function(a){a.getVideoTracks().forEach(function(b){this.$RTCUser1(a.getVideoTracks(),!0),b.readyState!=="ended"&&(b.onended&&b.onended(),b.stop())}.bind(this))}.bind(this));return this.clone()};i.prototype.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};i.prototype.hasStream=function(){return!this.streams.isEmpty()};i.prototype.addStream=function(a){return this.set("streams",this.streams.add(b("nullthrows")(a)))};i.prototype.removeStream=function(a){return this.set("streams",this.streams["delete"](a))};i.prototype.getStream=function(){return this.hasStream()?this.streams.first():null};i.prototype.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};i.prototype.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};i.prototype.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};i.prototype.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};i.prototype.hasScreenStream=function(){return!this.screenStreams.isEmpty()};i.prototype.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};i.prototype.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};i.prototype.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};i.prototype.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};i.prototype.setRoomLocation=function(a){return this.set("roomLocation",a)};i.prototype.getRoomLocation=function(){return this.roomLocation};i.prototype.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksMuted(a);a.forEach(function(a){return a.enabled=c})};i.prototype.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,h.SCREEN)});return a};function i(){g.apply(this,arguments)}e.exports=i}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.displayViewerName,d=a.viewer,e=a.participants;a=a.className;var f=b("MercuryIDs").getParticipantIDFromUserID(d);d=Object.keys(e.toJS());d.length>1&&(d=d.filter(function(a){return a!==f||c}));d=d.map(function(a){return e.get(a)});d=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(d);return b("React").createElement("span",{className:a},d)};e.exports=a}),null);
__d("generateRTCCallID",["randomInt"],(function(a,b,c,d,e,f){"use strict";function a(){return b("randomInt")(0,4294967294)+1}e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_game",type:"Application",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_group",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},a,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[{kind:"Literal",name:"first",value:5,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[b]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryGroups",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldSkipQueryUsers",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"forGroup",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID",defaultValue:0}],b=[{kind:"Variable",name:"query",variableName:"queryString",type:"String!"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID",type:"ID!"}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"Literal",name:"first",value:20,type:"Int"},f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],i={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:h},j={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},l={kind:"InlineFragment",type:"Page",selections:[g,i,j,k,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},m=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,l]}]}],n={kind:"Literal",name:"first",value:5,type:"Int"},o={kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},p={kind:"Literal",name:"first",value:10,type:"Int"};i=[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null},d]},{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},o,{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},i,g,j,k,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null},d]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[g,d]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[p],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}];j={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"};h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},g,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:h},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[n],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,g,{kind:"InlineFragment",type:"User",selections:[k,o]}]},d]}]}]},d]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerGraphQLTypeaheadViewQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}]}]}]},operation:{kind:"Operation",name:"MessengerGraphQLTypeaheadViewQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[e,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[e,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:m}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[n,{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"Application",selections:[g,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},l]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},e,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:i}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[p,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:i}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[j,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[j,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:h}]}]},{kind:"LinkedHandle",alias:"groups",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]},params:{operationKind:"query",name:"MessengerGraphQLTypeaheadViewQuery",id:"2016956765068614",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"last",variableName:"maxThreadResults",type:"Int"},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};b=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},b,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[{kind:"Literal",name:"first",value:5,type:"Int"}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_groups",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean!"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[a,{kind:"Literal",name:"with_group",value:!0,type:"Boolean"},{kind:"Variable",name:"with_participants",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs",type:"[ID]"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_thread_name",variableName:"queryString",type:"String"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:20,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},e={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},g={kind:"InlineFragment",type:"Page",selections:[b,c,d,e,f,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_profiles",type:"SearchableEntitiesQuery",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldSkipQueryUsers",type:"Boolean!"},{kind:"RootArgument",name:"forGroup",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[a,{kind:"Literal",name:"internal_bot",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[a,{kind:"Literal",name:"vc_endpoint",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5,type:"Int"},{kind:"Variable",name:"for_group",variableName:"forGroup",type:"Boolean"},{kind:"Literal",name:"include_games",value:!0,type:"Boolean"},{kind:"Literal",name:"messenger_commerce",value:!0,type:"Boolean"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Application",selections:[b,c,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]},g]}]}]}]},{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter",type:"Boolean"},a,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0,type:"Boolean"},{kind:"Literal",name:"of_type",value:["user"],type:"[SearchEntityType]"}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},d,c,e,f,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10,type:"Int"}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:10,type:"Int"},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerTypeaheadResultView_roomAudience",type:"MessageThread",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[a,{kind:"Variable",name:"named",variableName:"queryString",type:"String"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[a],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MercurySyncHolesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MercurySyncHolesLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDifference=function(a){this.$1.difference=a;return this};a.prototype.setSeqID=function(a){this.$1.seq_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTopicType=function(a){this.$1.topic_type=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={difference:!0,seq_id:!0,time:!0,topic_type:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessagingThreadEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActiveTimeMs=function(a){this.$1.active_time_ms=a;return this};a.prototype.setClientEventTimeMs=function(a){this.$1.client_event_time_ms=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageData=function(a){this.$1.page_data=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setThreadID=function(a){this.$1.thread_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={active_time_ms:!0,client_event_time_ms:!0,event:!0,page_data:!0,page_id:!0,script_path:!0,source:!0,thread_id:!0,vc:!0};e.exports=a}),null);
__d("MessengerWebDeltasTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebDeltasLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDeltaEvent=function(a){this.$1.delta_event=a;return this};a.prototype.setDeltaType=function(a){this.$1.delta_type=a;return this};a.prototype.setIgnoreReason=function(a){this.$1.ignore_reason=a;return this};a.prototype.setSyncSeqID=function(a){this.$1.sync_seq_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={delta_event:!0,delta_type:!0,ignore_reason:!0,sync_seq_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setQueryParams=function(a){this.$1.query_params=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={error_message:!0,event:!0,query_params:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("BasicFBNux",["AsyncRequest","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){var g={subscribeHide:function(a,b){a.subscribe("hide",g.onDismiss.bind(this,b))},onView:function(a){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()},onDismiss:function(a){a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=g}),null);
__d("FantaDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a({strict:!1})}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={generateThreadID:function(a){return"root:"+g.generateOfflineThreadingID(a)},generateOfflineThreadingID:function(a){a=a||Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return h(a.slice(-63))}};function h(a){var b="";while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}e.exports=g}),null);
__d("MercuryAssert",["MercuryIDs"],(function(a,b,c,d,e,f){__p&&__p();e.exports={isParticipantID:function(a){if(a==null)throw new Error("participant_id null/undefined");if(!b("MercuryIDs").isValid(a))throw new Error("bad_participant_id "+a)},allParticipantIDs:function(a){a.forEach(this.isParticipantID)},isUserParticipantID:function(a){var c=b("MercuryIDs").tokenize(a);if(a==null)throw new Error("participant_id null/undefined");if(c.type!="fbid")throw new Error("bad_user_id "+a)},isEmailParticipantID:function(a){var c=b("MercuryIDs").tokenize(a);if(a==null)throw new Error("participant_id null/undefined");if(c.type!="email")throw new Error("bad_email_id "+a)},allThreadID:function(a){a.forEach(this.isThreadID)},isThreadID:function(a){if(a==null)throw new Error("participant_id null/undefined");if(!b("MercuryIDs").isValid(a))throw new Error("bad_thread_id "+a)}}}),null);
__d("MercuryViewer",["CurrentUser","MercuryAssert"],(function(a,b,c,d,e,f){"use strict";var g="fbid:"+b("CurrentUser").getID();a={getID:function(){return g},isViewer:function(a){b("MercuryAssert").isParticipantID(a);return a===g}};e.exports=a}),null);
__d("MercuryPayloadSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_PINNED_STATUS:"client_change-pinned_status",CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS:"client_change_page_follow_up_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",CLIENT_UPDATE_COMM_STATUS:"client_update_comm_status",CLIENT_CHANGE_SAVED_MESSAGE_STATUS:"client_update_saved_message_status",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_PINNED_STATUS:"server_change_pinned_status",SERVER_CHANGE_PAGE_FOLLOW_UP_STATUS:"server_change_page_follow_up_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"})}),null);
__d("DisplayGenderConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"UNKNOWN",FEMALE:"FEMALE",MALE:"MALE",NEUTER:"NEUTER"})}),null);
__d("bs_belt_Id",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a[0];return[a]}function c(a){a=a[0];a=b("bs_curry").__2(a);return[a]}function d(a){return[a]}function e(a){a=b("bs_curry").__2(a);return[a]}function g(a){var b=a[0];a=a[1];return[b,a]}function h(a){var c=a[0];c=b("bs_curry").__1(c);a=a[1];a=b("bs_curry").__2(a);return[c,a]}function i(a,b){return[a,b]}function j(a,c){a=b("bs_curry").__1(a);c=b("bs_curry").__2(c);return[a,c]}f.MakeComparableU=a;f.MakeComparable=c;f.comparableU=d;f.comparable=e;f.MakeHashableU=g;f.MakeHashable=h;f.hashableU=i;f.hashable=j}),null);
__d("bs_caml_exceptions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[0];function a(a){a[1]=g[0];g[0]+=1;return a}function h(){g[0]+=1;return g[0]}function b(a){var b=h(0);a=[a,b];a.tag=248;return a}function c(a){if(a===void 0)return!1;else if(a.tag===248)return!0;else{a=a[0];if(a!==void 0)return a.tag===248;else return!1}}f.caml_set_oo_id=a;f.get_id=h;f.create=b;f.isCamlExceptionOrOpenVariant=c}),null);
__d("bs_js_exn",["bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bs_caml_exceptions").create("Js_exn.Error");function a(a){if(b("bs_caml_exceptions").isCamlExceptionOrOpenVariant(a))return a;else return[g,a]}function c(a){throw new Error(a)}function d(a){throw new EvalError(a)}function e(a){throw new RangeError(a)}function h(a){throw new ReferenceError(a)}function i(a){throw new SyntaxError(a)}function j(a){throw new TypeError(a)}function k(a){throw new URIError(a)}f.$$Error=g;f.internalToOCamlException=a;f.raiseError=c;f.raiseEvalError=d;f.raiseRangeError=e;f.raiseReferenceError=h;f.raiseSyntaxError=i;f.raiseTypeError=j;f.raiseUriError=k}),null);
__d("bs_block",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b.tag=a;return b}function b(a,b){return Object.defineProperty(b,Symbol["for"]("BsRecord"),{value:a})}function c(a,b,c){c.tag=b;return Object.defineProperty(c,Symbol["for"]("BsVariant"),{value:a})}function d(a,b){return Object.defineProperty(b,Symbol["for"]("BsVariant"),{value:a})}function e(a,b){return Object.defineProperty(b,Symbol["for"]("BsLocalModule"),{value:a})}function g(a,b){return Object.defineProperty(b,Symbol["for"]("BsPolyVar"),{value:a})}f.__=a;f.record=b;f.variant=c;f.simpleVariant=d;f.localModule=e;f.polyVar=g}),null);
__d("bs_js_types",["bs_block"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=typeof a;if(c==="undefined")return 3;else if(a===null)return 2;else if(c==="number")return b("bs_block").__(0,[a]);else if(c==="string")return b("bs_block").__(1,[a]);else if(c==="boolean")if(a===!0)return 1;else return 0;else if(c==="function")return b("bs_block").__(2,[a]);else if(c==="object")return b("bs_block").__(3,[a]);else return b("bs_block").__(4,[a])}function c(a,b){switch(b){case 0:return typeof a==="undefined";case 1:return a===null;case 2:return typeof a==="boolean";case 3:return typeof a==="number";case 4:return typeof a==="string";case 5:return typeof a==="function";case 6:return typeof a==="object";case 7:return typeof a==="symbol"}}f.test=c;f.classify=a}),null);
__d("bs_caml_int32",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c===0)throw b("bs_caml_builtin_exceptions").division_by_zero;else return a/c|0}function c(a,c){if(c===0)throw b("bs_caml_builtin_exceptions").division_by_zero;else return a%c}function d(a){return(a&255)<<8|(a&65280)>>>8}function e(a){return(a&255)<<24|(a&65280)<<8|(a&16711680)>>>8|(a&4278190080)>>>24}var g=Math.imul||function(a,b){b|=0;return((a>>16)*b<<16)+(a&65535)*b|0},h=e;f.div=a;f.mod_=c;f.caml_bswap16=d;f.caml_int32_bswap=e;f.caml_nativeint_bswap=h;f.imul=g}),null);
__d("bs_caml_primitive",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function e(a,b){if(a)return b;else return a}function g(a,b){if(a<b)return a;else return b}function h(a,b){if(a<b)return a;else return b}function i(a,b){if(a<b)return a;else return b}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a<b)return a;else return b}function l(a,b){if(a)return a;else return b}function m(a,b){if(a>b)return a;else return b}function n(a,b){if(a>b)return a;else return b}function o(a,b){if(a>b)return a;else return b}function p(a,b){if(a>b)return a;else return b}function q(a,b){if(a>b)return a;else return b}var r=a,s=a;f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_nativeint_compare=r;f.caml_string_compare=d;f.caml_int32_compare=s;f.caml_bool_min=e;f.caml_int_min=g;f.caml_float_min=h;f.caml_string_min=i;f.caml_nativeint_min=j;f.caml_int32_min=k;f.caml_bool_max=l;f.caml_int_max=m;f.caml_float_max=n;f.caml_string_max=o;f.caml_nativeint_max=p;f.caml_int32_max=q}),null);
__d("bs_caml_obj",["bs_block","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b=new Array(b);b.tag=a;return b}function c(a){var b=a.length|0,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a[d];c.tag=a.tag|0;return c}function d(a,c){__p&&__p();var d=a.length|0;if(c<=0||c>d)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.truncate"];else if(d!==c){for(var e=c,d=d-1|0;e<=d;++e)a[e]=0;a.length=c;return 0}else return 0}function e(a){return b("bs_block").__(250,[a])}function g(a,b){var c=b.length|0;for(var d=0,c=c-1|0;d<=c;++d)a[d]=b[d];d=b.tag|0;if(d!==0){a.tag=d;return 0}else return 0}var h=function(a,b){for(var c in a)b(c)};function i(a,c){__p&&__p();while(!0){var d=c,e=a;if(e===d)return 0;else{var f=typeof e,g=typeof d,j=0;switch(f){case"boolean":if(g==="boolean")return b("bs_caml_primitive").caml_bool_compare(e,d);else j=1;break;case"function":if(g==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"compare: functional value"];else j=1;break;case"number":if(g==="number")return b("bs_caml_primitive").caml_int_compare(e,d);else j=1;break;case"string":if(g==="string")return b("bs_caml_primitive").caml_string_compare(e,d);else return 1;case"undefined":return-1;default:j=1}if(j===1)switch(g){case"string":return-1;case"undefined":return 1;default:if(f==="boolean")return 1;else if(g==="boolean")return-1;else if(f==="function")return 1;else if(g==="function")return-1;else if(f==="number")if(d===null||d.tag===256)return 1;else return-1;else if(g==="number")if(e===null||e.tag===256)return-1;else return 1;else if(e===null)if(d.tag===256)return 1;else return-1;else if(d===null)if(e.tag===256)return-1;else return 1;else{j=e.tag|0;f=d.tag|0;if(j===250){a=e[0];continue}else if(f===250){c=d[0];continue}else if(j===256)if(f===256)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else return-1;else if(j===248)return b("bs_caml_primitive").caml_int_compare(e[1],d[1]);else if(j===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(j!==f)if(j<f)return-1;else return 1;else{g=e.length|0;j=d.length|0;if(g===j)if(Array.isArray(e)){f=e;var k=d,l=0,m=g;while(!0){var n=l;if(n===m)return 0;else{var o=i(f[n],k[n]);if(o!==0)return o;else{l=n+1|0;continue}}}}else{o=e;n=d;l=[void 0];f=[void 0];var p=function(b,c){__p&&__p();var d=b[2],a=b[1];if(!Object.prototype.hasOwnProperty.call(a,c)||i(b[0][c],a[c])>0){b=d[0];if(b!==void 0&&c>=b)return 0;else{d[0]=c;return 0}}else return 0};k=[o,n,f];m=function(a){return function(b){return p(a,b)}}(k);k=[n,o,l];k=function(a){return function(b){return p(a,b)}}(k);h(o,m);h(n,k);o=l[0];m=f[0];if(o!==void 0)if(m!==void 0)return b("bs_caml_primitive").caml_string_compare(o,m);else return-1;else if(m!==void 0)return 1;else return 0}else if(g<j){n=e;k=d;l=0;f=g;while(!0){o=l;if(o===f)return-1;else{m=i(n[o],k[o]);if(m!==0)return m;else{l=o+1|0;continue}}}}else{g=e;m=d;o=0;l=j;while(!0){n=o;if(n===l)return 1;else{k=i(g[n],m[n]);if(k!==0)return k;else{o=n+1|0;continue}}}}}}}}}}function j(a,c){__p&&__p();while(!0){var d=c,e=a;if(e===d)return!0;else{var f=typeof e;if(f==="string"||f==="number"||f==="boolean"||f==="undefined"||e===null)return!1;else{var g=typeof d;if(f==="function"||g==="function")throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: functional value"];else if(g==="number"||g==="undefined"||d===null)return!1;else{f=e.tag|0;g=d.tag|0;if(f===250){a=e[0];continue}else if(g===250){c=d[0];continue}else if(f===248)return e[1]===d[1];else if(f===251)throw[b("bs_caml_builtin_exceptions").invalid_argument,"equal: abstract value"];else if(f!==g)return!1;else if(f===256)return e[1]===d[1];else{g=e.length|0;f=d.length|0;if(g===f)if(Array.isArray(e)){f=e;var i=d,k=0;g=g;while(!0){var l=k;if(l===g)return!0;else if(j(f[l],i[l])){k=l+1|0;continue}else return!1}}else{l=e;k=d;f=[!0];i=function(a,b){return function(c){if(Object.prototype.hasOwnProperty.call(a,c))return 0;else{b[0]=!1;return 0}}}(k,f);g=function(a,b,c){return function(d){if(!Object.prototype.hasOwnProperty.call(a,d)||!j(b[d],a[d])){c[0]=!1;return 0}else return 0}}(l,k,f);h(l,i);f[0]&&h(k,g);return f[0]}else return!1}}}}}}function k(a,b){if(b!==null)return j(a,b);else return a===b}function l(a,b){if(b!==void 0)return j(a,b);else return a===b}function m(a,b){if(b==null)return a===b;else return j(a,b)}function n(a,b){return!j(a,b)}function o(a,b){return i(a,b)>=0}function p(a,b){return i(a,b)>0}function q(a,b){return i(a,b)<=0}function r(a,b){return i(a,b)<0}function s(a,b){if(i(a,b)<=0)return a;else return b}function t(a,b){if(i(a,b)>=0)return a;else return b}f.caml_obj_block=a;f.caml_obj_dup=c;f.caml_obj_truncate=d;f.caml_lazy_make_forward=e;f.caml_update_dummy=g;f.caml_compare=i;f.caml_equal=j;f.caml_equal_null=k;f.caml_equal_undefined=l;f.caml_equal_nullable=m;f.caml_notequal=n;f.caml_greaterequal=o;f.caml_greaterthan=p;f.caml_lessthan=r;f.caml_lessequal=q;f.caml_min=s;f.caml_max=t}),null);
__d("bs_caml_string",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return String.fromCharCode(a)}function c(a,c){if(c>=a.length||c<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return a.charCodeAt(c)}function d(a){if(a<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.create"];else{var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=0;return c}}function e(a,b,c,d){if(c>0){for(var e=b,c=(c+b|0)-1|0;e<=c;++e)a[e]=d;return 0}else return 0}function g(a,b,c,d,e){__p&&__p();if(e>0){var f=a.length-b|0;if(e<=f){for(var g=0,h=e-1|0;g<=h;++g)c[d+g|0]=a.charCodeAt(b+g|0);return 0}else{for(var g=0,h=f-1|0;g<=h;++g)c[d+g|0]=a.charCodeAt(b+g|0);for(var g=f,b=e-1|0;g<=b;++g)c[d+g|0]=0;return 0}}else return 0}function h(a,b,c,d,e){__p&&__p();if(e>0)if(a===c){var f=a,g=b,h=d,i=e;if(g<h){var j=(f.length-h|0)-1|0,k=i-1|0;k=j>k?k:j;for(var j=k;j>=0;--j)f[h+j|0]=f[g+j|0];return 0}else if(g>h){k=(f.length-g|0)-1|0;j=i-1|0;i=k>j?j:k;for(var j=0;j<=i;++j)f[h+j|0]=f[g+j|0];return 0}else return 0}else{k=a.length-b|0;if(e<=k){for(var g=0,h=e-1|0;g<=h;++g)c[d+g|0]=a[b+g|0];return 0}else{for(var j=0,i=k-1|0;j<=i;++j)c[d+j|0]=a[b+j|0];for(var f=k,g=e-1|0;f<=g;++f)c[d+f|0]=0;return 0}}else return 0}function i(a){var b=a.length,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a.charCodeAt(d);return c}function j(a){__p&&__p();var b=a,c=0;a=a.length;var d="",e=a;if(c===0&&a<=4096&&a===b.length)return String.fromCharCode.apply(null,b);else{c=0;while(e>0){a=e<1024?e:1024;var f=new Array(a);h(b,c,f,0,a);d=d+String.fromCharCode.apply(null,f);e=e-a|0;c=c+a|0}return d}}function k(a){var b=a.length,c=new Array(b);for(var d=0,b=b-1|0;d<=b;++d)c[d]=a[d];return j(c)}function l(a){if(a>31)return a<127;else return!1}function m(a,b){return a.charCodeAt(b)+(a.charCodeAt(b+1|0)<<8)|0}function n(a,b){return((a.charCodeAt(b)+(a.charCodeAt(b+1|0)<<8)|0)+(a.charCodeAt(b+2|0)<<16)|0)+(a.charCodeAt(b+3|0)<<24)|0}function o(a,c){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"index out of bounds"];else return a.charCodeAt(c)}f.bytes_of_string=i;f.bytes_to_string=j;f.caml_is_printable=l;f.caml_string_of_char_array=k;f.caml_string_get=c;f.caml_create_string=d;f.caml_fill_string=e;f.caml_blit_string=g;f.caml_blit_bytes=h;f.caml_string_get16=m;f.caml_string_get32=n;f.string_of_char=a;f.get=o}),null);
__d("bs_char",["bs_caml_string","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a<0||a>255)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Char.chr"];else return a}function c(a){__p&&__p();var c=0;if(a>=40)if(a!==92)c=a>=127?1:2;else return"\\\\";else if(a>=32)if(a>=39)return"\\'";else c=2;else if(a>=14)c=1;else switch(a){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:c=1;break;case 13:return"\\r"}switch(c){case 1:c=b("bs_caml_string").caml_create_string(4);c[0]=92;c[1]=48+(a/100|0)|0;c[2]=48+(a/10|0)%10|0;c[3]=48+a%10|0;return b("bs_caml_string").bytes_to_string(c);case 2:c=b("bs_caml_string").caml_create_string(1);c[0]=a;return b("bs_caml_string").bytes_to_string(c)}}function d(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function e(a){if(a>=97&&a<=122||a>=224&&a<=246||a>=248&&a<=254)return a-32|0;else return a}function g(a,b){return a-b|0}f.chr=a;f.escaped=c;f.lowercase=d;f.uppercase=e;f.compare=g}),null);
__d("bs_caml_utils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=String.prototype.repeat&&function(a,b){return b.repeat(a)}||function(a,b){__p&&__p();if(b.length==0||a==0)return"";if(b.length*a>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var c="";for(;;){(a&1)==1&&(c+=b);a>>>=1;if(a==0)break;b+=b}return c};f.repeat=a}),null);
__d("bs_caml_int64",["bs_caml_int32","bs_caml_utils","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[-2147483648,0],h=[2147483647,1],i=[0,1],j=[0,0],k=[-1,4294967295];function l(a){return(a&2147483648)!==0}function m(a,b){var c=b[1],d=a[1],e=d+c&4294967295;d=l(d)&&(l(c)||!l(e))||l(c)&&!l(e)?1:0;c=a[0]+b[0]+d&4294967295;return[c,e>>>0]}function n(a){var b=a[0]^-1;a=a[1]^-1;return[b,a>>>0]}function o(a,b){if(a[0]===b[0])return a[1]===b[1];else return!1}function a(a,b){if(b!==null)return o(a,b);else return!1}function c(a,b){if(b!==void 0)return o(a,b);else return!1}function d(a,b){if(b==null)return!1;else return o(a,b)}function p(a){if(o(a,g))return g;else return m(n(a),i)}function e(a,b){return m(a,p(b))}function q(a,b){if(b===0)return a;else{var c=a[1];if(b>=32)return[c<<(b-32|0),0];else{a=c>>>(32-b|0)|a[0]<<b;return[a,c<<b>>>0]}}}function r(a,b){__p&&__p();if(b===0)return a;else{var c=a[0],d=b-32|0;if(d===0)return[0,c>>>0];else if(d>0){var e=c>>>d;return[0,e>>>0]}else{e=c>>>b;c=c<<(-d|0)|a[1]>>>b;return[e,c>>>0]}}}function s(a,b){__p&&__p();if(b===0)return a;else{var c=a[0];if(b<32){var d=c>>b;a=c<<(32-b|0)|a[1]>>>b;return[d,a>>>0]}else{d=c>>(b-32|0);return[c>=0?0:-1,d>>>0]}}}function t(a){if(a[0]!==0||a[1]!==0)return!1;else return!0}function u(a,b){__p&&__p();while(!0){var c=b,d=a,e=0,f,h=d[0],i=0,k=0,l;if(h!==0||d[1]!==0)l=4;else return j;if(l===4)if(c[0]!==0||c[1]!==0)k=3;else return j;k===3&&(h!==-2147483648||d[1]!==0?i=2:(f=c[1],e=1));if(i===2){l=c[0];k=d[1];i=0;l!==-2147483648||c[1]!==0?i=3:(f=k,e=1);if(i===3){i=c[1];if(h<0)if(l<0){b=p(c);a=p(d);continue}else return p(u(p(d),c));else if(l<0)return p(u(d,p(c)));else{d=h>>>16;c=h&65535;h=k>>>16;k=k&65535;var m=l>>>16;l=l&65535;var n=i>>>16;i=i&65535;var o,q,r,s=k*i;r=(s>>>16)+h*i;q=r>>>16;r=(r&65535)+k*n;q=q+(r>>>16)+c*i;o=q>>>16;q=(q&65535)+h*n;o+=q>>>16;q=(q&65535)+k*l;o+=q>>>16;q=q&65535;o=o+(d*i+c*n+h*l+k*m)&65535;d=q|o<<16;i=s&65535|(r&65535)<<16;return[d,i>>>0]}}}if(e===1)if((f&1)===0)return j;else return g}}function v(a){var c=b("bs_caml_int32").caml_int32_bswap(a[1]);a=b("bs_caml_int32").caml_int32_bswap(a[0]);return[c,a>>>0]}function w(a,b){return[a[0]^b[0],(a[1]^b[1])>>>0]}function x(a,b){return[a[0]|b[0],(a[1]|b[1])>>>0]}function y(a,b){return[a[0]&b[0],(a[1]&b[1])>>>0]}function z(a,b){var c=b[0],d=a[0];if(d>c)return!0;else if(d<c)return!1;else return a[1]>=b[1]}function A(a,b){return!o(a,b)}function B(a,b){return!z(a,b)}function C(a,b){if(a[0]>b[0])return!0;else if(a[0]<b[0])return!1;else return a[1]>b[1]}function D(a,b){return!C(a,b)}function E(a,b){if(z(a,b))return b;else return a}function F(a,b){if(C(a,b))return a;else return b}function G(a){return a[0]*4294967296+a[1]}var H=Math.pow(2,32),I=Math.pow(2,63),J=-Math.pow(2,63);function K(a){__p&&__p();if(isNaN(a)||!isFinite(a))return j;else if(a<=J)return g;else if(a+1>=I)return h;else if(a<0)return p(K(-a));else{var b=a/H|0;a=a%H|0;return[b,a>>>0]}}function L(a,c){__p&&__p();while(!0){var d=c,e=a,f=e[0],h=0,l;if(d[0]!==0||d[1]!==0)l=2;else throw b("bs_caml_builtin_exceptions").division_by_zero;if(l===2)if(f!==-2147483648)if(f!==0||e[1]!==0)h=1;else return j;else if(e[1]!==0)h=1;else if(o(d,i)||o(d,k))return e;else if(o(d,g))return i;else{l=d[0];var n=s(e,1);n=q(L(n,d),1);var r;if(n[0]!==0||n[1]!==0)r=3;else if(l<0)return i;else return p(i);if(r===3){l=u(d,n);r=m(e,p(l));return m(n,L(r,d))}}if(h===1){l=d[0];if(l!==-2147483648||d[1]!==0)n=2;else return j;if(n===2)if(f<0)if(l<0){c=p(d);a=p(e);continue}else return p(L(p(e),d));else if(l<0)return p(L(e,p(d)));else{r=j;h=e;while(z(h,d)){n=b("bs_caml_primitive").caml_float_max(1,Math.floor(G(h)/G(d)));f=Math.ceil(Math.log(n)/Math.LN2);l=f<=48?1:Math.pow(2,f-48);e=K(n);f=u(e,d);while(f[0]<0||C(f,h))n-=l,e=K(n),f=u(e,d);t(e)&&(e=i);r=m(r,e);h=m(h,p(f))}return r}}}}function M(a,b){b=u(L(a,b),b);return m(a,p(b))}function N(a,b){var c=L(a,b);b=u(c,b);return[c,m(a,p(b))]}function O(a,c){var d=b("bs_caml_primitive").caml_nativeint_compare(a[0],c[0]);if(d===0)return b("bs_caml_primitive").caml_nativeint_compare(a[1],c[1]);else return d}function P(a){return[a<0?-1:0,a>>>0]}function Q(a){return a[1]|0}function R(a){__p&&__p();var c=function(a){return(a>>>0).toString(16)},d=a[0],e=a[1],f;if(d!==0||e!==0)f=1;else return"0";if(f===1)if(e!==0)if(d!==0){f=c(a[1]);e=8-f.length|0;if(e<=0)return c(a[0])+f;else return c(a[0])+(b("bs_caml_utils").repeat(e,"0")+f)}else return c(a[1]);else return c(a[0])+"00000000"}function S(a){return[2147483647&a[0],a[1]]}function T(a){a=new Int32Array([a[1],a[0]]);return new Float64Array(a.buffer)[0]}function U(a){a=new Float64Array([a]);a=new Int32Array(a.buffer);var b=a[1];b=b;a=a[0];a=a;return[b,a>>>0]}function V(a,b){var c=a.charCodeAt(b+4|0)<<32|a.charCodeAt(b+5|0)<<40|a.charCodeAt(b+6|0)<<48|a.charCodeAt(b+7|0)<<56;a=a.charCodeAt(b)|a.charCodeAt(b+1|0)<<8|a.charCodeAt(b+2|0)<<16|a.charCodeAt(b+3|0)<<24;return[c,a>>>0]}f.min_int=g;f.max_int=h;f.one=i;f.zero=j;f.not=n;f.of_int32=P;f.to_int32=Q;f.add=m;f.neg=p;f.sub=e;f.lsl_=q;f.lsr_=r;f.asr_=s;f.is_zero=t;f.mul=u;f.xor=w;f.or_=x;f.and_=y;f.swap=v;f.ge=z;f.eq=o;f.neq=A;f.lt=B;f.gt=C;f.le=D;f.equal_null=a;f.equal_undefined=c;f.equal_nullable=d;f.min=E;f.max=F;f.to_float=G;f.of_float=K;f.div=L;f.mod_=M;f.div_mod=N;f.compare=O;f.to_hex=R;f.discard_sign=S;f.float_of_bits=T;f.bits_of_float=U;f.get64=V}),null);
__d("bs_caml_format",["bs_curry","bs_caml_int32","bs_caml_int64","bs_caml_utils","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){throw[b("bs_caml_builtin_exceptions").failure,a]}function h(a){__p&&__p();if(a>=65)if(a>=97)if(a>=123)return-1;else return a-87|0;else if(a>=91)return-1;else return a-55|0;else if(a>57||a<48)return-1;else return a-48|0}function i(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function j(a){var b=1,c=2,d=0;a[d]==="-"&&(b=-1,d=d+1|0);var e=a.charCodeAt(d);a=a.charCodeAt(d+1|0);e===48&&(a>=89?a!==98?a!==111?a===120&&(c=1,d=d+2|0):(c=0,d=d+2|0):(c=3,d=d+2|0):a!==66?a!==79?a>=88&&(c=1,d=d+2|0):(c=0,d=d+2|0):(c=3,d=d+2|0));return[d,b,c]}function a(a){__p&&__p();var c=j(a),d=c[0],e=i(c[2]),f=4294967295,g=a.length,k=d<g?a.charCodeAt(d):0;k=h(k);if(k<0||k>=e)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];var l=function(c,d){__p&&__p();while(!0){var i=d,j=c;if(i===g)return j;else{var k=a.charCodeAt(i);if(k===95){d=i+1|0;continue}else{k=h(k);if(k<0||k>=e)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];else{j=e*j+k;if(j>f)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];else{d=i+1|0;c=j;continue}}}}}};c=c[1]*l(k,d+1|0);l=c|0;if(e===10&&c!==l)throw[b("bs_caml_builtin_exceptions").failure,"int_of_string"];return l}function c(a){__p&&__p();var c=j(a),d=c[2],e=c[0],f=b("bs_caml_int64").of_int32(i(d));c=b("bs_caml_int64").of_int32(c[1]);var g;switch(d){case 0:g=[536870911,4294967295];break;case 1:g=[268435455,4294967295];break;case 2:g=[429496729,2576980377];break;case 3:g=[2147483647,4294967295];break}var k=a.length;d=e<k?a.charCodeAt(e):0;d=b("bs_caml_int64").of_int32(h(d));if(b("bs_caml_int64").lt(d,[0,0])||b("bs_caml_int64").ge(d,f))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];var l=function(c,d){__p&&__p();while(!0){var e=d,i=c;if(e===k)return i;else{var j=a.charCodeAt(e);if(j===95){d=e+1|0;continue}else{j=b("bs_caml_int64").of_int32(h(j));if(b("bs_caml_int64").lt(j,[0,0])||b("bs_caml_int64").ge(j,f)||b("bs_caml_int64").gt(i,g))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];else{i=b("bs_caml_int64").add(b("bs_caml_int64").mul(f,i),j);d=e+1|0;c=i;continue}}}}};c=b("bs_caml_int64").mul(c,l(d,e+1|0));l=b("bs_caml_int64").or_(c,[0,0]);if(b("bs_caml_int64").eq(f,[0,10])&&b("bs_caml_int64").neq(c,l))throw[b("bs_caml_builtin_exceptions").failure,"int64_of_string"];return l}function k(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10}}function l(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function m(a){__p&&__p();var c=a.length;if(c>31)throw[b("bs_caml_builtin_exceptions").invalid_argument,"format_int: format too long"];var d=["+","-"," ",!1,2,!1,0,!1,1,-1,"f"],e=0;while(!0){var f=e;if(f>=c)return d;else{var g=a.charCodeAt(f),h=0;if(g>=69)if(g>=88)if(g>=121)h=1;else switch(g-88|0){case 0:d[4]=1;d[7]=!0;e=f+1|0;continue;case 13:case 14:case 15:h=5;break;case 12:case 17:h=4;break;case 23:d[4]=0;e=f+1|0;continue;case 29:d[4]=2;e=f+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:h=1;break;case 32:d[4]=1;e=f+1|0;continue}else if(g>=72)h=1;else{d[5]=!0;d[7]=!0;d[10]=String.fromCharCode(l(g));e=f+1|0;continue}else{var i=g-32|0;if(i>25||i<0)h=1;else switch(i){case 3:d[3]=!0;e=f+1|0;continue;case 0:case 11:h=2;break;case 13:d[0]="-";e=f+1|0;continue;case 14:d[9]=0;i=f+1|0;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(i)())d[9]=(b("bs_caml_int32").imul(d[9],10)+a.charCodeAt(i)|0)-48|0,i=i+1|0;e=i;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:h=1;break;case 16:d[2]="0";e=f+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:h=3;break}}switch(h){case 1:e=f+1|0;continue;case 2:d[1]=String.fromCharCode(g);e=f+1|0;continue;case 3:d[6]=0;i=f;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(i)())d[6]=(b("bs_caml_int32").imul(d[6],10)+a.charCodeAt(i)|0)-48|0,i=i+1|0;e=i;continue;case 4:d[5]=!0;d[4]=2;e=f+1|0;continue;case 5:d[5]=!0;d[10]=String.fromCharCode(g);e=f+1|0;continue}}}}function n(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7];a=a[8];var k=b.length;h&&(a<0||d!=="-")&&(k=k+1|0);f&&(g===0?k=k+1|0:g===1&&(k=k+2|0));var l="";if(c==="+"&&e===" ")for(var m=k,n=i-1|0;m<=n;++m)l=l+e;h&&(a<0?l=l+"-":d!=="-"&&(l=l+d));f&&g===0&&(l=l+"0");f&&g===1&&(l=l+"0x");if(c==="+"&&e==="0")for(var m=k,n=i-1|0;m<=n;++m)l=l+e;l=j?l+b.toUpperCase():l+b;if(c==="-")for(var h=k,a=i-1|0;h<=a;++h)l=l+" ";return l}function d(a,c){__p&&__p();if(a==="%d")return String(c);else{a=m(a);a=a;c=c;c=c<0?a[5]?(a[8]=-1,-c):c>>>0:c;c=c.toString(k(a[4]));if(a[9]>=0){a[2]=" ";var d=a[9]-c.length|0;d>0&&(c=b("bs_caml_utils").repeat(d,"0")+c)}return n(a,c)}}function e(a,c){__p&&__p();a=m(a);c=a[5]&&b("bs_caml_int64").lt(c,[0,0])?(a[8]=-1,b("bs_caml_int64").neg(c)):c;var d="",e=a[4];switch(e){case 0:e=[0,8];var f="01234567";if(b("bs_caml_int64").lt(c,[0,0])){var g=b("bs_caml_int64").discard_sign(c);g=b("bs_caml_int64").div_mod(g,e);var h=b("bs_caml_int64").add([268435456,0],g[0]);g=g[1];d=String.fromCharCode(f.charCodeAt(g[1]|0))+d;while(b("bs_caml_int64").neq(h,[0,0])){var i=b("bs_caml_int64").div_mod(h,e);h=i[0];g=i[1];d=String.fromCharCode(f.charCodeAt(g[1]|0))+d}}else{i=b("bs_caml_int64").div_mod(c,e);g=i[0];h=i[1];d=String.fromCharCode(f.charCodeAt(h[1]|0))+d;while(b("bs_caml_int64").neq(g,[0,0])){i=b("bs_caml_int64").div_mod(g,e);g=i[0];h=i[1];d=String.fromCharCode(f.charCodeAt(h[1]|0))+d}}break;case 1:d=b("bs_caml_int64").to_hex(c)+d;break;case 2:i=[0,10];h="0123456789";if(b("bs_caml_int64").lt(c,[0,0])){f=b("bs_caml_int64").discard_sign(c);g=b("bs_caml_int64").div_mod(f,i);e=b("bs_caml_int64").div_mod(b("bs_caml_int64").add([0,8],g[1]),i);f=b("bs_caml_int64").add(b("bs_caml_int64").add([214748364,3435973836],g[0]),e[0]);g=e[1];d=String.fromCharCode(h.charCodeAt(g[1]|0))+d;while(b("bs_caml_int64").neq(f,[0,0])){e=b("bs_caml_int64").div_mod(f,i);f=e[0];g=e[1];d=String.fromCharCode(h.charCodeAt(g[1]|0))+d}}else{e=b("bs_caml_int64").div_mod(c,i);g=e[0];f=e[1];d=String.fromCharCode(h.charCodeAt(f[1]|0))+d;while(b("bs_caml_int64").neq(g,[0,0])){c=b("bs_caml_int64").div_mod(g,i);g=c[0];f=c[1];d=String.fromCharCode(h.charCodeAt(f[1]|0))+d}}break}if(a[9]>=0){a[2]=" ";e=a[9]-d.length|0;e>0&&(d=b("bs_caml_utils").repeat(e,"0")+d)}return n(a,d)}function o(a,b){__p&&__p();a=m(a);var c=a[9]<0?6:a[9],d=b<0?(a[8]=-1,-b):b;b="";if(isNaN(d))b="nan",a[2]=" ";else if(isFinite(d)){var e=a[10];switch(e){case"e":b=d.toExponential(c);e=b.length;b[e-3|0]==="e"&&(b=b.slice(0,e-1|0)+("0"+b.slice(e-1|0)));break;case"f":b=d.toFixed(c);break;case"g":var f=c!==0?c:1;b=d.toExponential(f-1|0);e=b.indexOf("e");c=Number(b.slice(e+1|0))|0;if(c<-4||d>=1e21||d.toFixed().length>f){var g=e-1|0;while(b[g]==="0")g=g-1|0;b[g]==="."&&(g=g-1|0);b=b.slice(0,g+1|0)+b.slice(e);g=b.length;b[g-3|0]==="e"&&(b=b.slice(0,g-1|0)+("0"+b.slice(g-1|0)))}else{var h=f;if(c<0)h=h-(c+1|0)|0,b=d.toFixed(h);else while(function(){b=d.toFixed(h);return b.length>(f+1|0)}())h=h-1|0;if(h!==0){e=b.length-1|0;while(b[e]==="0")e=e-1|0;b[e]==="."&&(e=e-1|0);b=b.slice(0,e+1|0)}}break;default:}}else b="inf",a[2]=" ";return n(a,b)}var p=function(b,a){__p&&__p();var c=+b;if(b.length>0&&c===c)return c;b=b.replace(/_/g,"");c=+b;if(b.length>0&&c===c||/^[+-]?nan$/i.test(b))return c;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(b)){var d=b.indexOf("p");d=d==-1?b.indexOf("P"):d;var e=+b.substring(d+1);c=+b.substring(0,d);return c*Math.pow(2,e)}if(/^\+?inf(inity)?$/i.test(b))return Infinity;if(/^-inf(inity)?$/i.test(b))return-Infinity;a("float_of_string")};function q(a){return b("bs_curry")._2(p,a,g)}var r=d,s=d,t=a,u=a;f.caml_format_float=o;f.caml_format_int=d;f.caml_nativeint_format=r;f.caml_int32_format=s;f.caml_float_of_string=q;f.caml_int64_format=e;f.caml_int_of_string=a;f.caml_int32_of_string=t;f.caml_int64_of_string=c;f.caml_nativeint_of_string=u}),null);
__d("bs_caml_io",["bs_curry","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a+b}var g=["",function(a,b){a=b.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write)return process.stdout.write(b);else if(b[a]==="\n")return 0;else return 0}],h=["",function(a,b){a=b.length-1|0;if(b[a]==="\n")return 0;else return 0}];function c(){throw[b("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_in not implemented"]}function d(){throw[b("bs_caml_builtin_exceptions").failure,"caml_ml_open_descriptor_out not implemented"]}function i(a){if(a[0]!==""){b("bs_curry")._2(a[1],a,a[0]);a[0]="";return 0}else return 0}var j=function(a){return typeof process!=="undefined"&&process.stdout&&(process.stdout.write(a),!0)};function k(a,b,c,d){__p&&__p();b=c===0&&d===b.length?b:b.slice(c,d);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&a===g)return process.stdout.write(b);else{c=b.lastIndexOf("\n");if(c<0){a[0]=a[0]+b;return 0}else{a[0]=a[0]+b.slice(0,c+1|0);i(a);a[0]=a[0]+b.slice(c+1|0);return 0}}}function e(a,b){return k(a,String.fromCharCode(b),0,1)}function l(a,c,d,e){throw[b("bs_caml_builtin_exceptions").failure,"caml_ml_input ic not implemented"]}function m(){throw[b("bs_caml_builtin_exceptions").failure,"caml_ml_input_char not implemnted"]}function n(){return[g,[h,0]]}var o=void 0;f.$caret=a;f.stdin=o;f.stdout=g;f.stderr=h;f.caml_ml_open_descriptor_in=c;f.caml_ml_open_descriptor_out=d;f.caml_ml_flush=i;f.node_std_output=j;f.caml_ml_output=k;f.caml_ml_output_char=e;f.caml_ml_input=l;f.caml_ml_input_char=m;f.caml_ml_out_channels_list=n}),null);
__d("bs_caml_missing_polyfill",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a+" not implemented by BuckleScript yet\n";throw new Error(a)}f.not_implemented=a}),null);
__d("bs_caml_sys",["bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=typeof process==="undefined"?void 0:process;if(c!==void 0){c=c.env[a];if(c!==void 0)return c;else throw b("bs_caml_builtin_exceptions").not_found}else throw b("bs_caml_builtin_exceptions").not_found}function c(){var a=typeof process==="undefined"?void 0:process;if(a!==void 0)return a.uptime();else return-1}function d(){return[((Date.now()|0)^4294967295)*Math.random()|0]}function e(){return 127}function g(){var a=typeof process==="undefined"?void 0:process;if(a!==void 0)return a.cwd();else return"/"}function h(){var a=typeof process==="undefined"?void 0:process;if(a!==void 0)if(a.argv==null)return["",[""]];else return[a.argv[0],a.argv];else return["",[""]]}function i(a){var b=typeof process==="undefined"?void 0:process;if(b!==void 0)return b.exit(a);else return 0}function j(){throw[b("bs_caml_builtin_exceptions").failure,"caml_sys_is_directory not implemented"]}function k(){throw[b("bs_caml_builtin_exceptions").failure,"caml_sys_file_exists not implemented"]}f.caml_sys_getenv=a;f.caml_sys_time=c;f.caml_sys_random_seed=d;f.caml_sys_system_command=e;f.caml_sys_getcwd=g;f.caml_sys_get_argv=h;f.caml_sys_exit=i;f.caml_sys_is_directory=j;f.caml_sys_file_exists=k}),null);
__d("bs_camlinternalFormatBasics",["bs_block"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();if(typeof a==="number")return 0;else switch(a.tag|0){case 0:return b("bs_block").__(0,[g(a[0])]);case 1:return b("bs_block").__(1,[g(a[0])]);case 2:return b("bs_block").__(2,[g(a[0])]);case 3:return b("bs_block").__(3,[g(a[0])]);case 4:return b("bs_block").__(4,[g(a[0])]);case 5:return b("bs_block").__(5,[g(a[0])]);case 6:return b("bs_block").__(6,[g(a[0])]);case 7:return b("bs_block").__(7,[g(a[0])]);case 8:return b("bs_block").__(8,[a[0],g(a[1])]);case 9:var c=a[0];return b("bs_block").__(9,[c,c,g(a[2])]);case 10:return b("bs_block").__(10,[g(a[0])]);case 11:return b("bs_block").__(11,[g(a[0])]);case 12:return b("bs_block").__(12,[g(a[0])]);case 13:return b("bs_block").__(13,[g(a[0])]);case 14:return b("bs_block").__(14,[g(a[0])])}}function h(a,c){__p&&__p();if(typeof a==="number")return c;else switch(a.tag|0){case 0:return b("bs_block").__(0,[h(a[0],c)]);case 1:return b("bs_block").__(1,[h(a[0],c)]);case 2:return b("bs_block").__(2,[h(a[0],c)]);case 3:return b("bs_block").__(3,[h(a[0],c)]);case 4:return b("bs_block").__(4,[h(a[0],c)]);case 5:return b("bs_block").__(5,[h(a[0],c)]);case 6:return b("bs_block").__(6,[h(a[0],c)]);case 7:return b("bs_block").__(7,[h(a[0],c)]);case 8:return b("bs_block").__(8,[a[0],h(a[1],c)]);case 9:return b("bs_block").__(9,[a[0],a[1],h(a[2],c)]);case 10:return b("bs_block").__(10,[h(a[0],c)]);case 11:return b("bs_block").__(11,[h(a[0],c)]);case 12:return b("bs_block").__(12,[h(a[0],c)]);case 13:return b("bs_block").__(13,[h(a[0],c)]);case 14:return b("bs_block").__(14,[h(a[0],c)])}}function i(a,c){__p&&__p();if(typeof a==="number")return c;else switch(a.tag|0){case 0:return b("bs_block").__(0,[i(a[0],c)]);case 1:return b("bs_block").__(1,[i(a[0],c)]);case 2:return b("bs_block").__(2,[a[0],i(a[1],c)]);case 3:return b("bs_block").__(3,[a[0],i(a[1],c)]);case 4:return b("bs_block").__(4,[a[0],a[1],a[2],i(a[3],c)]);case 5:return b("bs_block").__(5,[a[0],a[1],a[2],i(a[3],c)]);case 6:return b("bs_block").__(6,[a[0],a[1],a[2],i(a[3],c)]);case 7:return b("bs_block").__(7,[a[0],a[1],a[2],i(a[3],c)]);case 8:return b("bs_block").__(8,[a[0],a[1],a[2],i(a[3],c)]);case 9:return b("bs_block").__(9,[i(a[0],c)]);case 10:return b("bs_block").__(10,[i(a[0],c)]);case 11:return b("bs_block").__(11,[a[0],i(a[1],c)]);case 12:return b("bs_block").__(12,[a[0],i(a[1],c)]);case 13:return b("bs_block").__(13,[a[0],a[1],i(a[2],c)]);case 14:return b("bs_block").__(14,[a[0],a[1],i(a[2],c)]);case 15:return b("bs_block").__(15,[i(a[0],c)]);case 16:return b("bs_block").__(16,[i(a[0],c)]);case 17:return b("bs_block").__(17,[a[0],i(a[1],c)]);case 18:return b("bs_block").__(18,[a[0],i(a[1],c)]);case 19:return b("bs_block").__(19,[i(a[0],c)]);case 20:return b("bs_block").__(20,[a[0],a[1],i(a[2],c)]);case 21:return b("bs_block").__(21,[a[0],i(a[1],c)]);case 22:return b("bs_block").__(22,[i(a[0],c)]);case 23:return b("bs_block").__(23,[a[0],i(a[1],c)]);case 24:return b("bs_block").__(24,[a[0],a[1],i(a[2],c)])}}f.concat_fmtty=h;f.erase_rel=g;f.concat_fmt=i}),null);
__d("bs_pervasives",["bs_curry","bs_caml_io","bs_caml_sys","bs_caml_format","bs_caml_string","bs_caml_exceptions","bs_caml_missing_polyfill","bs_caml_builtin_exceptions","bs_camlinternalFormatBasics"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){throw[b("bs_caml_builtin_exceptions").failure,a]}function c(a){throw[b("bs_caml_builtin_exceptions").invalid_argument,a]}var g=b("bs_caml_exceptions").create("Pervasives.Exit");function d(a){if(a>=0)return a;else return-a|0}function e(a){return a^-1}var h=-2147483648;function i(a){if(a<0||a>255)throw[b("bs_caml_builtin_exceptions").invalid_argument,"char_of_int"];else return a}function j(a){if(a)return"true";else return"false"}function k(a){switch(a){case"false":return!1;case"true":return!0;default:throw[b("bs_caml_builtin_exceptions").invalid_argument,"bool_of_string"]}}function l(a){__p&&__p();var c=a.length,d=0;while(!0){var e=d;if(e>=c)return a+".";else{var f=b("bs_caml_string").get(a,e);if(f>=48)if(f>=58)return a;else{d=e+1|0;continue}else if(f!==45)return a;else{d=e+1|0;continue}}}}function m(a){return l(b("bs_caml_format").caml_format_float("%.12g",a))}function n(a,b){if(a)return[a[0],n(a[1],b)];else return b}var o=b("bs_caml_io").stdin,p=b("bs_caml_io").stdout,q=b("bs_caml_io").stderr;function r(a,c,d){return b("bs_caml_io").caml_ml_open_descriptor_out(b("bs_caml_missing_polyfill").not_implemented("caml_sys_open"))}function s(a){return r([1,[3,[4,[7,0]]]],438,a)}function t(a){return r([1,[3,[4,[6,0]]]],438,a)}function u(){__p&&__p();var a=b("bs_caml_io").caml_ml_out_channels_list(0);while(!0){var c=a;if(c){try{b("bs_caml_io").caml_ml_flush(c[0])}catch(a){}a=c[1];continue}else return 0}}function v(a,c){return b("bs_caml_io").caml_ml_output(a,c,0,c.length)}function w(a,c){return b("bs_caml_io").caml_ml_output(a,c,0,c.length)}function x(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"output"];else return b("bs_caml_io").caml_ml_output(a,c,d,e)}function y(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"output_substring"];else return b("bs_caml_io").caml_ml_output(a,c,d,e)}function z(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_output_value")}function A(a){b("bs_caml_io").caml_ml_flush(a);return b("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel")}function B(a){try{b("bs_caml_io").caml_ml_flush(a)}catch(a){}try{return b("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel")}catch(a){return 0}}function C(a,c,d){return b("bs_caml_io").caml_ml_open_descriptor_in(b("bs_caml_missing_polyfill").not_implemented("caml_sys_open"))}function D(a){return C([0,[7,0]],0,a)}function E(a){return C([0,[6,0]],0,a)}function F(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"input"];else return b("bs_caml_missing_polyfill").not_implemented("caml_ml_input")}function G(a,c,d,e){__p&&__p();while(!0){a=e;c=d;if(a<=0)return 0;else{var f=b("bs_caml_missing_polyfill").not_implemented("caml_ml_input");if(f===0)throw b("bs_caml_builtin_exceptions").end_of_file;else{e=a-f|0;d=c+f|0;continue}}}}function H(a,c,d,e){if(d<0||e<0||d>(c.length-e|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"really_input"];else return G(a,c,d,e)}function I(a,c){var d=b("bs_caml_string").caml_create_string(c);H(a,d,0,c);return b("bs_caml_string").bytes_to_string(d)}function J(a){__p&&__p();var c=function(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(e){var g=e[0],h=g.length;b("bs_caml_string").caml_blit_bytes(g,0,a,f-h|0,h);d=e[1];c=f-h|0;continue}else return a}},d=function(d,e){__p&&__p();while(!0){var f=e,g=d,h=b("bs_caml_missing_polyfill").not_implemented("caml_ml_input_scan_line");if(h===0)if(g)return c(b("bs_caml_string").caml_create_string(f),f,g);else throw b("bs_caml_builtin_exceptions").end_of_file;else if(h>0){var i=b("bs_caml_string").caml_create_string(h-1|0);b("bs_caml_missing_polyfill").not_implemented("caml_ml_input");b("bs_caml_io").caml_ml_input_char(a);if(g){var j=(f+h|0)-1|0;return c(b("bs_caml_string").caml_create_string(j),j,[i,g])}else return i}else{j=b("bs_caml_string").caml_create_string(-h|0);b("bs_caml_missing_polyfill").not_implemented("caml_ml_input");e=f-h|0;d=[j,g];continue}}};return b("bs_caml_string").bytes_to_string(d(0,0))}function K(){try{return b("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel")}catch(a){return 0}}function L(a){return b("bs_caml_io").caml_ml_output_char(p,a)}function M(a){return w(p,a)}function N(a){return v(p,a)}function O(a){return w(p,String(a))}function P(a){return w(p,l(b("bs_caml_format").caml_format_float("%.12g",a)))}function Q(){b("bs_caml_io").caml_ml_output_char(p,10);return b("bs_caml_io").caml_ml_flush(p)}function R(a){return b("bs_caml_io").caml_ml_output_char(q,a)}function S(a){return w(q,a)}function T(a){return v(q,a)}function U(a){return w(q,String(a))}function V(a){return w(q,l(b("bs_caml_format").caml_format_float("%.12g",a)))}function W(){b("bs_caml_io").caml_ml_output_char(q,10);return b("bs_caml_io").caml_ml_flush(q)}function X(){b("bs_caml_io").caml_ml_flush(p);return J(o)}function aa(){return b("bs_caml_format").caml_int_of_string((b("bs_caml_io").caml_ml_flush(p),J(o)))}function ba(){return b("bs_caml_format").caml_float_of_string((b("bs_caml_io").caml_ml_flush(p),J(o)))}function ca(a){return a[1]}function da(a,c){return[b("bs_camlinternalFormatBasics").concat_fmt(a[0],c[0]),a[1]+("%,"+c[1])]}var Y=[u];function ea(a){var c=Y[0];Y[0]=function(){b("bs_curry")._1(a,0);return b("bs_curry")._1(c,0)};return 0}function Z(){return b("bs_curry")._1(Y[0],0)}function fa(a){Z(0);return b("bs_caml_sys").caml_sys_exit(a)}var ga=2147483647,ha=2220446049250313e-31,ia=b("bs_caml_io").caml_ml_flush,ja=b("bs_caml_io").caml_ml_output_char,ka=b("bs_caml_io").caml_ml_output_char;function la(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_output_int")}function ma(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out")}function na(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out")}function oa(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size")}function pa(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode")}var qa=b("bs_caml_io").caml_ml_input_char,ra=b("bs_caml_io").caml_ml_input_char;function sa(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_input_int")}function ta(){return b("bs_caml_missing_polyfill").not_implemented("caml_input_value")}function ua(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in")}function va(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in")}function wa(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size")}function xa(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_close_channel")}function ya(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_set_binary_mode")}function $(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_out_64")}function za(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_out_64")}function Aa(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64")}function Ba(a,c){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_seek_in_64")}function Ca(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_pos_in_64")}function Da(){return b("bs_caml_missing_polyfill").not_implemented("caml_ml_channel_size_64")}$=[$,za,Aa,Ba,Ca,Da];f.invalid_arg=c;f.failwith=a;f.Exit=g;f.abs=d;f.max_int=ga;f.min_int=h;f.lnot=e;f.epsilon_float=ha;f.char_of_int=i;f.string_of_bool=j;f.bool_of_string=k;f.string_of_float=m;f.$at=n;f.stdin=o;f.stdout=p;f.stderr=q;f.print_char=L;f.print_string=M;f.print_bytes=N;f.print_int=O;f.print_float=P;f.print_newline=Q;f.prerr_char=R;f.prerr_string=S;f.prerr_bytes=T;f.prerr_int=U;f.prerr_float=V;f.prerr_newline=W;f.read_line=X;f.read_int=aa;f.read_float=ba;f.open_out=s;f.open_out_bin=t;f.open_out_gen=r;f.flush=ia;f.flush_all=u;f.output_char=ja;f.output_string=w;f.output_bytes=v;f.output=x;f.output_substring=y;f.output_byte=ka;f.output_binary_int=la;f.output_value=z;f.seek_out=ma;f.pos_out=na;f.out_channel_length=oa;f.close_out=A;f.close_out_noerr=B;f.set_binary_mode_out=pa;f.open_in=D;f.open_in_bin=E;f.open_in_gen=C;f.input_char=qa;f.input_line=J;f.input=F;f.really_input=H;f.really_input_string=I;f.input_byte=ra;f.input_binary_int=sa;f.input_value=ta;f.seek_in=ua;f.pos_in=va;f.in_channel_length=wa;f.close_in=xa;f.close_in_noerr=K;f.set_binary_mode_in=ya;f.LargeFile=$;f.string_of_format=ca;f.$caret$caret=da;f.exit=fa;f.at_exit=ea;f.valid_float_lexem=l;f.unsafe_really_input=G;f.do_at_exit=Z}),null);
__d("bs_list",["bs_curry","bs_caml_obj","bs_pervasives","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){__p&&__p();var b=0;a=a;while(!0){var c=a,d=b;if(c){a=c[1];b=d+1|0;continue}else return d}}function a(a){if(a)return a[0];else throw[b("bs_caml_builtin_exceptions").failure,"hd"]}function c(a){if(a)return a[1];else throw[b("bs_caml_builtin_exceptions").failure,"tl"]}function d(a,c){__p&&__p();if(c<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.nth"];else{a=a;c=c;while(!0){var d=c,e=a;if(e)if(d===0)return e[0];else{c=d-1|0;a=e[1];continue}else throw[b("bs_caml_builtin_exceptions").failure,"nth"]}}}function h(a,b){while(!0){var c=b,d=a;if(d){b=[d[0],c];a=d[1];continue}else return c}}function e(a){return h(a,0)}function i(a){if(a)return b("bs_pervasives").$at(a[0],i(a[1]));else return 0}function j(a,c){if(c){var d=b("bs_curry")._1(a,c[0]);return[d,j(a,c[1])]}else return 0}function k(a,c,d){if(d){var e=b("bs_curry")._2(c,a,d[0]);return[e,k(a+1|0,c,d[1])]}else return 0}function l(a,b){return k(0,a,b)}function m(a,c){__p&&__p();var d=0;c=c;while(!0){var e=c,f=d;if(e){c=e[1];d=[b("bs_curry")._1(a,e[0]),f];continue}else return f}}function n(a,c){while(!0){var d=c;if(d){b("bs_curry")._1(a,d[0]);c=d[1];continue}else return 0}}function o(a,c){__p&&__p();var d=0;a=a;c=c;while(!0){var e=c,f=d;if(e){b("bs_curry")._2(a,f,e[0]);c=e[1];d=f+1|0;continue}else return 0}}function p(a,c,d){while(!0){var e=d,f=c;if(e){d=e[1];c=b("bs_curry")._2(a,f,e[0]);continue}else return f}}function q(a,c,d){if(c)return b("bs_curry")._2(a,c[0],q(a,c[1],d));else return d}function r(a,c,d){if(c)if(d){var e=b("bs_curry")._2(a,c[0],d[0]);return[e,r(a,c[1],d[1])]}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else if(d)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.map2"];else return 0}function s(a,c,d){__p&&__p();var e=0;c=c;d=d;while(!0){var f=d,g=c,h=e;if(g)if(f){d=f[1];c=g[1];e=[b("bs_curry")._2(a,g[0],f[0]),h];continue}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else if(f)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.rev_map2"];else return h}}function t(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(f)if(e){b("bs_curry")._2(a,f[0],e[0]);d=e[1];c=f[1];continue}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else if(e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.iter2"];else return 0}}function u(a,c,d,e){__p&&__p();while(!0){var f=e,g=d,h=c;if(g)if(f){e=f[1];d=g[1];c=b("bs_curry")._3(a,h,g[0],f[0]);continue}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else if(f)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.fold_left2"];else return h}}function v(a,c,d,e){if(c)if(d)return b("bs_curry")._3(a,c[0],d[0],v(a,c[1],d[1],e));else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else if(d)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.fold_right2"];else return e}function w(a,c){__p&&__p();while(!0){var d=c;if(d)if(b("bs_curry")._1(a,d[0])){c=d[1];continue}else return!1;else return!0}}function x(a,c){__p&&__p();while(!0){var d=c;if(d)if(b("bs_curry")._1(a,d[0]))return!0;else{c=d[1];continue}else return!1}}function y(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(f)if(e)if(b("bs_curry")._2(a,f[0],e[0])){d=e[1];c=f[1];continue}else return!1;else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else if(e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.for_all2"];else return!0}}function z(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(f)if(e)if(b("bs_curry")._2(a,f[0],e[0]))return!0;else{d=e[1];c=f[1];continue}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else if(e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.exists2"];else return!1}}function A(a,c){__p&&__p();while(!0){var d=c;if(d)if(b("bs_caml_obj").caml_equal(d[0],a))return!0;else{c=d[1];continue}else return!1}}function B(a,b){__p&&__p();while(!0){var c=b;if(c)if(c[0]===a)return!0;else{b=c[1];continue}else return!1}}function C(a,c){__p&&__p();while(!0){var d=c;if(d){var e=d[0];if(b("bs_caml_obj").caml_equal(e[0],a))return e[1];else{c=d[1];continue}}else throw b("bs_caml_builtin_exceptions").not_found}}function D(a,c){__p&&__p();while(!0){var d=c;if(d){var e=d[0];if(e[0]===a)return e[1];else{c=d[1];continue}}else throw b("bs_caml_builtin_exceptions").not_found}}function E(a,c){__p&&__p();while(!0){var d=c;if(d)if(b("bs_caml_obj").caml_equal(d[0][0],a))return!0;else{c=d[1];continue}else return!1}}function F(a,b){__p&&__p();while(!0){var c=b;if(c)if(c[0][0]===a)return!0;else{b=c[1];continue}else return!1}}function G(a,c){if(c){var d=c[1];c=c[0];if(b("bs_caml_obj").caml_equal(c[0],a))return d;else return[c,G(a,d)]}else return 0}function H(a,b){if(b){var c=b[1];b=b[0];if(b[0]===a)return c;else return[b,H(a,c)]}else return 0}function I(a,c){__p&&__p();while(!0){var d=c;if(d){var e=d[0];if(b("bs_curry")._1(a,e))return e;else{c=d[1];continue}}else throw b("bs_caml_builtin_exceptions").not_found}}function J(a){__p&&__p();return function(c){__p&&__p();var d=0;c=c;while(!0){var e=c,f=d;if(e){var g=e[1];e=e[0];if(b("bs_curry")._1(a,e)){c=g;d=[e,f];continue}else{c=g;continue}}else return h(f,0)}}}function K(a,c){__p&&__p();var d=0,e=0;c=c;while(!0){var f=c,g=e,i=d;if(f){var j=f[1];f=f[0];if(b("bs_curry")._1(a,f)){c=j;d=[f,i];continue}else{c=j;e=[f,g];continue}}else return[h(i,0),h(g,0)]}}function L(a){if(a){var b=a[0];a=L(a[1]);return[[b[0],a[0]],[b[1],a[1]]]}else return[0,0]}function M(a,c){if(a)if(c)return[[a[0],c[0]],M(a[1],c[1])];else throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else if(c)throw[b("bs_caml_builtin_exceptions").invalid_argument,"List.combine"];else return 0}function N(a,c,d){if(c)if(d){var e=d[0],f=c[0];if(b("bs_curry")._2(a,f,e)<=0)return[f,N(a,c[1],d)];else return[e,N(a,c,d[1])]}else return c;else return d}function O(a,c){__p&&__p();while(!0){var d=c,e=a;if(e===0)return d;else if(d){c=d[1];a=e-1|0;continue}else throw[b("bs_caml_builtin_exceptions").assert_failure,["list.ml",223,11]]}}function P(c,d){__p&&__p();var a=function(d,a){__p&&__p();var f;if(d!==2)if(d!==3||!a)f=1;else{var g=a[1];if(g){var i=g[1];if(i){i=i[0];g=g[0];var j=a[0];if(b("bs_curry")._2(c,j,g)<=0)if(b("bs_curry")._2(c,g,i)<=0)return[j,[g,[i,0]]];else if(b("bs_curry")._2(c,j,i)<=0)return[j,[i,[g,0]]];else return[i,[j,[g,0]]];else if(b("bs_curry")._2(c,j,i)<=0)return[g,[j,[i,0]]];else if(b("bs_curry")._2(c,g,i)<=0)return[g,[i,[j,0]]];else return[i,[g,[j,0]]]}else f=1}else f=1}else if(a){i=a[1];if(i){g=i[0];j=a[0];if(b("bs_curry")._2(c,j,g)<=0)return[j,[g,0]];else return[g,[j,0]]}else f=1}else f=1;if(f===1){i=d>>1;g=d-i|0;j=O(i,a);f=e(i,a);d=e(g,j);i=f;a=d;g=0;while(!0){j=g;f=a;d=i;if(d)if(f){var k=f[0],l=d[0];if(b("bs_curry")._2(c,l,k)>0){g=[l,j];i=d[1];continue}else{g=[k,j];a=f[1];continue}}else return h(d,j);else return h(f,j)}}},e=function(e,d){__p&&__p();var f;if(e!==2)if(e!==3||!d)f=1;else{var g=d[1];if(g){var i=g[1];if(i){i=i[0];g=g[0];var j=d[0];if(b("bs_curry")._2(c,j,g)>0)if(b("bs_curry")._2(c,g,i)>0)return[j,[g,[i,0]]];else if(b("bs_curry")._2(c,j,i)>0)return[j,[i,[g,0]]];else return[i,[j,[g,0]]];else if(b("bs_curry")._2(c,j,i)>0)return[g,[j,[i,0]]];else if(b("bs_curry")._2(c,g,i)>0)return[g,[i,[j,0]]];else return[i,[g,[j,0]]]}else f=1}else f=1}else if(d){i=d[1];if(i){g=i[0];j=d[0];if(b("bs_curry")._2(c,j,g)>0)return[j,[g,0]];else return[g,[j,0]]}else f=1}else f=1;if(f===1){i=e>>1;g=e-i|0;j=O(i,d);f=a(i,d);e=a(g,j);i=f;d=e;g=0;while(!0){j=g;f=d;e=i;if(e)if(f){var k=f[0],l=e[0];if(b("bs_curry")._2(c,l,k)<=0){g=[l,j];i=e[1];continue}else{g=[k,j];d=f[1];continue}}else return h(e,j);else return h(f,j)}}},f=g(d);if(f<2)return d;else return a(f,d)}function Q(c,d){__p&&__p();var a=function(d,a){__p&&__p();var f;if(d!==2)if(d!==3||!a)f=1;else{var g=a[1];if(g){var i=g[1];if(i){i=i[0];g=g[0];var j=a[0],k=b("bs_curry")._2(c,j,g);if(k===0){var l=b("bs_curry")._2(c,g,i);if(l===0)return[g,0];else if(l<0)return[g,[i,0]];else return[i,[g,0]]}else if(k<0){l=b("bs_curry")._2(c,g,i);if(l===0)return[j,[g,0]];else if(l<0)return[j,[g,[i,0]]];else{k=b("bs_curry")._2(c,j,i);if(k===0)return[j,[g,0]];else if(k<0)return[j,[i,[g,0]]];else return[i,[j,[g,0]]]}}else{l=b("bs_curry")._2(c,j,i);if(l===0)return[g,[j,0]];else if(l<0)return[g,[j,[i,0]]];else{k=b("bs_curry")._2(c,g,i);if(k===0)return[g,[j,0]];else if(k<0)return[g,[i,[j,0]]];else return[i,[g,[j,0]]]}}}else f=1}else f=1}else if(a){l=a[1];if(l){k=l[0];i=a[0];g=b("bs_curry")._2(c,i,k);if(g===0)return[i,0];else if(g<0)return[i,[k,0]];else return[k,[i,0]]}else f=1}else f=1;if(f===1){j=d>>1;l=d-j|0;g=O(j,a);k=e(j,a);i=e(l,g);f=k;d=i;j=0;while(!0){a=j;l=d;g=f;if(g)if(l){k=l[1];i=l[0];var m=g[1],n=g[0],o=b("bs_curry")._2(c,n,i);if(o===0){j=[n,a];d=k;f=m;continue}else if(o>0){j=[n,a];f=m;continue}else{j=[i,a];d=k;continue}}else return h(g,a);else return h(l,a)}}},e=function(e,d){__p&&__p();var f;if(e!==2)if(e!==3||!d)f=1;else{var g=d[1];if(g){var i=g[1];if(i){i=i[0];g=g[0];var j=d[0],k=b("bs_curry")._2(c,j,g);if(k===0){var l=b("bs_curry")._2(c,g,i);if(l===0)return[g,0];else if(l>0)return[g,[i,0]];else return[i,[g,0]]}else if(k>0){l=b("bs_curry")._2(c,g,i);if(l===0)return[j,[g,0]];else if(l>0)return[j,[g,[i,0]]];else{k=b("bs_curry")._2(c,j,i);if(k===0)return[j,[g,0]];else if(k>0)return[j,[i,[g,0]]];else return[i,[j,[g,0]]]}}else{l=b("bs_curry")._2(c,j,i);if(l===0)return[g,[j,0]];else if(l>0)return[g,[j,[i,0]]];else{k=b("bs_curry")._2(c,g,i);if(k===0)return[g,[j,0]];else if(k>0)return[g,[i,[j,0]]];else return[i,[g,[j,0]]]}}}else f=1}else f=1}else if(d){l=d[1];if(l){k=l[0];i=d[0];g=b("bs_curry")._2(c,i,k);if(g===0)return[i,0];else if(g>0)return[i,[k,0]];else return[k,[i,0]]}else f=1}else f=1;if(f===1){j=e>>1;l=e-j|0;g=O(j,d);k=a(j,d);i=a(l,g);f=k;e=i;j=0;while(!0){d=j;l=e;g=f;if(g)if(l){k=l[1];i=l[0];var m=g[1],n=g[0],o=b("bs_curry")._2(c,n,i);if(o===0){j=[n,d];e=k;f=m;continue}else if(o<0){j=[n,d];f=m;continue}else{j=[i,d];e=k;continue}}else return h(g,d);else return h(l,d)}}},f=g(d);if(f<2)return d;else return a(f,d)}var R=b("bs_pervasives").$at,S=i,T=J,U=P,V=P;f.length=g;f.hd=a;f.tl=c;f.nth=d;f.rev=e;f.append=R;f.rev_append=h;f.concat=S;f.flatten=i;f.iter=n;f.iteri=o;f.map=j;f.mapi=l;f.rev_map=m;f.fold_left=p;f.fold_right=q;f.iter2=t;f.map2=r;f.rev_map2=s;f.fold_left2=u;f.fold_right2=v;f.for_all=w;f.exists=x;f.for_all2=y;f.exists2=z;f.mem=A;f.memq=B;f.find=I;f.filter=T;f.find_all=J;f.partition=K;f.assoc=C;f.assq=D;f.mem_assoc=E;f.mem_assq=F;f.remove_assoc=G;f.remove_assq=H;f.split=L;f.combine=M;f.sort=U;f.stable_sort=P;f.fast_sort=V;f.sort_uniq=Q;f.merge=N}),null);
__d("bs_bytes",["bs_char","bs_list","bs_curry","bs_caml_obj","bs_caml_int32","bs_caml_string","bs_caml_primitive","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=b("bs_caml_string").caml_create_string(a);b("bs_caml_string").caml_fill_string(d,0,a,c);return d}function c(a,c){var d=b("bs_caml_string").caml_create_string(a);for(var e=0,a=a-1|0;e<=a;++e)d[e]=b("bs_curry")._1(c,e);return d}var g=[];function h(a){var c=a.length,d=b("bs_caml_string").caml_create_string(c);b("bs_caml_string").caml_blit_bytes(a,0,d,0,c);return d}function d(a){return b("bs_caml_string").bytes_to_string(h(a))}function e(a){return h(b("bs_caml_string").bytes_of_string(a))}function i(a,c,d){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.sub / Bytes.sub"];else{var e=b("bs_caml_string").caml_create_string(d);b("bs_caml_string").caml_blit_bytes(a,c,e,0,d);return e}}function j(a,c,d){return b("bs_caml_string").bytes_to_string(i(a,c,d))}function k(a,c,d){d=(a.length+c|0)+d|0;var e=b("bs_caml_string").caml_create_string(d);c=c<0?[-c|0,0]:[0,c];var f=c[1];c=c[0];d=b("bs_caml_primitive").caml_int_min(a.length-c|0,d-f|0);d>0&&b("bs_caml_string").caml_blit_bytes(a,c,e,f,d);return e}function l(a,c,d,e){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.fill / Bytes.fill"];else return b("bs_caml_string").caml_fill_string(a,c,d,e)}function m(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bytes.blit"];else return b("bs_caml_string").caml_blit_bytes(a,c,d,e,f)}function n(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.blit / Bytes.blit_string"];else return b("bs_caml_string").caml_blit_string(a,c,d,e,f)}function o(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._1(a,c[d]);return 0}function p(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._2(a,d,c[d]);return 0}function q(a,c){__p&&__p();if(c){var d=c[0],e=[0],f=[0];b("bs_list").iter(function(a){e[0]=e[0]+1|0;f[0]=f[0]+a.length|0;return 0},c);var h=b("bs_caml_string").caml_create_string(f[0]+b("bs_caml_int32").imul(a.length,e[0]-1|0)|0);b("bs_caml_string").caml_blit_bytes(d,0,h,0,d.length);var i=[d.length];b("bs_list").iter(function(c){b("bs_caml_string").caml_blit_bytes(a,0,h,i[0],a.length);i[0]=i[0]+a.length|0;b("bs_caml_string").caml_blit_bytes(c,0,h,i[0],c.length);i[0]=i[0]+c.length|0;return 0},c[1]);return h}else return g}function r(a,c){var d=a.length,e=c.length,f=b("bs_caml_string").caml_create_string(d+e|0);b("bs_caml_string").caml_blit_bytes(a,0,f,0,d);b("bs_caml_string").caml_blit_bytes(c,0,f,d,e);return f}function s(a){a=a-9|0;if(a>4||a<0)return a===23;else return a!==2}function t(a){var b=a.length,c=0;while(c<b&&s(a[c]))c=c+1|0;b=b-1|0;while(b>=c&&s(a[b]))b=b-1|0;if(b>=c)return i(a,c,(b-c|0)+1|0);else return g}function u(a){__p&&__p();var c=0;for(var d=0,e=a.length-1|0;d<=e;++d){var f=a[d];if(f>=32){var g=f-34|0;g=g>58||g<0?g>=93?4:1:g>57||g<1?2:1}else g=f>=11?f!==13?4:2:f>=8?2:4;c=c+g|0}if(c===a.length)return h(a);else{f=b("bs_caml_string").caml_create_string(c);c=0;for(var g=0,d=a.length-1|0;g<=d;++g){e=a[g];var i=0;if(e>=35)e!==92?e>=127?i=1:f[c]=e:i=2;else if(e>=32)e>=34?i=2:f[c]=e;else if(e>=14)i=1;else switch(e){case 8:f[c]=92;c=c+1|0;f[c]=98;break;case 9:f[c]=92;c=c+1|0;f[c]=116;break;case 10:f[c]=92;c=c+1|0;f[c]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:i=1;break;case 13:f[c]=92;c=c+1|0;f[c]=114;break}switch(i){case 1:f[c]=92;c=c+1|0;f[c]=48+(e/100|0)|0;c=c+1|0;f[c]=48+(e/10|0)%10|0;c=c+1|0;f[c]=48+e%10|0;break;case 2:f[c]=92;c=c+1|0;f[c]=e;break}c=c+1|0}return f}}function v(a,c){var d=c.length;if(d===0)return c;else{var e=b("bs_caml_string").caml_create_string(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._1(a,c[f]);return e}}function w(a,c){var d=c.length;if(d===0)return c;else{var e=b("bs_caml_string").caml_create_string(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._2(a,f,c[f]);return e}}function x(a){return v(b("bs_char").uppercase,a)}function y(a){return v(b("bs_char").lowercase,a)}function z(a,c){if(c.length===0)return c;else{var d=h(c);d[0]=b("bs_curry")._1(a,c[0]);return d}}function A(a){return z(b("bs_char").uppercase,a)}function B(a){return z(b("bs_char").lowercase,a)}function C(a,c,d,e){__p&&__p();while(!0){var f=d;if(f>=c)throw b("bs_caml_builtin_exceptions").not_found;else if(a[f]===e)return f;else{d=f+1|0;continue}}}function D(a,b){return C(a,a.length,0,b)}function E(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.index_from / Bytes.index_from"];else return C(a,e,c,d)}function F(a,c,d){__p&&__p();while(!0){var e=c;if(e<0)throw b("bs_caml_builtin_exceptions").not_found;else if(a[e]===d)return e;else{c=e-1|0;continue}}}function G(a,b){return F(a,a.length-1|0,b)}function H(a,c,d){if(c<-1||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rindex_from / Bytes.rindex_from"];else return F(a,c,d)}function I(a,c,d){var e=a.length;if(c<0||c>e)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.contains_from / Bytes.contains_from"];else try{C(a,e,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}function J(a,b){return I(a,0,b)}function K(a,c,d){if(c<0||c>=a.length)throw[b("bs_caml_builtin_exceptions").invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];else try{F(a,c,d);return!0}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)return!1;else throw a}}var L=b("bs_caml_obj").caml_compare,M=b("bs_caml_string").bytes_to_string,N=b("bs_caml_string").bytes_of_string;f.make=a;f.init=c;f.empty=g;f.copy=h;f.of_string=e;f.to_string=d;f.sub=i;f.sub_string=j;f.extend=k;f.fill=l;f.blit=m;f.blit_string=n;f.concat=q;f.cat=r;f.iter=o;f.iteri=p;f.map=v;f.mapi=w;f.trim=t;f.escaped=u;f.index=D;f.rindex=G;f.index_from=E;f.rindex_from=H;f.contains=J;f.contains_from=I;f.rcontains_from=K;f.uppercase=x;f.lowercase=y;f.capitalize=A;f.uncapitalize=B;f.compare=L;f.unsafe_to_string=M;f.unsafe_of_string=N}),null);
__d("bs_string",["bs_list","bs_bytes","bs_caml_int32","bs_caml_string","bs_caml_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){return b("bs_caml_string").bytes_to_string(b("bs_bytes").make(a,c))}function c(a,c){return b("bs_caml_string").bytes_to_string(b("bs_bytes").init(a,c))}function d(a){return b("bs_caml_string").bytes_to_string(b("bs_bytes").copy(b("bs_caml_string").bytes_of_string(a)))}function e(a,c,d){return b("bs_caml_string").bytes_to_string(b("bs_bytes").sub(b("bs_caml_string").bytes_of_string(a),c,d))}function g(a,c){__p&&__p();if(c){var d=c[0],e=[0],f=[0];b("bs_list").iter(function(a){e[0]=e[0]+1|0;f[0]=f[0]+a.length|0;return 0},c);var g=b("bs_caml_string").caml_create_string(f[0]+b("bs_caml_int32").imul(a.length,e[0]-1|0)|0);b("bs_caml_string").caml_blit_string(d,0,g,0,d.length);var h=[d.length];b("bs_list").iter(function(c){b("bs_caml_string").caml_blit_string(a,0,g,h[0],a.length);h[0]=h[0]+a.length|0;b("bs_caml_string").caml_blit_string(c,0,g,h[0],c.length);h[0]=h[0]+c.length|0;return 0},c[1]);return b("bs_caml_string").bytes_to_string(g)}else return""}function h(a,c){return b("bs_bytes").iter(a,b("bs_caml_string").bytes_of_string(c))}function i(a,c){return b("bs_bytes").iteri(a,b("bs_caml_string").bytes_of_string(c))}function j(a,c){return b("bs_caml_string").bytes_to_string(b("bs_bytes").map(a,b("bs_caml_string").bytes_of_string(c)))}function k(a,c){return b("bs_caml_string").bytes_to_string(b("bs_bytes").mapi(a,b("bs_caml_string").bytes_of_string(c)))}function l(a){a=a-9|0;if(a>4||a<0)return a===23;else return a!==2}function m(a){if(a===""||!(l(a.charCodeAt(0))||l(a.charCodeAt(a.length-1|0))))return a;else return b("bs_caml_string").bytes_to_string(b("bs_bytes").trim(b("bs_caml_string").bytes_of_string(a)))}function n(a){__p&&__p();var c=function(b){__p&&__p();while(!0){var c=b;if(c>=a.length)return!1;else{var d=a.charCodeAt(c);if(d>=32){d=d-34|0;if(d>58||d<0)if(d>=93)return!0;else{b=c+1|0;continue}else if(d>57||d<1)return!0;else{b=c+1|0;continue}}else return!0}}};if(c(0))return b("bs_caml_string").bytes_to_string(b("bs_bytes").escaped(b("bs_caml_string").bytes_of_string(a)));else return a}function o(a,c){return b("bs_bytes").index(b("bs_caml_string").bytes_of_string(a),c)}function p(a,c){return b("bs_bytes").rindex(b("bs_caml_string").bytes_of_string(a),c)}function q(a,c,d){return b("bs_bytes").index_from(b("bs_caml_string").bytes_of_string(a),c,d)}function r(a,c,d){return b("bs_bytes").rindex_from(b("bs_caml_string").bytes_of_string(a),c,d)}function s(a,c){return b("bs_bytes").contains(b("bs_caml_string").bytes_of_string(a),c)}function t(a,c,d){return b("bs_bytes").contains_from(b("bs_caml_string").bytes_of_string(a),c,d)}function u(a,c,d){return b("bs_bytes").rcontains_from(b("bs_caml_string").bytes_of_string(a),c,d)}function v(a){return b("bs_caml_string").bytes_to_string(b("bs_bytes").uppercase(b("bs_caml_string").bytes_of_string(a)))}function w(a){return b("bs_caml_string").bytes_to_string(b("bs_bytes").lowercase(b("bs_caml_string").bytes_of_string(a)))}function x(a){return b("bs_caml_string").bytes_to_string(b("bs_bytes").capitalize(b("bs_caml_string").bytes_of_string(a)))}function y(a){return b("bs_caml_string").bytes_to_string(b("bs_bytes").uncapitalize(b("bs_caml_string").bytes_of_string(a)))}var z=b("bs_caml_primitive").caml_string_compare,A=b("bs_bytes").fill,B=b("bs_bytes").blit_string;f.make=a;f.init=c;f.copy=d;f.sub=e;f.fill=A;f.blit=B;f.concat=g;f.iter=h;f.iteri=i;f.map=j;f.mapi=k;f.trim=m;f.escaped=n;f.index=o;f.rindex=p;f.index_from=q;f.rindex_from=r;f.contains=s;f.contains_from=t;f.rcontains_from=u;f.uppercase=v;f.lowercase=w;f.capitalize=x;f.uncapitalize=y;f.compare=z}),null);
__d("FBID.bs",["invariant","bs_js_exn","bs_string","bs_belt_Id","gkx","bs_js_types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("bs_string").compare;d=b("bs_belt_Id").MakeComparable([c]);e=d[0];function h(a){if(b("gkx")("678626")){b("bs_js_types").test(a,4)||g(0,3515,a);a!=="0"||g(0,3516,a);var c=/^[0-9]+$/;c.test(a)||g(0,3517,a)}return a}function a(a){try{return h(a)}catch(c){a=b("bs_js_exn").internalToOCamlException(c);if(a[0]===b("bs_js_exn").$$Error)return void 0;else throw a}}f.cmp=e;f.compare=c;f.ofString=a;f.ofStringExn=h}),null);
__d("MessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAN_UNSEND:"can_unsend",DENY_FOR_SPECIFIC_IDS:"deny_for_specific_ids",DENY_IF_THREAD_CONTAINS_PAU:"deny_if_thread_contains_pau",DENY_IF_THREAD_CONTAINS_WORK_USER:"deny_if_thread_contains_work_user",DENY_IF_PAGE_THREAD:"deny_if_page_thread",DENY_IF_MARKETPLACE_THREAD:"deny_if_marketplace_thread",DENY_IF_CANNOT_LOAD_THREAD:"deny_if_cannot_load_thread"})}),null);
__d("MessageThreadUnsendabilityStatus.bs",["MessageThreadUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageThreadUnsendabilityStatus").CAN_UNSEND;case"deny_for_specific_ids":return b("MessageThreadUnsendabilityStatus").DENY_FOR_SPECIFIC_IDS;case"deny_if_cannot_load_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_CANNOT_LOAD_THREAD;case"deny_if_marketplace_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_MARKETPLACE_THREAD;case"deny_if_page_thread":return b("MessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD;case"deny_if_thread_contains_pau":return b("MessageThreadUnsendabilityStatus").DENY_IF_THREAD_CONTAINS_PAU;default:return null}}f.fromNullableString=a}),null);
__d("MessagingThreadType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONE_TO_ONE:1,GROUP:2,ROOM:3,MONTAGE:4,MARKETPLACE:5})}),null);
__d("MercuryAttachmentContentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",PDF:"attach:pdf",RICHTEXT:"attach:richtext",SPREADSHEET:"attach:spreadsheet",PRESENTATION:"attach:presentation",ARCHIVE:"attach:archive",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"})}),null);
__d("MercuryAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO:"audio",ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"})}),null);
__d("MessageSharedMediaIDStore.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a,b){g[a]=b;return 0}function b(a){a=g[a];if(a!==void 0)return a;else return null}f._store=g;f.setMessageIDForAttachmentID=a;f.getMessageIDForAttachmentID=b}),null);
__d("LeadGenInfoFieldTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM:"CUSTOM",CITY:"CITY",COMPANY_NAME:"COMPANY_NAME",COUNTRY:"COUNTRY",DOB:"DOB",EMAIL:"EMAIL",GENDER:"GENDER",FIRST_NAME:"FIRST_NAME",FULL_NAME:"FULL_NAME",JOB_TITLE:"JOB_TITLE",LAST_NAME:"LAST_NAME",MARITIAL_STATUS:"MARITIAL_STATUS",PHONE:"PHONE",POST_CODE:"POST_CODE",PROVINCE:"PROVINCE",RELATIONSHIP_STATUS:"RELATIONSHIP_STATUS",STATE:"STATE",STREET_ADDRESS:"STREET_ADDRESS",ZIP:"ZIP",WORK_EMAIL:"WORK_EMAIL",MILITARY_STATUS:"MILITARY_STATUS",WORK_PHONE_NUMBER:"WORK_PHONE_NUMBER",STORE_LOOKUP:"STORE_LOOKUP",STORE_LOOKUP_WITH_TYPEAHEAD:"STORE_LOOKUP_WITH_TYPEAHEAD",DATE_TIME:"DATE_TIME",ID_CPF:"ID_CPF",ID_AR_DNI:"ID_AR_DNI",ID_CL_RUT:"ID_CL_RUT",ID_CO_CC:"ID_CO_CC",ID_EC_CI:"ID_EC_CI",ID_PE_DNI:"ID_PE_DNI"})}),null);
__d("MNCommerceBubbleType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FB_RETAIL_RECEIPT:1,FB_RETAIL_CANCELLATION:2,FB_RETAIL_SHIPMENT:3,FB_RETAIL_SHIPMENT_TRACKING_EVENT_ETA:4,FB_RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:5,FB_RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:6,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:7,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:8,FB_RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:9,FB_RETAIL_SHIPMENT_ETA:10,FB_RETAIL_NOW_IN_STOCK:11,FB_RETAIL_AGENT_ITEM_SUGGESTION:12,FB_RETAIL_AGENT_ITEM_RECEIPT:13,FB_RETAIL_PROMOTIONAL_MSG:14})}),null);
__d("MNCommerceCallToActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN_NATIVE:1,OPEN_URL:2,OPEN_CANCEL_RIDE_MUTATION:3,POSTBACK:4,ACCOUNT_LINK:5,MANAGE_MESSAGES:6,SHARE:7,PAYMENT:8,FACEBOOK_REPORT_A_PROBLEM:9,SUBSCRIPTION_PRESELECT:10,NAVIGATION:11,EXTENSIBLE_SHARE:12,OPEN_REACT_NATIVE_MINI_APP:13,OPEN_PAGE_ABOUT:14,OPEN_BRANDED_CAMERA:15,OPEN_THREAD:16,OPEN_MARKETPLACE_PROFILE_REPORT:17})}),null);
__d("P2PPaymentRequestStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITED:1,DECLINED:2,TRANSFER_INITED:3,TRANSFER_COMPLETED:4,TRANSFER_FAILED:5,CANCELED:6,EXPIRED:7})}),null);
__d("P2PTransferStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING_SENDER_MANUAL_REVIEW:1,PENDING_SENDER_VERIFICATION:2,CANCELED_SENDER_RISK:3,PENDING_RECIPIENT_NUX:4,CANCELED_DECLINED:5,PENDING_RECIPIENT_VERIFICATION:6,PENDING_RECIPIENT_MANUAL_REVIEW:7,PENDING_RECIPIENT_PROCESSING:8,PENDING_PUSH_FAIL:9,CANCELED_RECIPIENT_RISK:10,CANCELED_SYSTEM_FAIL:11,CANCELED_EXPIRED:12,COMPLETED:13,INTERMEDIATE_PROCESSING:14,PENDING_SENDER_INITED:15,CANCELED_SAME_CARD:16,PENDING_SENDER_VERIFICATION_PROCESSING:17,PENDING_RECIPIENT_VERIFICATION_PROCESSING:18,CANCELED_SENDER_CANCEL:19,PENDING_SENDER_IDV_REVIEW:20,PENDING_RECEIVER_IDV_REVIEW:21})}),null);
__d("PaymentModulesClient",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DONATION_P4P:"donation_p4p",MOR_DONATIONS:"mor_donations",INSTANT_EXPERIENCES:"instant_experiences",BUSINESS_PLATFORM_COMMERCE:"business_platform_commerce",MESSENGER_OMNIM:"messenger_omnim",MESSENGER_PLATFORM:"messenger_platform",PAGES_COMMERCE:"pages_commerce",MESSAGING_COMMERCE:"messaging_commerce",SHIPPING_LABEL:"shipping_label",SYNCHRONOUS_COMPONENT_FLOW:"synchronous_component_flow",PAGES_SOLUTION:"pages_solution",CHECKOUT_EXPERIENCES:"checkout_experiences",C2C_CHECKOUT_EXPERIENCES:"c2c_checkout_experiences",MOBILE_TOP_UP:"mobile_top_up",MOCK:"mock",ADVERTISER_SUBSCRIPTION:"advertiser_subscription",NMOR_FB_BROWSER_PAY:"fb_browser_payment"})}),null);
__d("ServicesCalendarSyncType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLIENT_ONLY:"client_only",NO_CALENDAR_SYNC:"no_calendar_sync",SERVER_CONTINUOUS:"server_continuous",SERVER_SINGLE:"server_single"})}),null);
__d("bs_array",["bs_curry","bs_js_exn","bs_caml_array","bs_caml_exceptions","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(a===0)return[];else if(a<0)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.init"];else{var d=b("bs_caml_array").caml_make_vect(a,b("bs_curry")._1(c,0));for(var e=1,a=a-1|0;e<=a;++e)d[e]=b("bs_curry")._1(c,e);return d}}function c(a,c,d){var e=b("bs_caml_array").caml_make_vect(a,[]);for(var f=0,a=a-1|0;f<=a;++f)e[f]=b("bs_caml_array").caml_make_vect(c,d);return e}function g(a){var c=a.length;if(c===0)return[];else return b("bs_caml_array").caml_array_sub(a,0,c)}function d(a,c){var d=a.length;if(d===0)return g(c);else if(c.length===0)return b("bs_caml_array").caml_array_sub(a,0,d);else return a.concat(c)}function e(a,c,d){if(d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.sub"];else return b("bs_caml_array").caml_array_sub(a,c,d)}function h(a,c,d,e){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.fill"];else{for(var f=c,c=(c+d|0)-1|0;f<=c;++f)a[f]=e;return 0}}function i(a,c,d,e,f){if(f<0||c<0||c>(a.length-f|0)||e<0||e>(d.length-f|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Array.blit"];else return b("bs_caml_array").caml_array_blit(a,c,d,e,f)}function j(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._1(a,c[d]);return 0}function k(a,c){var d=c.length;if(d===0)return[];else{var e=b("bs_caml_array").caml_make_vect(d,b("bs_curry")._1(a,c[0]));for(var f=1,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._1(a,c[f]);return e}}function l(a,c){for(var d=0,e=c.length-1|0;d<=e;++d)b("bs_curry")._2(a,d,c[d]);return 0}function m(a,c){var d=c.length;if(d===0)return[];else{var e=b("bs_caml_array").caml_make_vect(d,b("bs_curry")._2(a,0,c[0]));for(var f=1,d=d-1|0;f<=d;++f)e[f]=b("bs_curry")._2(a,f,c[f]);return e}}function n(a){__p&&__p();var b=a.length-1|0,c=0;while(!0){var d=c,e=b;if(e<0)return d;else{c=[a[e],d];b=e-1|0;continue}}}function o(a,b){while(!0){var c=b,d=a;if(c){b=c[1];a=d+1|0;continue}else return d}}function p(a){__p&&__p();if(a){var c=b("bs_caml_array").caml_make_vect(o(0,a),a[0]),d=1;a=a[1];while(!0){var e=a,f=d;if(e){c[f]=e[0];a=e[1];d=f+1|0;continue}else return c}}else return[]}function q(a,c,d){c=c;for(var e=0,f=d.length-1|0;e<=f;++e)c=b("bs_curry")._2(a,c,d[e]);return c}function r(a,c,d){d=d;for(var e=c.length-1|0;e>=0;--e)d=b("bs_curry")._2(a,c[e],d);return d}var s=b("bs_caml_exceptions").create("Array.Bottom");function t(a,c){__p&&__p();var d=function(d,e){__p&&__p();var f=((e+e|0)+e|0)+1|0,g=f;if((f+2|0)<d){b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,f),b("bs_caml_array").caml_array_get(c,f+1|0))<0&&(g=f+1|0);b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,g),b("bs_caml_array").caml_array_get(c,f+2|0))<0&&(g=f+2|0);return g}else if((f+1|0)<d&&b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,f),b("bs_caml_array").caml_array_get(c,f+1|0))<0)return f+1|0;else if(f<d)return f;else throw[s,e]},e=function(e,f,g){__p&&__p();try{e=e;f=f;var h=g;while(!0){var i=f,j=d(e,i);if(b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,j),h)>0){b("bs_caml_array").caml_array_set(c,i,b("bs_caml_array").caml_array_get(c,j));f=j;continue}else return b("bs_caml_array").caml_array_set(c,i,h)}}catch(a){j=b("bs_js_exn").internalToOCamlException(a);if(j[0]===s)return b("bs_caml_array").caml_array_set(c,j[1],g);else throw j}},f=function(a,e){__p&&__p();try{a=a;e=e;while(!0){var f=e,g=d(a,f);b("bs_caml_array").caml_array_set(c,f,b("bs_caml_array").caml_array_get(c,g));e=g;continue}}catch(a){f=b("bs_js_exn").internalToOCamlException(a);if(f[0]===s)return f[1];else throw f}},g=function(e,f){__p&&__p();while(!0){var d=e,g=(d-1|0)/3|0;if(d===g)throw[b("bs_caml_builtin_exceptions").assert_failure,["array.ml",173,4]];if(b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(c,g),f)<0){b("bs_caml_array").caml_array_set(c,d,b("bs_caml_array").caml_array_get(c,g));if(g>0){e=g;continue}else return b("bs_caml_array").caml_array_set(c,0,f)}else return b("bs_caml_array").caml_array_set(c,d,f)}},h=c.length;for(var i=((h+1|0)/3|0)-1|0;i>=0;--i)e(h,i,b("bs_caml_array").caml_array_get(c,i));for(var i=h-1|0;i>=2;--i){e=b("bs_caml_array").caml_array_get(c,i);b("bs_caml_array").caml_array_set(c,i,b("bs_caml_array").caml_array_get(c,0));g(f(i,0),e)}if(h>1){e=b("bs_caml_array").caml_array_get(c,1);b("bs_caml_array").caml_array_set(c,1,b("bs_caml_array").caml_array_get(c,0));return b("bs_caml_array").caml_array_set(c,0,e)}else return 0}function u(a,c){__p&&__p();var d=function(d,e,f,g,h,j,k){__p&&__p();e=d+e|0;h=g+h|0;var l=d;d=b("bs_caml_array").caml_array_get(c,d);var m=g;g=b("bs_caml_array").caml_array_get(f,g);k=k;while(!0){var n=k,o=g,p=m,q=d,r=l;if(b("bs_curry")._2(a,q,o)<=0){b("bs_caml_array").caml_array_set(j,n,q);q=r+1|0;if(q<e){k=n+1|0;d=b("bs_caml_array").caml_array_get(c,q);l=q;continue}else return i(f,p,j,n+1|0,h-p|0)}else{b("bs_caml_array").caml_array_set(j,n,o);q=p+1|0;if(q<h){k=n+1|0;g=b("bs_caml_array").caml_array_get(f,q);m=q;continue}else return i(c,r,j,n+1|0,e-r|0)}}},e=function(d,e,f,g){for(var h=0,g=g-1|0;h<=g;++h){var i=b("bs_caml_array").caml_array_get(c,d+h|0),j=(f+h|0)-1|0;while(j>=f&&b("bs_curry")._2(a,b("bs_caml_array").caml_array_get(e,j),i)>0)b("bs_caml_array").caml_array_set(e,j+1|0,b("bs_caml_array").caml_array_get(e,j)),j=j-1|0;b("bs_caml_array").caml_array_set(e,j+1|0,i)}return 0},f=function a(f,g,h,i){if(i<=5)return e(f,g,h,i);else{var b=i/2|0;i=i-b|0;a(f+b|0,g,h+b|0,i);a(f,c,f+i|0,b);return d(f+i|0,b,g,h+b|0,i,g,h)}},g=c.length;if(g<=5)return e(0,c,0,g);else{var h=g/2|0;g=g-h|0;var j=b("bs_caml_array").caml_make_vect(g,b("bs_caml_array").caml_array_get(c,0));f(h,j,0,g);f(0,c,g,h);return d(g,h,j,0,g,c,0)}}var v=c,w=b("bs_caml_array").caml_array_concat,x=u;f.init=a;f.make_matrix=c;f.create_matrix=v;f.append=d;f.concat=w;f.sub=e;f.copy=g;f.fill=h;f.blit=i;f.to_list=n;f.of_list=p;f.iter=j;f.map=k;f.iteri=l;f.mapi=m;f.fold_left=q;f.fold_right=r;f.sort=t;f.stable_sort=u;f.fast_sort=x}),null);
__d("bs_belt_Option",["bs_curry","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a!==void 0)return b("bs_js_primitive").valFromOption(a);else throw new Error("getExn")}function g(a,c,d){if(a!==void 0)return d(b("bs_js_primitive").valFromOption(a));else return c}function c(a,c,d){return g(a,c,b("bs_curry").__1(d))}function h(a,c){if(a!==void 0)return b("bs_js_primitive").some(c(b("bs_js_primitive").valFromOption(a)))}function d(a,c){return h(a,b("bs_curry").__1(c))}function i(a,c){if(a!==void 0)return c(b("bs_js_primitive").valFromOption(a))}function e(a,c){return i(a,b("bs_curry").__1(c))}function j(a,c){if(a!==void 0)return b("bs_js_primitive").valFromOption(a);else return c}function k(a){return a!==void 0}function l(a){return a===void 0}function m(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_js_primitive").valFromOption(a),b("bs_js_primitive").valFromOption(c));else return!1;else return c===void 0}function n(a,c,d){return m(a,c,b("bs_curry").__2(d))}function o(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_js_primitive").valFromOption(a),b("bs_js_primitive").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function p(a,c,d){return o(a,c,b("bs_curry").__2(d))}f.getExn=a;f.mapWithDefaultU=g;f.mapWithDefault=c;f.mapU=h;f.map=d;f.flatMapU=i;f.flatMap=e;f.getWithDefault=j;f.isSome=k;f.isNone=l;f.eqU=m;f.eq=n;f.cmpU=o;f.cmp=p}),null);
__d("bs_js_null_undefined",["bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){if(a==null)return a;else return b(a)}function c(a,b){if(a==null)return 0;else return b(a)}function d(a){if(a!==void 0)return b("bs_js_primitive").valFromOption(a)}e=d;f.bind=a;f.iter=c;f.fromOption=d;f.from_opt=e}),null);
__d("MessengerStoryAttachmentTransformer.bs",["fbt","URI","bs_array","bs_string","bs_caml_array","bs_belt_Option","bs_caml_format","CurrentUser","bs_js_primitive","FundsAvailability","bs_js_null_undefined","P2PTransferStatus","MNCommerceBubbleType","PaymentModulesClient","MercuryAttachmentType","bs_caml_builtin_exceptions","P2PPaymentRequestStatus","ServicesCalendarSyncType","MNCommerceCallToActionType","LeadGenInfoFieldTypes"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return b("bs_array").map(function(a){var c=a.user_confirmation;c=c==null?[null,null,null,null,!1]:[c.cancel_button_label,c.continue_button_label,c.confirmation_message,c.confirmation_title,!0];var d=a.payment_metadata;return{action_link:a.action_link,action_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MNCommerceCallToActionType")[a.action_open_type])),action_objects:a.action_objects,title:a.title,confirmation_cancel_label:c[0],confirmation_continue_label:c[1],confirmation_message:c[2],confirmation_title:c[3],id:a.id,is_disabled:a.is_disabled,is_mutable_by_server:a.is_mutable_by_server,logging_token:a.logging_token,payment_metadata:d==null?{payment_module_config:null,total_price:null}:{payment_module_config:d.payment_module_config,total_price:d.total_price},render_style:a.render_style,webview_metadata:{fallback_url:a.webview_metadata.fallback_url,messenger_extensions:a.webview_metadata.messenger_extensions,webview_height_ratio:a.webview_metadata.webview_height_ratio,webview_share_button:a.webview_metadata.webview_share_button},should_show_user_confirmation:c[4],page_id:a.page_id}},a)}function i(a){return b("bs_array").map(function(a){var c=a.url;c=c==null?null:new(b("URI"))(c).getUnqualifiedURI().toString();return{title:a.title,uri:c}},a)}function a(a){if(!(a==null)&&a!=="")return"#"+b("bs_string").sub(a,2,a.length-2|0);else return null}function c(a){if(a==null)return null;else return{url:a.uri,src:a.uri,width:a.width,height:a.height}}function j(a,b){__p&&__p();var c=b.cover_photo,d;if(c==null)d=[null,null,null];else{var e=c.photo.image;e=e==null?[null,null]:[e.uri,{height:e.height,width:e.width}];d=[c.photo.id,e[0],e[1]]}c=b.location;e=c==null?[null,null]:[c.latitude,c.longitude];c=b.overall_star_rating;return{address:b.address.single_line_full_address,category:b.top_category_name,coverPhotoID:d[0],coverPhotoURL:d[1],coverPhotoDimensions:d[2],latitude:e[0],longitude:e[1],name:b.name,rating:c==null?null:c.value,pageID:b.id,priceRange:b.price_range_description,viewerID:a}}function k(a){var b=a.group_commerce_item_seller,c=a.primary_photo,d;if(c==null)d=null;else{c=c.image;d=c==null?null:c.uri}return{caption:a.group_commerce_item_description.text,desc:a.group_commerce_item_description.text,owner_id:b==null?null:b.id,price:a.formatted_price.text,text:a.group_commerce_item_description.text,title:a.group_commerce_item_title,thumb_url:d,url:a.url}}function l(a){return{app_name:a.application_name,artists:a.artist_names,audio_url:a.audio_url,duration_ms:a.duration_ms,title:a.music_title}}function m(a){var c=a.payment;return{id:a.id,desc:a.desc,display_total_cost:a.total_cost,merchant_name:a.merchant_name,target_url:a.target_url,thumb_url:a.thumb_url,raw_amount:a.raw_amount,payment_id:c==null?null:c.id,total_cost:{amount:b("bs_caml_format").caml_float_of_string(a.price_amount),currency:a.price_currency},name:a.name}}function n(a){return{fundraiserID:a.fundraiserID,canDonate:a.canDonate,hasViewerDonated:a.hasViewerDonated,fundraiserDetailedProgressText:a.fundraiserDetailedProgressText,fundraiserSubtitleText:a.fundraiserSubtitleText,focusedCoverPhoto:a.focusedCoverPhoto}}function o(a){return{id:a.id,name:a.name,is_malicious:a.is_malicious,attach_type:b("MercuryAttachmentType").FILE,url:a.uri,extension:a.extension,filesize:a.filesize}}function p(a){return{id:a.id,url_shimhash:a.url_shimhash,attach_type:b("MercuryAttachmentType").VIDEO,url:a.playable_url,extension:a.extension,filesize:a.filesize,name:a.filename,height:a.height,width:a.width}}function q(a){return{id:a.id,name:a.name,desc:a.desc,thumb_url:a.thumb_url,item_url:a.item_url,title:a.name,text:a.desc,source:a.source,image_aspect_ratio:a.image_aspect_ratio,metalines:{metaline_1:a.first_metaline,metaline_2:a.second_metaline,metaline_3:a.third_metaline},default_action:a.default_action,call_to_actions:h(a.call_to_actions)}}function r(a){__p&&__p();var c=function(a){a=a.page_call_to_action;if(a==null)return void 0;else return a.id},d=function(a){a=a.page_call_to_action;if(a==null)return!1;else{a=a.component_flow_service_config;return!(a==null)}},e=function(a){a=a.services_vertical_info;if(a==null)return void 0;else return{isEligibleForAppointmentCalendar:a.is_eligible_for_appointment_calendar,isEligibleForMultiServicesUI:a.is_eligible_for_multi_services_ui,timezoneName:a.time_zone_name}},f=a.page;c=f==null?[void 0,void 0,void 0,!1,void 0]:[f.id,b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("ServicesCalendarSyncType")[f.calendar_sync_type])),c(f),d(f),e(f)];d=a.native_component_flow_request;if(d==null)e=null;else{f=d.page;var h=d.page,i=d.page,j;if(i==null)j=void 0;else{i=i.profile_picture;j=i==null?void 0:i.uri}i=d.suggested_time_range;var k=d.user,l=d.user,m=d.job_application,n=d.user,o;if(n==null)o=void 0;else{n=n.profile_picture;o=n==null?void 0:n.uri}e={additionalInfo:d.additional_info,appointmentAddress:d.appointment_address,archivedStatus:d.archived_status,availability:d.availability,hasSavedToCalendar:d.has_saved_to_calendar,requestFlowType:d.request_flow_type,generalInfo:d.service_general_info,id:d.id,pageID:f==null?void 0:f.id,pageName:h==null?void 0:h.name,pageProfilePic:j,preferredTimeRange:i==null?null:{end:i.end,start:i.start},productItems:d.product_items,reminderBubbleText:d.reminder_bubble_text,requestAdminApprovalType:d.request_admin_approval_type,requestedTime:d.requested_time,specialRequest:d.special_request,status:d.booking_status_value,statusLabel:d.status,userID:k==null?void 0:k.id,username:l==null?void 0:l.short_name,jobApplicationID:m==null?void 0:m.id,userProfilePic:o}}n=a.message_bubble_type;var p;switch(n){case"CANCELLED":p=["Cancelled",g._("Cancelled")];break;case"DECLINED":p=["Declined",g._("Declined")];break;case"REQUESTED":p=["Requested",g._("Requested")];break;case"SCHEDULEED":p=["Scheduled",g._("Scheduled")];break;default:throw[b("bs_caml_builtin_exceptions").invalid_argument,"Erroneous target status"]}f=a.user;return{id:a.id,pageID:c[0],calendarSyncType:c[1],ctaID:c[2],hasServiceConfig:c[3],userID:f==null?"0":f.id,status:p[0],statusLabel:p[1],viewerID:b("CurrentUser").getAccountID(),requestMetadata:e,servicesVerticalInfo:c[4]}}function s(a){return{id:a.id,page_id:a.page.id,user_id:a.consumer.id,time_ranges:b("bs_array").map(function(a){return{start:a.start,end:a.end}},a.formatted_available_time_ranges),has_booking_request_created:a.has_booking_request_created}}function t(a){return{live_location_id:a.live_location_id,is_expired:a.is_expired,expiration_time:a.expiration_time,sender:a.sender,coordinate:a.coordinate,location_title:a.location_title,sender_destination:a.sender_destination,stop_reason:a.stop_reason}}function u(a){return{sender_wec_number:a.sender_wec_number}}function v(a){var b=a.preview;b=b==null?null:b.uri;var c=a.large_preview;c=c==null?null:c.uri;return{id:a.id,extension:a.extension,preview:a.preview,large_preview:a.large_preview,attach_type:"photo",large_preview_url:c,preview_url:b}}function w(a){return{id:a.id,name:a.filename,url_shimhash:a.url_shimhash,attach_type:b("MercuryAttachmentType").AUDIO,url:a.playable_url,extension:a.extension,filesize:a.filesize,duration:a.duration}}function x(a){var b=a.first_metaline;return{desc:a.description,id:a.id,image_aspect_ratio:a.image_aspect_ratio,item_url:a.target_url,metalines:b==null?{}:{metaline_1:b},name:a.name,source:a.source_name,text:a.description,thumb_url:a.image_url,title:a.name,default_action:a.default_action,call_to_actions:h(a.call_to_actions),media_blob_attachments:a.media_blob_attachments}}function y(a){var c=b("bs_array").map(x,a.business_items.nodes),d=h(a.call_to_actions);return{message:a.message,call_to_actions:d,items:c}}function z(a){return{message:a.message,call_to_actions:h(a.call_to_actions),items:b("bs_array").map(x,a.promotion_items.nodes)}}function A(a){var c=a.structured_address.streets,d=a.partner_logo;return{account_holder_name:a.account_holder_name,adjustments:b("bs_array").map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.adjustment_amount}},a.adjustments),cancellation_url:a.cancellation_url,items:b("bs_array").map(x,a.items.nodes),merchant_name:a.merchant_name,messenger_commerce_bubble_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MNCommerceBubbleType")[a.messenger_commerce_bubble_type])),order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,receipt_id:a.receipt_id,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,shipping_method:a.shipping_method,status:a.status,structured_address:{city:a.structured_address.city,state:a.structured_address.state,country:a.structured_address.country,postal_code:a.structured_address.postal_code,street_1:b("bs_caml_array").caml_array_get(c,0),street_2:b("bs_caml_array").caml_array_get(c,1)},subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax,partner_logo:d==null?void 0:d.uri}}function B(a,c){return{payment_modules_client:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("PaymentModulesClient")[c.payment_modules_client])),is_viewer_seller:c.is_viewer_seller,payment_snippet:c.payment_snippet,item_list:b("bs_array").map(function(a){return{item_id:a.item_id,name:a.name,subtitle:a.subtitle,description:a.description,unit_price:a.unit_price,image_urls:b("bs_array").map(function(a){return a.uri},a.images),quantity:a.quantity}},c.item_list),components:c.components,payment_call_to_actions:c.payment_call_to_actions,click_action:c.click_action,actor_id:a,invoicer_id:c.invoicer_id}}var C=function(a){__p&&__p();var c=b("LeadGenInfoFieldTypes"),d={},e=[];for(var a=a.field_data_list,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=h.field_type,j=h.label;h=h.values;i===c.CUSTOM||i===c.ZIP?e.push({label:j,values:h}):d[i]={label:j,values:h}}d.questions=e;return d};function D(a,b){var c=b.invite_recipient;c=c==null?null:c.id;var d=b.invite_sender;d=d==null?null:d.id;return{quick_invite_id:b.id,recipient_id:c,sender_id:d,is_viewer_recipient:a===c}}function E(a){var b=function(a){if(a==null)return null;else return a.uri},c=a.listing_category;c=c==null?[null,null]:[c.offer_image,c.request_image];return{listingType:a.listing_type,mapURI:b(a.map_image),offerURI:b(c[0]),requestURI:b(c[1])}}function F(a){return{sender:a.sender,receiver:a.receiver,transfer_id:a.transfer_id,bubbleView:a.bubble_view}}function G(a){__p&&__p();var c=a.receiver_profile,d;if(c==null)d=null;else{var e=c.profile_picture;d={id:c.id,name:c.short_name,full_name:c.name,picture:e==null?null:e.uri,profile_url:c.url}}e=a.sender;if(e==null)c={};else{var f=e.profile_picture;c={id:e.id,name:e.name,full_name:e.full_name,picture:f==null?null:f.uri,profile_uri:e.url}}f=a.transfer_context;if(f==null)e=[null,null,null];else{var g=f.transfer_theme;e=[f.memoText,b("bs_array").map(function(a){a=a.image;if(a==null)return null;else return a.uri},f.memo_images),g==null?null:g.id]}f=a.platform_item;g=f==null?null:{name:f.name,description:f.description,image:b("bs_array").map(function(a){a=a.image;if(a==null)return null;else return a.uri},f.photos),refURL:f.url};f=a.amount_fb_discount;return{sender:c,amountWithSymbol:a.transaction_amount.formatted_amount,status:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("P2PTransferStatus")[a.transfer_status])),receiver:d,transfer_id:a.transfer_id,completedTime:a.completedTime,updatedTime:a.updatedTime,creationTime:a.creationTime,amount:a.transaction_amount.amount,memoText:e[0],memoPhotoURLs:e[1],themeID:e[2],discountAmount:f==null?null:f.formatted,fundsAvailability:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("FundsAvailability")[a.funds_availability])),groupThreadFBID:a.group_thread_fbid,platform_item:g,statusDescription:{markup:a.status_description},bubbleView:a.bubble_view,currencyCode:a.currency_amount.currency}}function H(a){__p&&__p();var c=a.requester,d;if(c==null)d=void 0;else{var e=c.profile_picture;d={id:c.id,name:c.short_name,full_name:c.name,picture:e==null?null:e.uri,profile_url:c.url}}e=a.requestee;if(e==null)c=void 0;else{var f=e.profile_picture;c={id:e.id,name:e.short_name,full_name:e.name,picture:f==null?null:f.uri,profile_url:e.url}}f=b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("P2PPaymentRequestStatus")[a.request_status]));e=a.transfer;e=e==null?[null,""]:[G(e),e.id];var g=a.request_theme;return{amount:a.transaction_amount.amount,amountWithSymbol:a.amount.formatted,requestee:c,requester:d,currentStatus:f,currency:a.amount.currency,creationTime:a.creation_time,groupThreadFBID:a.group_thread_fbid,id:a.id,memoText:a.memo_text,themeID:g==null?null:g.id,transfer:e[0],transferID:e[1],updatedTime:a.updated_time,bubbleView:a.bubble_view,statusDescription:{markup:a.status_description}}}function I(a){var c=H({amount:a.amount,transaction_amount:a.transaction_amount,requester:a.requester,requestee:a.requestee,request_status:a.request_status,request_theme:a.request_theme,id:a.id,memo_text:a.memo_text,transfer:a.transfer,creation_time:a.creation_time,group_thread_fbid:a.group_thread_fbid,updated_time:a.updated_time,bubble_view:a.bubble_view,status_description:a.status_description});a={individualRequests:b("bs_array").map(H,a.individual_requests)};return Object.assign(c,a)}function J(a,c,d){__p&&__p();var e=c.media,f=e==null?null:e.animated_image,g=e==null?null:e.image,h={};b("bs_array").iter(function(b){var a=b.value;h[b.key]=a==null?null:a.text;return 0},c.properties);var x=c.target,H;if(x==null)H=null;else switch(x.tag|0){case 0:H=E(x[0]);break;case 1:H=F(x[0]);break;case 2:H=G(x[0]);break;case 3:H=I(x[0]);break;case 4:H=B(a,x[0]);break;case 7:H=z(x[0]);break;case 8:H=y(x[0]);break;case 10:H=C(x[0]);break;case 11:H=t(x[0]);break;case 12:H=D(a,x[0]);break;case 13:H=r(x[0]);break;case 14:H=s(x[0]);break;case 15:var J=x[0],L=J.genie_sender;L=L==null?[null,null]:[L.messaging_actor.id,L.messaging_actor.name];var M=L[0],N={action_links:[],messaging_attribution:null,messenger_call_to_actions:[],xma_layout_info:null,deduplication_key:null,description:null,media:null,properties:[],source:null,style_list:[],title_with_entities:null,url:null,subattachments:[],target:null},O=c.media,P;if(O==null)P=null;else{O=O.pack;if(O==null){O=J.story_attachment;P=!(O==null)&&!(d==null)?K(a,{legacy_attachment_id:M,story_attachment:{action_links:d.action_links,messaging_attribution:d.messaging_attribution,messenger_call_to_actions:d.messenger_call_to_actions,xma_layout_info:d.xma_layout_info,deduplication_key:d.deduplication_key,description:d.description,media:d.media,properties:d.properties,source:d.source,style_list:d.style_list,title_with_entities:d.title_with_entities,url:d.url,subattachments:d.subattachments,target:d.target},genie_attachment:{genie_message:{story_attachment:N}}}):null}else P=d==null?null:K(a,{legacy_attachment_id:M,story_attachment:N,genie_attachment:{genie_message:{story_attachment:N}}})}H={genie_id:M,genie_name:L[1],attachment:P};break;case 17:H=l(x[0]);break;case 19:H=q(x[0]);break;case 20:H=m(x[0]);break;case 21:H=n(x[0]);break;case 22:H=A(x[0]);break;case 24:H=k(x[0]);break;case 25:H=j(a,x[0]);break;case 39:H=u(x[0]);break;case 40:H=v(x[0]);break;case 41:H=w(x[0]);break;case 42:H=o(x[0]);break;case 43:H=p(x[0]);break;default:H=x[0]}J=c.target;O=!(J==null)&&J.tag===7?0:null;d=c.description;N=c.source;M=c.title_with_entities;return{description:d==null?null:d.text,media:{animated_image:f==null?null:f.uri,animated_image_size:f==null?{height:null,width:null}:{height:f.height,width:f.width},image:g==null?null:g.uri,image_size:g==null?{height:null,width:null}:{height:g.height,width:g.width},duration:e==null?null:e.playable_duration,playable:e==null?null:e.is_playable,source:e==null?null:e.playable_url},source:N==null?null:N.text,style_list:c.style_list,title:M==null?null:M.text,action_links:i(c.action_links),messaging_attribution:c.messaging_attribution,messenger_ctas:b("bs_array").map(function(a){return{id:a.id,page_id:b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.page_id),""),action_title:a.title,action_url:a.action_link,action_open_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MNCommerceCallToActionType")[a.action_open_type])),is_high_confidence:b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.is_high_confidence),!1),is_mutable_by_server:a.is_mutable_by_server,native_url:a.native_url,is_disabled:a.is_disabled,webview_metadata:{fallback_url:a.webview_metadata.fallback_url,messenger_extensions:a.webview_metadata.messenger_extensions,webview_height_ratio:a.webview_metadata.webview_height_ratio,webview_share_button:a.webview_metadata.webview_share_button}}},c.messenger_call_to_actions),xma_layout_info:c.xma_layout_info,properties:h,uri:c.url,deduplication_key:c.deduplication_key,target:H,label:O}}function K(a,c){__p&&__p();var d=c.genie_attachment,e;if(d==null)e=null;else{d=d.genie_message;if(d==null)e=null;else{d=d.story_attachment;e=d==null?null:{description:d.description,media:d.media,source:d.source,style_list:d.style_list,title_with_entities:d.title_with_entities,properties:d.properties,url:d.url,deduplication_key:d.deduplication_key,action_links:d.action_links,messaging_attribution:d.messaging_attribution,messenger_call_to_actions:d.messenger_call_to_actions,xma_layout_info:d.xma_layout_info,target:d.target,subattachments:d.subattachments}}}d=c.story_attachment;var f;if(d==null)f=null;else{var g={description:null,media:null,source:null,style_list:[],title_with_entities:null,properties:[],url:null,deduplication_key:null,action_links:[],messaging_attribution:null,messenger_call_to_actions:[],xma_layout_info:null,target:null,subattachments:[]};c={share_id:c.legacy_attachment_id,subattachments:b("bs_array").map(function(b){return J(a,b,g)},d.subattachments)};var h={description:d.description,media:d.media,source:d.source,style_list:d.style_list,title_with_entities:d.title_with_entities,properties:d.properties,url:d.url,deduplication_key:d.deduplication_key,action_links:d.action_links,messaging_attribution:d.messaging_attribution,messenger_call_to_actions:d.messenger_call_to_actions,xma_layout_info:d.xma_layout_info,target:d.target};d=e==null?{description:d.description,media:d.media,source:d.source,style_list:d.style_list,title_with_entities:d.title_with_entities,properties:d.properties,url:d.url,deduplication_key:d.deduplication_key,action_links:d.action_links,messaging_attribution:d.messaging_attribution,messenger_call_to_actions:d.messenger_call_to_actions,xma_layout_info:d.xma_layout_info,target:d.target,subattachments:d.subattachments}:{description:e.description,media:e.media,source:e.source,style_list:e.style_list,title_with_entities:e.title_with_entities,properties:e.properties,url:e.url,deduplication_key:e.deduplication_key,action_links:e.action_links,messaging_attribution:e.messaging_attribution,messenger_call_to_actions:e.messenger_call_to_actions,xma_layout_info:e.xma_layout_info,target:e.target,subattachments:e.subattachments};f=Object.assign(c,J(a,h,d))}return{app_attribution:null,attach_type:b("MercuryAttachmentType").SHARE,name:null,url:null,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:null,metadata:null,share:f,thumbnail_url:null}}f._getCallToActions=h;f._getActionLinks=i;f._getColor=a;f._getLogo=c;f._getPageTarget=j;f._getGroupCommerceProductItemTarget=k;f._getExternalSongTarget=l;f._getAgentSuggestionItemTarget=m;f._getFundraiserTarget=n;f._getWECFileTarget=o;f._getWECMessageVideoTarget=p;f._getRetailItemTarget=q;f._getPagesPlatformBookingMessageTarget=r;f._getServicesAppointmentAvailabilityTarget=s;f._getMessageLiveLocationTarget=t;f._getWECMessageTarget=u;f._getWECMessageImageTarget=v;f._getWECMessageAudioTarget=w;f._getBusinessRetailItem=x;f._getMessengerBusinessMessageTarget=y;f._getMessengerRetailPromotionTarget=z;f._getMessengerRetailReceiptTarget=A;f._getPagesPlatformAttachmentTarget=B;f._getPagesPlatformLeadGenInfoTarget=C;f._getQuickInviteTarget=D;f._getCrisisListingTarget=E;f._getMoneyTransferTarget=F;f._getP2PTransferTarget=G;f._getP2PTransferRequestTarget=H;f._getP2PTransferRequestWithIndividualRequests=I;f.transformStoryAttachment=J;f.getExtensibleAttachmentPayload=K}),null);
__d("MessengerAttachmentTransformer.bs",["fbt","bs_array","bs_caml_primitive","MercuryAttachmentType","MessageSharedMediaIDStore.bs","MercuryAttachmentContentType","MessengerStoryAttachmentTransformer.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();if(a.is_malicious)return{app_attribution:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,metadata:null,name:null,preview_height:null,preview_url:null,preview_width:null,rel:null,share:null,thumbnail_url:null,url:null,attach_type:b("MercuryAttachmentType").ERROR,error_msg:g._("This attachment has been marked as malicious."),message_file_fbid:null,url_shimhash:null,url_skipshim:null};else{var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}e=a.url;return{app_attribution:d,icon_type:a.content_type,metadata:null,name:a.filename,preview_height:null,preview_url:null,preview_width:null,rel:"ignore",share:null,thumbnail_url:null,url:e==null?null:e,attach_type:b("MercuryAttachmentType").FILE,error_msg:void 0,message_file_fbid:a.message_file_fbid,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}}}function i(a,c,d){__p&&__p();var e=a.chat_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=e[0],g=a.chat_image;g=g==null?null:{width:g.width,height:g.height};var h=a.large_image;h=h==null?[null,null]:[h.uri,{width:h.width,height:h.height}];var i=a.inbox_image;i=i==null?[null,null]:[i.uri,{width:i.width,height:i.height}];var j=a.attribution_app,k;if(j==null)k=null;else{var l=j.square_logo;k={id:j.id,icon_url:l==null?null:l.uri,metadata:a.attribution_metadata,name:j.name}}return{app_attribution:k,attach_type:b("MercuryAttachmentType").VIDEO,name:a.filename,url:a.playable_url,rel:"async",preview_url:f,preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").VIDEO,metadata:{fbid:a.legacy_attachment_id,render_as_sticker:a.video_type==="SPEAKING_STICKER",dimensions:{width:a.original_dimensions.x,height:a.original_dimensions.y},duration:a.playable_duration_in_ms,large_size:h[1],large_preview:h[0],chat_size:g,chat_preview:f,inbox_size:i[1],inbox_preview:i[0],pageid:d?c:void 0},thumbnail_url:f,share:null}}function j(a){var c=a.attribution_app,d;if(c==null)d=null;else{var e=c.square_logo;d={id:c.id,icon_url:e==null?null:e.uri,metadata:a.attribution_metadata,name:c.name}}return{app_attribution:d,attach_type:b("MercuryAttachmentType").FILE,name:a.filename,url:a.playable_url,rel:"ignore",preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").MUSIC,metadata:{duration:a.playable_duration_in_ms,isVoicemail:a.is_voicemail?"1":"0",type:a.audio_type==="VOICE_MESSAGE"?"fb_voice_message":a.audio_type==="VOICE_MESSAGE_WITH_TRANSCRIPT"?"fb_voice_message_with_transcript":"file_attachment"},thumbnail_url:null,share:null,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}}function k(a,c,d){__p&&__p();var e=a.preview_image;e=e==null?[null,null,null]:[e.uri,e.width,e.height];var f=a.animated_image;f=f==null?null:f.uri;var g=a.attribution_app,h;if(g==null)h=null;else{var i=g.square_logo;h={id:g.id,icon_url:i==null?null:i.uri,metadata:a.attribution_metadata,name:g.name}}return{app_attribution:h,attach_type:b("MercuryAttachmentType").ANIMATED_IMAGE,name:a.filename,url:f,rel:"async",preview_url:e[0],preview_width:e[1],preview_height:e[2],large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,image:f,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y)),pageid:d?c:void 0},thumbnail_url:f,share:null}}function l(a){__p&&__p();var c=a.original_extension==="gif"?b("MercuryAttachmentType").ANIMATED_IMAGE:a.render_as_sticker?b("MercuryAttachmentType").THIRDPARTYSTICKER:b("MercuryAttachmentType").PHOTO,d=a.preview;d=d==null?[null,null,null]:[d.uri,d.width,d.height];if(c===b("MercuryAttachmentType").PHOTO){var e=a.large_preview;e=e==null?[null,null,null]:[e.uri,e.width,e.height]}else e=[null,null,null];var f=a.attribution_app,g;if(f==null)g=null;else{var h=f.square_logo;g={id:f.id,icon_url:h==null?null:h.uri,metadata:a.attribution_metadata,name:f.name}}h=a.thumbnail;return{app_attribution:g,attach_type:c,name:a.filename,url:null,rel:"async",preview_url:d[0],preview_width:d[1],preview_height:d[2],large_preview_url:e[0],large_preview_width:e[1],large_preview_height:e[2],icon_type:b("MercuryAttachmentContentType").PHOTO,metadata:{fbid:a.legacy_attachment_id,dimensions:String(a.original_dimensions.x)+(","+String(a.original_dimensions.y))},thumbnail_url:h==null?null:h.uri,share:null,photo_encodings:a.photo_encodings}}function m(a,c){__p&&__p();var d=a,e=c;if(a>=c){a=b("bs_caml_primitive").caml_float_min(120,d/2);c=a/(d/2);return[a|0,e/2*c|0]}else{a=b("bs_caml_primitive").caml_float_min(120,e/2);c=a/(e/2);return[d/2*c|0,a|0]}}function n(a){var c=m(a.width,a.height),d=a.pack,e=a.sprite_image,f=a.sprite_image_2x,g=a.padded_sprite_image,h=a.padded_sprite_image_2x;return{app_attribution:null,attach_type:b("MercuryAttachmentType").STICKER,name:null,url:a.url,rel:null,preview_url:null,preview_width:null,preview_height:null,large_preview_url:null,large_preview_width:null,large_preview_height:null,icon_type:b("MercuryAttachmentContentType").UNKNOWN,metadata:{accessibilityLabel:a.label,stickerID:a.id,packID:d==null?null:d.id,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerRow:a.frame_count>1?a.frames_per_row:1,framesPerCol:a.frame_count>1?a.frames_per_column:1,height:c[1],width:c[0],spriteURI:e==null?null:e.uri,spriteURI2x:f==null?null:f.uri,paddedSpriteURI:g==null?null:g.uri,paddedSpriteURI2x:h==null?null:h.uri,thumbnail_url:null,share:null}}}function o(a,c){if(c==null)return 0;else return b("MessageSharedMediaIDStore.bs").setMessageIDForAttachmentID(a,c)}function a(a,c,d,e){__p&&__p();var f=[],g={id:"",pack:null,label:"",frame_count:0,frame_rate:0,frames_per_row:0,frames_per_column:0,height:0,padded_sprite_image:null,padded_sprite_image_2x:null,sprite_image_2x:null,sprite_image:null,url:null,width:0},m=c.extensible_attachment,p;if(m==null)p=g;else{m=m.story_attachment;if(m==null)p=g;else{m=m.media;p=m==null?g:{id:m.id,pack:m.pack,label:m.label,frame_count:m.frame_count,frame_rate:m.frame_rate,frames_per_row:m.frames_per_row,frames_per_column:m.frames_per_column,height:m.height,padded_sprite_image:m.padded_sprite_image,padded_sprite_image_2x:m.padded_sprite_image_2x,sprite_image_2x:m.sprite_image_2x,sprite_image:m.sprite_image,url:m.url,width:m.width}}}g=p.id;g==null||g!==""&&f.push(n(p));m=c.extensible_attachment;m==null||f.push(b("MessengerStoryAttachmentTransformer.bs").getExtensibleAttachmentPayload(a,m));g=c.sticker;g==null||f.push(n(g));p=c.blob_attachments;p==null||b("bs_array").iter(function(b){__p&&__p();switch(b.tag|0){case 0:var c=b[0];o(c.legacy_attachment_id,d);f.push(l(c));return 0;case 1:c=b[0];o(c.legacy_attachment_id,d);f.push(k(c,a,e));return 0;case 2:f.push(j(b[0]));return 0;case 3:c=b[0];o(c.legacy_attachment_id,d);f.push(i(c,a,e));return 0;case 4:f.push(h(b[0]));return 0}},p);return f}f._getFilePayload=h;f._getVideoPayload=i;f._getAudioPayload=j;f._getAnimatedImagePayload=k;f._getImagePayload=l;f._getStickerDimensions=m;f._getStickerPayload=n;f._storeAttachmentMapping=o;f.transformAttachment=a}),null);
__d("MessengerGroupAdminModelStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUIRED:"required",OPTIONAL:"optional",NOT_SUPPORTED:"not_supported"})}),null);
__d("MessengerGroupAdminModelStatus.bs",["bs_string","MessengerGroupAdminModelStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a==null)return null;else{a=b("bs_string").uppercase(a);switch(a){case"NOT_SUPPORTED":return b("MessengerGroupAdminModelStatus").NOT_SUPPORTED;case"OPTIONAL":return b("MessengerGroupAdminModelStatus").OPTIONAL;case"REQUIRED":return b("MessengerGroupAdminModelStatus").REQUIRED;default:return null}}}f.fromNullableString=a}),null);
__d("MessengerGroupAdminType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGULAR_ADMIN:0,GROUP_CREATOR:1,CHAT_SUPER_ADMIN:2})}),null);
__d("MessengerGroupsSyncStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PENDING_OPT_IN:"PENDING_OPT_IN",OPT_IN:"OPT_IN",PENDING_OPT_OUT:"PENDING_OPT_OUT",OPT_OUT:"OPT_OUT",UNSET:"UNSET",UNSUPPORTED:"UNSUPPORTED"})}),null);
__d("MessengerGroupsSyncStatus.bs",["MessengerGroupsSyncStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"OPT_IN":return b("MessengerGroupsSyncStatus").OPT_IN;case"OPT_OUT":return b("MessengerGroupsSyncStatus").OPT_OUT;case"PENDING_OPT_IN":return b("MessengerGroupsSyncStatus").PENDING_OPT_IN;case"PENDING_OPT_OUT":return b("MessengerGroupsSyncStatus").PENDING_OPT_OUT;case"UNSET":return b("MessengerGroupsSyncStatus").UNSET;case"UNSUPPORTED":return b("MessengerGroupsSyncStatus").UNSUPPORTED;default:return null}}f.fromNullableString=a}),null);
__d("InstantGameUpdateXMATUpdateType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",GAME_SCORE:"game_score",CUSTOM_MESSAGE:"custom_message"})}),null);
__d("MNCommerceMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",ROBOT_TEXT:"robot_text",LOCATION:"location",FORCED_FETCH_MESSAGE:"forced_fetch_message",SENDER_ACTION:"sender_action",RETAIL_PRODUCT_SUBSCRIPTION:"retail_product_subscription",RETAIL_PROMOTION:"retail_promotion",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_SHIPMENT:"retail_shipment",SHIPMENT_TRACKING_EVENT:"shipment_tracking_event",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_CHECKIN:"airline_checkin",AIRLINE_BOARDINGPASS:"airline_boardingpass",AIRLINE_UPDATE:"airline_update",AIRLINE_ITINERARY:"airline_itinerary",CONTENT_SUBSCRIPTION:"content_subscription",AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble",NON_AD:"non_ad",UNKNOWN:"unknown",OTHER:"other",TEMPLATE:"template",OPEN_GRAPH:"open_graph",GENERIC:"generic",LIST:"list",COMPACT_LIST:"compact_list",BUTTON:"button",RECEIPT:"receipt",GENERIC_LEGACY:"generic_legacy",ICE_BREAKER:"ice_breaker",FALLBACK:"fallback",RIDE_INTENT:"ride_intent",RIDE_SIGNUP:"ride_signup",RIDE_WELCOME:"ride_welcome",RIDE_ORDER_CONFIRMATION:"ride_order_confirmation",RIDE_REQUESTED:"ride_requested",RIDE_DRIVER_ON_THE_WAY:"ride_driver_on_the_way",RIDE_NO_DRIVER:"ride_no_driver",RIDE_DRIVER_ARRIVING:"ride_driver_arriving",RIDE_DRIVER_CANCELED:"ride_driver_canceled",RIDE_RIDER_CANCELED:"ride_rider_canceled",RIDE_COMPLETE:"ride_complete",RIDE_ADMIN_MESSAGE:"ride_admin_message",RIDE_RECEIPT:"ride_receipt",RIDE_REENGAGEMENT_FIRST_RIDE:"ride_reengagement_first_ride",GET_RIDE:"give_get_ride",GIVE_RIDE:"send_give_get_ride",REFERER_PROMO:"referer_promo",INSTANT_GAMES_SHARE:"instant_games_share",INSTANT_GAMES_SCORE:"instant_games_score",INSTANT_GAMES_LIVE_STREAM:"instant_games_live_stream",INSTANT_GAMES_CUSTOM_UPDATE:"instant_games_custom_update",INSTANT_GAMES_CUSTOM_UPDATE_MEDIA:"instant_games_custom_update_media",INSTANT_GAMES_TOURNAMENT_UPDATE:"instant_games_tournament_update",LINK:"link_admin_message",UNLINK:"unlink_admin_message",BLOCK_ALL:"block_all_admin_message",UNBLOCK_ALL:"unblock_all_admin_message",BLOCK_PROMOTION:"block_promotion_admin_message",UNBLOCK_PROMOTION:"unblock_promotion_admin_message",INITIAL_PROMOTION:"initial_promotion_admin_message",WEAK_CONSENT_ADMIN_MESSAGE:"weak_consent_admin_message",MESSENGER_TEAM_BOT_MESSAGE:"messenger_team_bot",MESSENGER_BOT_BASE_GENERIC:"messenger_bot_base_generic",COMMERCE_COMPACT_LIST:"commerce_compact_list",FEEDBACK:"feedback",FORM_PROGRESS:"form_progress",MEDIA:"media",PLACE_CARD:"place_card"})}),null);
__d("MercuryActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_GROUP_ADMINS:"ma-type:add_group_admins",ADD_PARTICIPANTS:"ma-type:add-participants",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",BLOCK_STATUS_CHANGED:"ma-type:block-status-changed",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FLAG:"ma-type:change_flag",CHANGE_FOLDER:"ma-type:change-folder",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",CHANGE_PAGE_FOLLOW_UP_STATUS:"ma-type:change-page-follow-up-status",CHANGE_PINNED_STATUS:"ma-type:change-pinned-status",CHANGE_READ_STATUS:"ma-type:change_read_status",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CREATE_OMNI_M_SUGGESTIONS:"ma-type:create-omni-m-suggestions",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_MONTAGE_MESSAGES:"ma-type:delete-montage-messages",DELETE_THREAD:"ma-type:delete-thread",DESCRIPTION_CHANGED:"ma-type:description-changed",EVENT_RSVP_CHANGED:"ma-type:event-rsvp-changed",GROUPS_SYNC_METADATA_UPDATE:"ma-type:groups-sync-metadata-update",GROUPS_SYNC_STATUS_CHANGED:"ma-type:groups-sync-status-changed",IS_PIN_PROTECTED:"ma-type:is_pin_protected",JOINABLE_MODE:"ma-type:joinable-mode",LIVE_LOCATION_UPDATE:"ma-type:live-location-update",LOG_MESSAGE:"ma-type:log-message",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",MONTAGE_DIRECT_EXPIRE:"ma-type:montage-direct-expire",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",MUTATE_TAGS:"ma-type:mutate_tags",NEW_MONTAGE_MESSAGE:"ma-type:new-montage-message",PROMOTE_GROUP_ADMINS:"ma-type:promote-group-admins",REACTION_UPDATE:"ma-type:reaction-update",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",REMOVE_MESSAGE:"ma-type:remove-message",REPLACE_MESSAGE:"ma-type:replace-message",SEND_MESSAGE:"ma-type:send-message",UNSUBSCRIBE_STATUS_UPDATE:"ma-type:unsubscribe-status-update",UNWRAP_MESSAGE:"ma-type:unwrap-message",UPDATE_COMM_ITEM_OWNER:"ma-type:update-comm-item-owner",UPDATE_COMM_STATUS:"ma-type:update-comm-status",UPDATE_CONNECTIVITY_STATUS:"ma-type:update-connectivity-status",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UPDATE_JOINABLE_LINK:"ma-type:update-joinable-link",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data",UPDATE_SNIPPET:"ma-type:update-snippet",UPDATE_THREAD_THEME:"ma-type:update-thread-theme",USER_GENERATED_MESSAGE:"ma-type:user-generated-message"})}),null);
__d("MercuryLogMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"})}),null);
__d("MessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAN_UNSEND:"can_unsend",DENY_LOG_MESSAGE:"deny_log_message",DENY_TOMBSTONE_MESSAGE:"deny_tombstone_message",DENY_FOR_NON_SENDER:"deny_for_non_sender",DENY_P2P_PAYMENT:"deny_p2p_payment",DENY_STORY_REACTION:"deny_story_reaction",DENY_BLOB_ATTACHMENT:"deny_blob_attachment"})}),null);
__d("MessageUnsendabilityStatus.bs",["MessageUnsendabilityStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a==null)return null;else switch(a){case"can_unsend":return b("MessageUnsendabilityStatus").CAN_UNSEND;case"deny_blob_attachment":return b("MessageUnsendabilityStatus").DENY_BLOB_ATTACHMENT;case"deny_for_non_sender":return b("MessageUnsendabilityStatus").DENY_FOR_NON_SENDER;case"deny_log_message":return b("MessageUnsendabilityStatus").DENY_LOG_MESSAGE;case"deny_p2p_payment":return b("MessageUnsendabilityStatus").DENY_P2P_PAYMENT;case"deny_story_reaction":return b("MessageUnsendabilityStatus").DENY_STORY_REACTION;case"deny_tombstone_message":return b("MessageUnsendabilityStatus").DENY_TOMBSTONE_MESSAGE;default:return null}}f.fromNullableString=a}),null);
__d("MessagingGenericAdminTextType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALOHA_AUTOCONNECT_INVITED:"aloha_autoconnect_invited",ALOHA_CONTACT_ADDED:"aloha_contact_added",ALOHA_CONTACT_ADDED_TO_ALOHA_PROXY_USER:"aloha_contact_added_to_aloha_proxy_user",ALOHA_CONTACT_REMOVED:"aloha_contact_removed",ALOHA_INVITE_OWNER_ACCEPT:"aloha_invite_owner_accept",ALOHA_INVITE_OWNER_DECLINE:"aloha_invite_owner_decline",ALOHA_MEDIA_ADDED:"aloha_media_added",ALOHA_MEDIA_SENT:"aloha_media_sent",ALOHA_VISUAL_MEDIA_SENT:"aloha_visual_media_sent",ALOHA_OWNER_INVITED:"aloha_owner_invited",ALOHA_PROXY_USER_NAME_SET:"aloha_proxy_user_name_set",ALOHA_PROXY_USER_PROFILE_PHOTO_SET:"aloha_proxy_user_profile_photo_set",ALOHA_WIFI_CREDENTIALS_SET:"aloha_wifi_credentials_set",ALOHA_USER_JOINED_CALL_ON_ALOHA:"aloha_user_joined_call_on_aloha",ALOHA_CALL_ENDED_ON_ALOHA:"aloha_call_ended_on_aloha",ALOHA_CALL_INVITE:"aloha_call_invite",MADE_POLL_VOTE:"made_poll_vote",GROUP_POLL:"group_poll",GENERIC_NEW_CONNECTION:"generic_new_connection",CONFIRM_FRIEND_REQUEST:"confirm_friend_request",THREAD_CUSTOMIZATION_UPSELL:"thread_customization_upsell",PHONE_CONTACT_UPLOAD:"phone_contact_upload",RELATIONSHIP_CREATED:"relationship_created",ACCEPT_PENDING_THREAD:"accept_pending_thread",RAMP_UP_WELCOME_MESSAGE:"ramp_up_welcome_message",CHANGE_THREAD_THEME:"change_thread_theme",CHANGE_THREAD_ICON:"change_thread_icon",GROUP_THREAD_CREATED:"group_thread_created",THREAD_EPHEMERAL_SEND_MODE:"thread_ephemeral_send_mode",INVITE_ACCEPTED:"invite_accepted",MESSENGER_INVITE_SENT:"messenger_invite_sent",TURN_ON_PUSH:"turn_on_push",JOURNEY_PROMPT_COLOR:"journey_prompt_color",JOURNEY_PROMPT_LIKE:"journey_prompt_like",JOURNEY_PROMPT_NICKNAME:"journey_prompt_nickname",JOURNEY_PROMPT_SETUP:"journey_prompt_setup",CHANGE_THREAD_NICKNAME:"change_thread_nickname",NOTIFY_GROUP_MAYORSHIP:"notify_group_mayorship",PROMPT_GROUP_MAYORSHIP_CUSTOMIZATION:"prompt_group_mayorship_customization",MESSAGE_COUNT_MILESTONE_MESSAGE:"message_count_milestone_message",BOT_THREAD_SUBSCRIPTION:"bot_thread_subscription",RTC_CALL_LOG:"rtc_call_log",RTC_INSTANT_VIDEO_LIFECYCLE:"rtc_instant_video_lifecycle",JOURNEY_PROMPT_BOT:"journey_prompt_bot",RIDE_ORDERED_MESSAGE:"ride_ordered_message",DESTINATION_ETA_MESSAGE:"destination_eta_message",RIDE_ARRIVED_MESSAGE:"ride_arrived_message",JOURNEY_PROMPT_NEW_SETUP:"journey_prompt_new_setup",LIGHTWEIGHT_EVENT_CREATE:"lightweight_event_create",LIGHTWEIGHT_EVENT_DELETE:"lightweight_event_delete",LIGHTWEIGHT_EVENT_NOTIFY:"lightweight_event_notify",LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:"lightweight_event_notify_before_event",LIGHTWEIGHT_EVENT_RSVP:"lightweight_event_rsvp",LIGHTWEIGHT_EVENT_UPDATE:"lightweight_event_update",LIGHTWEIGHT_EVENT_UPDATE_LOCATION:"lightweight_event_update_location",LIGHTWEIGHT_EVENT_UPDATE_TIME:"lightweight_event_update_time",LIGHTWEIGHT_EVENT_UPDATE_TITLE:"lightweight_event_update_title",SAFETY_LOCATION_REQUEST_SENT:"safety_location_request_sent",SAFETY_LOCATION_REQUEST_RESPONDED:"safety_location_request_responded",SAFETY_LOCATION_REQUEST_DENIED:"safety_location_request_denied",AD_MANAGE_MESSAGE:"ad_manage_message",ADMIN_TEXT_WITH_LINK:"admin_text_with_link",AD_REPLY_MESSAGE:"ad_reply_message",TAGGED_PHOTO:"tagged_photo",GAME_SCORE:"game_score",INSTANT_GAME_UPDATE:"instant_game_update",INSTANT_GAME_BOT_INTRO:"instant_game_bot_intro",INSTANT_GAME_WORLD_CUP_INTRO:"intant_games_world_cup_intro",INSTANT_GAME_CUSTOM_UPDATE_NUX_ADMIN_MESSAGE:"instant_game_custom_update_nux_admin_message",INSTANT_GAME_OFFLINE_MATCH_INTRO:"instant_game_offline_match_intro",INSTANT_GAME_TOURNAMENT_REMINDER:"instant_game_tournament_reminder",MEDIA_SUBSCRIPTION_MANAGE:"media_subscription_manage",M_AI_SURVEY:"m_ai_survey",PHONE_NUMBER_LOOKUP_NOTICE:"phone_number_lookup_notice",MESSENGER_PRECHECKED_PLUGIN:"messenger_prechecked_plugin",ADD_CONTACT:"add_contact",PRODUCT_INVOICE_RECEIPT_REJECTED:"product_invoice_receipt_rejected",PRODUCT_INVOICE_PAID:"product_invoice_paid",PRODUCT_INVOICE_VOIDED:"product_invoice_voided",PRODUCT_INVOICE_SHIPPED:"product_invoice_shipped",PRODUCT_INVOICE_PAYMENT_EXPIRED:"product_invoice_payment_expired",PRODUCT_INVOICE_RECEIPT_UPLOADED:"product_invoice_receipt_uploaded",CHANGE_JOINABLE_SETTING:"change_joinable_setting",CHANGE_THREAD_ADMINS:"change_thread_admins",CHANGE_THREAD_APPROVAL_MODE:"change_thread_approval_mode",CAPY_SESSION_BEGIN:"capy_session_begin",CAPY_SESSION_BOT_BEGIN:"capy_session_bot_begin",CAPY_SESSION_END:"capy_session_end",CAPY_AGENT_JOIN:"capy_agent_join",CAPY_AGENT_DUMPED:"capy_agent_dumped",CAPY_SESSION_WAIT_TIME:"capy_session_wait_time",GROUP_SMS_PARTICIPANT_JOINED:"group_sms_participant_joined",GROUP_SMS_PARTICIPANT_CAPPED:"group_sms_participant_capped",SMS_PHONE_NUMBER_CHECK:"sms_phone_number_check",MESSENGER_BOT_REVIEW_SENT:"messenger_bot_review_sent",MESSENGER_CODE_SCAN:"messenger_code_scan",MESSENGER_LIVECHAT_PLUGIN_OPEN:"messenger_livechat_plugin_open",MINGLE_MATCH_SUCCESS:"mingle_match_success",MINGLE_PARTICIPANT_MATCHED:"mingle_participant_matched",MN_ACCOUNT_LINKING_TEXT:"mn_account_linking_text",MN_ACCOUNT_UNLINKING_TEXT:"mn_account_unlinking_text",MN_ACCOUNT_FORCED_UNLINKING_TEXT:"mn_account_forced_unlinking_text",MN_REF_SEND_TEXT:"mn_ref_send_text",ADS_WELCOME_MSG:"ads_welcome_msg",THREAD_JOINABLE_PROMOTION_TEXT:"thread_joinable_promotion_text",PAGES_PLATFORM_REQUEST_TEXT:"pages_platform_request_text",MESSENGER_NEW_USER_GET_STARTED:"messenger_new_user_get_started",SMS_PHONE_NUMBER_TOGGLE:"sms_phone_number_toggle",PAGES_PLATFORM_CREATE_APPOINTMENT:"Pages_Platform_create_appointment",INTERNAL_CAREER_JOBSY_REACHOUT_CONNECTED:"internal_career_jobsy_reachout_connected",JOINABLE_GROUP_THREAD_CREATED:"joinable_group_thread_created",JOINABLE_ROOM_CREATED_WITH_CO_CREATORS:"joinable_room_created_with_co_creators",PAGES_PLATFORM_ACCEPT_APPOINTMENT:"pages_platform_accept_appointment",PAGES_PLATFORM_REFERRAL_CONFIRMED_APPOINTMENT:"pages_platform_referral_confirmed_appointment",PAGES_PLATFORM_DECLINE_APPOINTMENT:"pages_platform_decline_appointment",PAGES_PLATFORM_USER_CANCEL:"pages_platform_user_cancel",PAGES_PLATFORM_ADMIN_CANCEL:"pages_platform_admin_cancel",MESSENGER_OMNIM_CREATE_FLOW:"messenger_omnim_create_flow",MESSENGER_OMNIM_UPDATE_FLOW:"messenger_omnim_update_flow",MESSENGER_OMNIM_UPDATE_FLOW_STATE:"messenger_omnim_update_flow_state",MESSENGER_GROUP_DESCRITPION_UPDATE:"messenger_group_description_update",MESSENGER_GROUP_DESCRIPTION_UPDATE_V2:"messenger_group_description_update_v2",MESSENGER_EXTENSION_ADD_CART:"messenger_extension_add_cart",MESSENGER_EXTENSION_ADD_FAVORITE:"messenger_extension_add_favorite",MESSENGER_AD_CONTEXT:"messenger_ad_context",PAGES_PLATFORM_APPOINTMENT_REMINDER:"pages_platform_appointment_reminder",PAGES_PLATFORM_ADMIN_DECLINE:"pages_platform_admin_decline",POKE_RECEIVED:"poke_received",MESSENGER_STATION_SUBSCRIPTION:"messenger_station_subscription",MESSENGER_USER_ALSO_ON_MESSENGER:"messenger_user_also_on_messenger",MESSENGER_INBOX2_BIRTHDAY_BUMP:"messenger_inbox2_birthday_bump",MESSENGER_RESPOND_REMINDER_CONFIRMATION:"messenger_respond_reminder_confirmation",MESSENGER_RESPOND_REMINDER:"messenger_respond_reminder",MESSENGER_RESPOND_REMINDER_USER_CANCEL:"messenger_respond_reminder_user_cancel",MESSENGER_RESPOND_REMINDER_CANCEL_SUGGESTION:"messenger_respond_reminder_cancel_suggestion",STARTED_SHARING_VIDEO:"started_sharing_video",LIVE_VIDEO_CHAT:"live_video_chat",PARTICIPANT_JOINED_GROUP_CALL:"participant_joined_group_call",MESSENGER_ONLY_PHONE_JOINED_WITH_NEW_ACCOUNT:"messenger_only_phone_joined_with_new_account",PAGES_COMMERCE_PAYMENT_ENABLED:"pages_commerce_payment_enabled",GROUP_PAYMENT_REQUEST:"group_payment_request",P2P_CALL_ESCALATED_TO_GROUP_CALL:"p2p_call_escalated_to_group_call",INVITED_TO_ESCALATED_P2P_CALL:"invited_to_escalated_p2p_call",EVENT_UPCOMING:"event_upcoming",PAGES_VISITOR_POST_SEND_MESSAGE_UPSELL:"pages_visitor_post_send_message_upsell",PAGES_LOW_MESSAGE_RESPONSE_RATE:"pages_low_message_response_rate",PAGES_START_CALL:"pages_start_call",PARTIES_INVITE:"parties_invite",PAGES_JOIN_LOYALTY_PROGRAM:"pages_join_loyalty_program",WORK_INVITE_CLAIMED:"work_invite_claimed",WORK_BOT_INSTALLED:"work_bot_installed",WORK_NEW_MULTI_COMPANY_CHAT:"work_new_multi_company_chat",PARTIAL_AUTOMATED_FEEDBACK:"partial_automated_feedback",P2P_PAYMENT_REQUEST_REMINDER:"p2p_payment_request_reminder",PHOTO_TAG_BUMP:"photo_tag_bump",MESSENGER_CALL_UPGRADE_LEGACY_CLIENT:"messenger_call_upgrade_legacy_client",DIRECTED_WALL_POST:"directed_wall_post",MESSENGER_CALL_LOG:"messenger_call_log",P2P_PAYMENT_MONEY_RAIN_GAME_ENTRY_POINT:"p2p_payment_money_rain_game_entry_point",MESSENGER_MONTAGE_MENTIONS:"messenger_montage_mentions",PAGES_MESSAGING_BLOCK_WORDS:"pages_messaging_block_words",SHIPPO_TRACKING_UPDATES:"shippo_tracking_updates",NEO_APPROVED_CONNECTION_ADDED:"neo_approved_connection_added",NEO_PARENT_UNLOCK_STICKER:"neo_parent_unlock_sticker",CHANGE_FAVORITE_COLOR:"change_favorite_color",VAULT_NEW_FRIEND:"vault_new_friend",VAULT_DELETE_THREAD:"vault_delete_thread",VAULT_SCREENSHOT_THREAD:"vault_screenshot_thread",MARKETPLACE_ITEM_CHANGED:"marketplace_item_changed",MARKETPLACE_SERVICES_INITIAL_MESSAGE_CONTEXT:"marketplace_services_initial_message_context",LINK_CTA:"link_cta",SERVICES_VERTICAL_REDEEMED_REFERRAL:"services_vertical_redeemed_referral",SERVICES_VERTICAL_OPT_OUT_REQUESTS:"services_vertical_opt_out_requests",SERVICES_VERTICAL_OPT_OUT_REQUESTS_SUCCESS:"services_vertical_opt_out_requests_success",SERVICES_VERTICAL_LEAD_GEN_SURVEY:"services_vertical_lead_gen_survey",SERVICES_VERTICAL_LEAD_GEN_SURVEY_EDIT:"services_vertical_lead_gen_survey_edit",PAGES_MARK_AS_PAID:"pages_mark_as_paid",MIGRATED_TO_WORKPLACE:"migrated_to_workplace",MESSENGER_GROUP_EVENT_STATUS_UPDATE:"messenger_group_event_status_update",NEO_APPROVED_USER_REMOVED_FROM_GROUP:"neo_approved_user_removed_from_group",LIVE_CHAT_SUPPORT_AGENT_JOIN:"live_chat_support_agent_join",LIVE_CHAT_SUPPORT_SESSION_BEGIN:"live_chat_support_session_begin",LIVE_CHAT_SUPPORT_SESSION_END:"live_chat_support_session_end",MONTAGE_DIRECT_KEEP:"montage_direct_keep",MONTAGE_DIRECT_EXPIRE:"montage_direct_expire",CHSBOT_CONVERSATION_ENDED:"chsbot_conversation_ended",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_BEGIN:"chsbot_live_chat_support_agent_begin",CHSBOT_LIVE_CHAT_SUPPORT_AGENT_END:"chsbot_live_chat_support_agent_end",CHSBOT_LIVE_PHONE_SUPPORT_AGENT_CALLING:"chsbot_live_phone_support_agent_calling",CHSBOT_SUPPORT_REQUESTED:"chsbot_support_requested",SUPPORT_BOT_SESSION_AGENT_JOIN:"support_bot_session_agent_join",SUPPORT_BOT_SESSION_AGENT_LEAVE:"support_bot_session_agent_leave",SUPPORT_BOT_SESSION_END:"support_bot_session_end",SUPPORT_BOT_CALL_BEGIN:"support_bot_call_begin",SUPPORT_BOT_CALL_END:"support_bot_call_end",MESSENGER_SUBSCRIBE_TO_UPDATES:"messenger_subscribe_to_updates",MESSENGER_UNSUBSCRIBE_FROM_UPDATES:"messenger_unsubscribe_from_updates",MESSENGER_BLOCK_MESSAGES:"messenger_block_messages",MESSENGER_UNBLOCK_MESSAGES:"messenger_unblock_messages",MESSENGER_TURN_ON_MESSAGES:"messenger_turn_on_messages",MESSENGER_TURN_OFF_MESSAGES:"messenger_turn_off_messages",THANKS_FOR_SHARING_MESSAGE_CONTEXT:"thanks_for_sharing_message_context",GROUP_ADMIN_MODEL_NUX:"group_admin_model_nux",MESSENGER_PAYMENT_INCENTIVE_INFO:"messenger_payment_incentive_info",MESSENGER_PLATFORM_PERSONA:"messenger_platform_persona",MESSENGER_GROUP_SYNC_OPT_IN:"messenger_group_sync_opt_in",MESSENGER_GROUP_SYNC_OPT_OUT:"messenger_group_sync_opt_out",MENTORSHIP_MATCH:"mentorship_match",MENTORSHIP_PROGRAM_MATCH:"mentorship_program_match",MENTORSHIP_PROGRAM_LEAVE:"mentorship_program_leave",MENTORSHIP_PROGRAM_LEAVE_PROMPT:"mentorship_program_leave_prompt",MENTORSHIP_CURRICULUM_STEP:"mentorship_curriculum_step",MENTORSHIP_DISCUSSION_TOPIC_SET_PROMPT:"mentorship_discussion_topic_set_prompt",MENTORSHIP_CHECK_IN_REMINDER:"mentorship_check_in_reminder",PAGES_CALL_DEFLECTION_UPSELL:"pages_call_deflection_upsell",RTC_PHOTOBOOTH:"rtc_photobooth",DELAYED_PHONE_NUMBER_MATCH:"delayed_phone_number_match",AUTOMATIC_TRANSLATION_ENABLED:"automatic_translation_enabled",AUTOMATIC_TRANSLATION_DISABLED:"automatic_translation_disabled",MESSENGER_ROOM_MIGRATION:"messenger_room_migration",PAGE_ADMIN_RESPONSIVENESS_REMINDER:"page_admin_responsiveness_reminder",MESSENGER_GROWTH_GENERIC_ADMIN_TEXT:"messenger_growth_generic_admin_text",MESSENGER_TALK_TO_YOUR_MOM_REMINDER:"messenger_talk_to_your_mom_reminder",PAYMENT_INCENTIVE_RECEIVED:"payment_incentive_received",PAGES_THREAD_REMINDER:"pages_thread_reminder",MESSENGER_PLATFORM_PERSONA_LEAVE_THREAD:"messenger_platform_persona_leave_thread",STORY_REPLY_CONTEXT:"story_reply_context",PAGES_AUTOMATED_RESPONSE_RECOMMENDATION:"pages_automated_response_recommendation",PAGES_AUTOMATED_RESPONSE_SMART_REPLY:"pages_automated_response_smart_reply",PAGES_AUTOMATED_RESPONSE_JOB_APPLICATION:"pages_automated_response_job_APPLICATION",MESSENGER_ICEBREAKER_VOTE_CAST:"messenger_icebreaker_vote_cast",PARTIES_PRESENCE:"parties_presence",PAGE_THREAD_ADMIN_ASSIGNMENT_TEXT:"page_thread_admin_assignment_text",RTC_INSTANT_ACTIVITY_LIFECYCLE:"rtc_instant_activity_lifecycle",SHIBA_MOCK_BOT_RESTART_CHAT_TEXT:"shiba_mock_bot_restart_chat_text",MARKETPLACE_RENTALS_INITIAL_MESSAGE:"marketplace_rentals_initial_message",MARKETPLACE_RENTALS_SENDER_INFO:"marketplace_rentals_sender_info",PAGES_MARK_AS_PAID_NEW:"pages_mark_as_paid_new",MESSENGER_BUSINESS_REPORT_SPAM:"messenger_business_report_spam",MESSENGER_BUSINESS_REPORT_INAPPROPRIATE:"messenger_business_report_inappropriate",MESSENGER_BUSINESS_REPORT_OTHER_ABUSE:"messenger_business_report_other_abuse",FRIENDED_IN_MESSENGER:"friended_in_messenger",MARKETPLACE_REPLY_REMINDER:"marketplace_reply_reminder",VOD_CONVERSATION_SEND_MESSAGE:"vod_conversation_send_message",SENT_UNCONNECTED_MESSAGE:"sent_unconnected_message",MESSENGER_SHARED_WITH:"messenger_shared_with",PAGE_USER_MESSENGER_CONNECTED:"page_user_messenger_connected",FB_ONLY_BOT_TEXT:"fb_only_bot_text",MESSENGER_SCHOOL_CHAT_AUTO_ADD_USER:"messenger_school_chat_auto_add_user",LIVING_ROOM_MESSAGE:"living_room_message",MESSENGER_FRIENDVERSARY_SHARED_TO:"messenger_friendversary_shared_to",PARENT_APPROVED_NEW_FRIEND_CODE:"parent_approved_new_friend_code",CHAT_ENTICEMENT_JOINED:"chat_enticement_joined"})}),null);
__d("MessagingSourceEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_LIGHT_SPEED:"source:chat:light_speed",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",WHATSAPP_CALLBACK:"source:wa_callback",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MARKETPLACE_BOT:"source:marketplace:bot",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_INBOX:"source:internal:test_inbox",INTERNAL_TEST_PENDING:"source:internal:test_pending",INTERNAL_TEST_OTHER:"source:internal:test_other",INTERNAL_TEST_ML_ONLY:"source:internal:test_ml_only",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",PAGES_COMPOSER:"source:pages:composer",PTX:"source:ptx",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",GEMSTONE:"source:gemstone",WATCH_PARTY:"source:watch_party",WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT:"source:work:activation_card_general_group_chat",SCHOOL_COMMUNITY:"source:school_community",SCHOOL_COMMUNITY_COURSE:"source:school_community_course",BELL_RESEARCH:"source:bell_research",BELL_MESSENGER_LINKED:"source:bell_messenger_linked",BELL_MESSENGER_UNLINKED:"source:bell_messenger_unlinked",BELL_MESSENGER_ONBOARD:"source:bell_messenger_onboard",PROFILE_MEET_NEW_FRIENDS:"source:profile_meet_new_friends",PROFILE_MEET_NEW_FRIENDS_REPLY:"source:profile_meet_new_friends_reply",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",FRIENDVERSARY_BUMP:"source:messenger_growth:friendversary_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",MESSENGER_BROADCASTFLOW:"source:messenger:broadcastflow",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES_GAME_UPDATE:"source:instant_games_game_updates",INSTANT_GAMES_MATCH_MAKING:"source:instant_games_match_making",INSTANT_GAMES_GROUP_CREATION:"source:instant_games_group_creation",MOBILE_GAME_SHARE:"source:games_app:mobile_game_share",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",GROUPSYNC_THREAD_INFO_SYNC_FROM_FB:"source:groupsync:thread_info_sync",WORK_GROUP_SYNCED_CHAT_CREATION:"source:work:groupchat:creation",WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION:"source:work:defaultgroupchat:creation",WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC:"source:work:groupchat:member_sync",WORK_GROUP_SYNCED_CHAT_DESCRIPTION_SYNC:"source:work:groupchat:description_sync",WORK_GROUP_SYNCED_CHAT_NAME_SYNC:"source:work:groupchat:name_sync",PAGE_PQI_MESSAGE:"source:pages:pqi_message",PAGE_PLUGIN_MESSAGE:"source:pages:page_plugin_message",WORKPLACE_CHAT_DESKTOP:"source:workchat:desktop",CREATOR_STUDIO:"source:creator_studio",FB_GROUP_ADMINSHIP_SYNC:"source:fbgroup:adminship_sync",FB_GROUP_CHAT_MUTE_MEMBER:"source:fbgroup:mute_member",MESSENGER_ADS_PARTIAL_AUTOMATED_REMINDER:"source:ads_partial_automated:reminder",MENTORSHIP:"source:mentorship",VOD_CONVERSATION:"source:vod_conversation",LOCAL_SEARCH_SERVICES:"source:local_search_services",YOUTH_VAULT:"source:youth_vault",MESSENGER_KIDS:"source:messenger_kids",STORY_REPLY:"source:story_reply"})}),null);
__d("MercuryMessageSourceTags",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT:"source:chat",EMAIL:"source:email",MESSENGER:"source:messenger",MOBILE:"source:mobile",WORK_DESKTOP:"source:workchat:desktop"})}),null);
__d("MessagingTagUtils",["MercuryMessageSourceTags","MessagingSourceEnum","MessagingTagConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Set(Object.values(b("MessagingSourceEnum")));function a(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(g.has(e))return e}return b("MessagingSourceEnum").UNKNOWN}function h(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.split(b("MessagingTagConstants").app_id_root);if(e.length>1)return e[1].trim()}return null}function c(a,c){var d=[],e=h(a);e&&b("MessagingTagConstants").orca_app_ids.indexOf(e)!==-1&&d.push(b("MercuryMessageSourceTags").MESSENGER);b("MessagingTagConstants").chat_sources.indexOf(c)!==-1&&d.push(b("MercuryMessageSourceTags").CHAT);b("MessagingTagConstants").email_source===c&&d.push(b("MercuryMessageSourceTags").EMAIL);b("MessagingTagConstants").mobile_sources.indexOf(c)!==-1&&d.push(b("MercuryMessageSourceTags").MOBILE);a.indexOf(b("MessagingSourceEnum").WORKPLACE_CHAT_DESKTOP)!==-1&&d.push(b("MercuryMessageSourceTags").WORK_DESKTOP);return d}e.exports={getSourceFromTags:a,getSourceTags:c}}),null);
__d("P2PPaymentLogMessageSubtype",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired",REQUEST_REMINDER:"request_reminder",MONEY_RAIN_GAME_ENTRY_POINT:"money_rain_game_entry_point"})}),null);
__d("StoryAttachmentStyle",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",INSPIRATION_PHOTO:"inspiration_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",TOPIC_FOLLOWING_TOPIC:"topic_following_topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",VIDEO_SHOP:"video_shop",INSPIRATION_VIDEO:"inspiration_video",MULTI_VIDEOS_STITCHED:"multi_videos_stitched",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_NON_LINK_VIDEO:"multi_share_non_link_video",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",MULTI_SHARE_FIXED_TEXT:"multi_share_fixed_text",MULTI_SHARE_CAROUSEL_FREE_SCROLL:"multi_share_carousel_free_scroll",MULTI_SHARE_CAROUSEL_FREE_SCROLL_SNAP_CENTER:"multi_share_carousel_free_scroll_snap_center",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",BIRTHDAY_PERCEPTICONS:"birthday_percepticons",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_LEAGUE:"gametime_league",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",P2P_PAYMENT:"p2p_payment",P2P_SERVER_BUBBLE:"p2p_server_bubble",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",GROUP_ADD_MEMBERS:"group_add_memebers",GROUP_MEMBER_ADDED:"group_member_added",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",RICH_MEDIA_COLLECTION:"rich_media_collection",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",GROUPSMASH_MEDIA:"groupsmash_media",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET_DEPRECATED:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",WELCOME_CARD_IMAGE:"welcome_card_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",ELECTION_BALLOT_CONFIG:"election_ballot_config",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",IMPLICIT_PLACE_LIST_CONVERSION:"implicit_place_list_conversion",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",PHOTO_LINK_SHARE_WITH_INSTAGRAM_CONTEXT:"photo_link_share_with_instagram_context",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",CULTURAL_MOMENT_HOLIDAY_CARD:"cultural_moment_holiday_card",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",COMMENT_PRODUCT_INFO:"comment_product_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",FUNDRAISER_FOR_STORY:"fundraiser_for_story",MESSAGE_LIVE_LOCATION:"message_live_location",MESSENGER_INVITE:"messenger_invite",MESSENGER_NATIVE_TEMPLATES:"messenger_native_templates",GAMES_INSTANT_PLAY:"games_instant_play",PROFILE_MEDIA:"profile_media",NATIVE_TEMPLATES:"native_templates",NATIVE_TEMPLATES_FOX:"native_templates_fox",NATIVE_TEMPLATES_KEEP_ATTACHED:"native_templates_keep_attached",GOODWILL_THROWBACK_VIDEO_BASIC:"goodwill_throwback_video_basic",COMMERCE_PRODUCT_MINI:"commerce_product_mini",COMMERCE_PRODUCT_MINI_LIST:"commerce_product_mini_list",COMMENT:"comment",MESSENGER_TEAM_BOT_SHARE:"messenger_team_bot_share",LIVE_VIDEO_SCHEDULE:"live_video_schedule",PRODUCT_ITEM:"product_item",PLATFORM_INSTANT_APP:"platform_instant_app",YEAR_OVERVIEW:"year_overview",NATIVE_COMPONENT_FLOW_BOOKING_REQUEST:"native_component_flow_booking_request",FRIEND_REQUEST:"friend_request",MESSENGER_GROUP_JOINABLE_LINK:"messenger_group_joinable_link",MESSENGER_GROUP_JOINABLE_LINK_V2:"messenger_group_joinable_link_v2",SOCIAL_SEARCH_CONVERSION_PROMPT:"social_search_conversion_prompt",MDOTME_USER_LINK:"mdotme_user_link",DYNAMIC_MULTI_SHARE_ITEMS:"dynamic_multi_share_items",EVENT_REMINDER:"event_reminder",INSTANT_GAMES_SHARE_MESSAGE:"instant_games_share_message",INSTANT_GAMES_LEADERBOARD_UPDATE:"instant_games_leaderboard_update",INSTANT_GAMES_CUSTOM_UPDATE:"instant_games_custom_update",MESSENGER_PLATFORM_COMPACT_ITEM:"messenger_platform_compact_item",MESSENGER_PLATFORM_COVER_ITEM:"messenger_platform_cover_item",MULTI_SHARE_NON_LINK_VIDEO_AUTO_SCROLL:"multi_share_non_link_video_auto_scroll",ENDORSEMENT:"endorsement",OFFER_VIEW_LIVE_COUNTDOWN:"offer_view_live_countdown",ENHANCED_LINK_REDDIT_POST:"enhanced_link_reddit_post",MESSENGER_COMMERCE_COVER_ITEM:"messenger_commerce_cover_item",ENHANCED_LINK_YELP_BUSINESS:"enhanced_link_yelp_business",PAGES_PLATFORM_LEAD_GEN:"pages_platform_lead_gen",NATIVE_STORY:"native_story",MFS_BILL_PAY_CREATION_UPDATE:"mfs_bill_pay_creation_update",MFS_BILL_PAY_REFERENCE_CODE_UPDATE:"mfs_bill_pay_reference_code_update",MFS_BILL_PAY_AGENT_CASH_IN_UPDATE:"mfs_bill_pay_agent_cash_in_update",ISSUE_POSITION:"issue_position",PAGES_PLATFORM_BOOKING_MESSAGE:"pages_platform_booking_message",EXTERNAL_GALLERY:"external_gallery",MEME_SHARE:"meme_share",MESSENGER_PLATFORM_ELEMENT:"messenger_platform_element",INSTANT_GAMES_SHARE_SCORE_MESSAGE:"instant_games_share_score_message",MESSENGER_PLATFORM_BUTTON_LIST:"messenger_platform_button_list",BALLOT:"ballot",LIGHTWEIGHT_ACTION:"lightweight_action",TAROT_DIGEST:"tarot_digest",EVENT_TOUR:"event_tour",ADAPTIVE_MEDIA:"adaptive_media",DYNAMIC_GAME_BOARD:"dynamic_game_board",PAYMENT_PLATFORM:"payment_platform",OMNI_M_FLOW:"omni_m_flow",GROUP_QUIZ:"group_quiz",TRIAL_AD:"trial_ad",TEEM_COLLECTIONS:"teem_collections",CRISIS_DONATION:"crisis_donation",CRISIS_STATUS:"crisis_status",CRISIS_SHARE:"crisis_share",CRISIS_MARK_SAFE:"crisis_mark_safe",CRISIS_LISTING:"crisis_listing",VR_CONTENT:"vr_content",VIDEO_RECOMMENDATION_HSCROLL:"video_recommendation_hscroll",VIDEO_TRAILER:"video_trailer",SHOW_PAGE_SHARE:"show_page_share",MFS_ATTACHMENT:"mfs_attachment",MFS_TIME_SENSITIVE_ATTACHMENT:"mfs_time_sensitive_attachment",GROUP_TASK:"group_task",CHECKLIST:"checklist",VIDEO_RECOMMENDATION_SINGLETON:"video_recommendation_singleton",PAGE_REVIEW_PROMPT:"page_review_prompt",VIDEO_SHOW:"video_show",UNCONNECTED_VIDEO:"unconnected_video",SHOW_SHARE:"show_share",JOB_SEARCH_JOB_APPLICATION:"job_search_job_application",PAGE_MESSENGER_ATTACHMENT:"page_messenger_attachment",CONTACT_YOUR_REP:"contact_your_rep",LOCATION_EXTENSION:"location_extension",PLACE_RECOMMENDATION:"place_recommendation",JOB_SEARCH_JOB_OPENING:"job_search_job_opening",PAGE_MESSAGE_ONLINE_INDICATOR:"page_message_online_indicator",LOCAL_PIVOT:"local_pivot",ORION_REQUEST_NEW:"orion_request_new",PHOTO_WITH_SHIELD:"photo_with_shield",PLAYABLE_AD:"playable_ad",FUN_FACT_PROMPT:"fun_fact_prompt",FUN_FACT_STACK:"fun_fact_stack",FATIGUED_SHARE:"fatigued_share",DISCUSSION_QUESTION:"discussion_question",PARTIES_INVITE:"parties_invite",PROFILE_INTRO_CARD_BIO:"profile_intro_card_bio",PAGES_SHARE:"pages_share",PRODUCT_RECOMMENDATION_LIST:"product_recommendation_list",VISUAL_POLL:"visual_poll",MULTI_PLACE_RECOMMENDATION:"multi_place_recommendation",PAGE_IN_COMMENT:"page_in_comment",PAGE_ANNOUNCEMENT:"page_announcement",MESSENGER_PLATFORM_MEDIA_ATTACHMENT:"messenger_platform_media_attachment",SCHEDULED_VIDEO_ANNOUNCEMENT:"scheduled_video_announcement",HSCROLL_ITEM:"hscroll_item",MESSENGER_CALL_LOG:"messenger_call_log",PAGE_REVIEW_UPDATE:"page_review_update",LOYALTY_CARD_OFFER:"loyalty_card_offer",GOODWILL_GRID:"goodwill_grid",TRAVEL_PLAN:"travel_plan",FIND_PLAYERS:"find_players",ASSET3D:"asset3d",MESSENGER_GROUP_PERSONAL_LINK:"messenger_group_personal_link",FREQUENTLY_ASKED_QUESTION:"frequently_asked_question",STORY_LIST:"story_list",GOODWILL_SHARED_CARD:"goodwill_shared_card",PAYMENT_BUBBLE_VIEW:"PAYMENT_BUBBLE_VIEW",POST_TO_EVENT_CREATE:"post_to_event_create",MONTAGE_DIRECT:"montage_direct",NEO_INVITATION:"NEO_INVITATION",NATIVE_TEMPLATES_LINK_SHARE_TEST:"native_templates_link_share_test",GOODWILL_HSCROLL:"goodwill_hscroll",NEO_KID_INITIATE_FRIENDING:"NEO_KID_INITIATE_FRIENDING",NEO_VIDEO_PROMPT:"NEO_VIDEO_PROMPT",EVENT_MICRO_ATTACHMENT:"event_micro_attachment",SAVED_LIST:"saved_list",LOCAL_GUIDE:"local_guide",MEET_UP_EVENT:"meet_up_event",DONATION:"donation",FUNDRAISER_FB_SEEDING_GIFT:"fundraiser_fb_seeding_gift",BREAKING_NEWS:"breaking_news",VIDEO_REQUEST:"video_request",GOODWILL_COLLAGE:"goodwill_collage",LEAD_FORM:"lead_form",LEAD_FORM_USER_INFO:"lead_form_user_info",EVENT_TICKET_ORDER:"event_ticket_order",PROFILE_CHANNEL:"profile_channel",ICE_BREAKER:"ICE_BREAKER",MOVIE:"movie",ALOHA_CALL:"aloha_call",TIP_JAR_PAYMENT:"tip_jar_payment",COMMENT_MESSAGE_INFO:"comment_message_info",CASH_ON_DELIVERY_ORDER:"cash_on_delivery_order",VOTER_REGISTRATION_DRIVE:"voter_registration_drive",VOTING_INFO:"voting_info",LIVING_ROOM:"living_room",ACHIEVEMENT_POST:"achievement_post",M_BIRTHDAY_REMINDER:"m_birthday_reminder",INSIGHTS_CHART:"insights_chart",GROUP_PROACTIVE_FLAGGED_POST_QUEUE:"group_proactive_flagged_post_queue",GROUP_ACCEPT_RULE_TO_UNMUTE:"group_accept_rule_to_unmute",SHOW_CLICK_TO_WATCH_TAB:"show_click_to_watch_tab",SHOW_CLICK_TO_WATCH_TAB_V2:"show_click_to_watch_tab_v2",SHOW_CLICK_TO_WATCH_TAB_V3:"show_click_to_watch_tab_v3",SHOW_CLICK_TO_WATCH_TAB_V4:"show_click_to_watch_tab_v4",SHOW_MASKED:"show_masked",SHOW_CONTINUE_WATCHING:"show_continue_watching",WATCH_CLICK_STORY_HEADER_TO_WATCH_TAB:"watch_click_story_header_to_watch_tab",FOX_ALBUM:"fox_album",TOOL_SHARE:"tool_share",PHONE_REMOVED_ACTION_LIST:"phone_removed_action_list",AMP:"amp",LDP_APP_INSTANCE:"ldp_app_instance",PAGE_RECOMMENDATION_V2:"page_recommendation_v2",PLAY_WITH_FRIENDS:"play_with_friends",BLOOD_REQUEST:"blood_request",HIGH_SCHOOL_COMMUNITY_INVITE:"high_school_community_invite",CIVIC_ACTION_POST:"civic_action_post",SCHEDULED_LIVE_VIDEO:"scheduled_live_video",GAMESHOW:"gameshow",GAMESHOW_INVITE:"gameshow_invite",MK_FRIEND_REQUEST:"mk_friend_request",GOODWILL_PHOTO_CIRCLE:"goodwill_photo_circle",SERVICES_APPOINTMENT_AVAILABILITY:"services_appointment_availability",NEO_SOCIAL_INVITATION:"neo_social_invitation",NEO_KID_INVITATION:"neo_kid_invitation",GROUP_SELL_PRODUCT_ITEM_CONDENSED:"group_sell_product_item_condensed",GROUP_SELL_PRODUCT_ITEM_MARK_AS_PENDING:"group_sell_product_item_mark_as_pending",GAMES_VIDEO:"games_video",MOVIE_WITH_SHOWTIMES:"movie_with_showtimes",WORK_CONTENT_ATTACHMENT:"work_content_attachment",GROUP_SAFETY_HUB:"group_safety_hub",NEWS_STORYLINE:"news_storyline",EVENT_TICKET_REQUEST:"event_ticket_request",GROUP_APPLICATION:"group_application",MESSAGE_MULTIPLE_LOCATIONS:"message_multiple_locations",TODO_LIST:"todo_list",PERSONAL_REMINDER:"personal_reminder",ARTICLE_MESSAGE:"article_message",PERSONAL_REMINDER_LIST:"personal_reminder_list",GAMES_APP:"games_app",GAMES_APP_SHARED:"games_app_shared",MOBILE_GAME_SHARE:"mobile_game_share",MONTAGE_MEDIA_EFFECT:"montage_media_effect",GROUPS_VOTER_REGISTRATION_DRIVE:"groups_voter_registration_drive",MONTAGE_SHARE:"montage_share",WEC_MESSAGE:"wec_message",INSTAGRAM_DIRECT_MESSAGE_ATTACHMENT:"instagram_direct_message_attachment",GROUP_APPLICATION_CTA:"group_application_cta",MENTORSHIP_CURRICULUM_STEP:"mentorship_curriculum_step",SCHEDULED_LIVING_ROOM:"scheduled_living_room",STORY_ADS_SURVEY:"story_ads_survey",MESSENGER_FORM_PROGRESS_ATTACHMENT:"messenger_form_progress_attachment",VIDEO_COMMERCE_INTEREST:"video_commerce_interest",PAGES_COMMERCE_BUYER_INTENT:"pages_commerce_buyer_intent",BREAKING_NEWS_STORY_GALLERY:"breaking_news_story_gallery",BRANDING_PLAYABLE_AD:"branding_playable_ad",PAGE_SURFACE_MENU_ITEM:"page_surface_menu_item",CIVIC_PROPOSAL:"civic_proposal",VIDEO_LIVING_ROOM_MESSENGER:"video_living_room_messenger",IMAGE_SHARE_NO_OVERLAY:"image_share_no_overlay",JOIN_GROUP_CTA:"join_group_cta",ASSISTANT_DRAFT_MESSAGE:"assistant_draft_message",ASSISTANT_CONTACT_INFO:"assistant_contact_info",NEO_DRAW_AND_GUESS_GAME_REQUEST:"neo_draw_and_guess_game_request",LOCAL_ASSOCIATION_GROUP_INTRO:"local_association_group_intro",SOCIAL_LEARNING_UNIT_CREATED:"social_learning_unit_created",SOCIAL_LEARNING_UNIT_COMPLETED:"social_learning_unit_completed",GOODWILL_THROWBACK_SINGLE_PHOTO:"goodwill_throwback_single_photo",FAN_FUNDING_SUPPORT_CREATOR_CTA:"fan_funding_support_creator_cta",GOODWILL_VIDEO_SHARED_VIDEO:"goodwill_video_shared_video",INSTANT_GAMES_TOURNAMENT:"instant_games_tournament",SCHEDULED_LIVE_VIDEO_POST:"scheduled_live_video_post",CHAT_COMMAND_RESULT:"chat_command_result",CROSSROADS:"crossroads",MOBILE_GAME_THREAD_SHARE:"mobile_game_thread_share",SHOW_CLICK_TO_WATCH_TOPIC:"show_click_to_watch_topic",LIFE_EVENT_FB_STORY:"life_event_fb_story",GROUP_KEYWORD_ALERTED_QUEUE:"group_keyword_alerted_queue",CIVIC_PROPOSAL_POST_QUEUE:"civic_proposal_post_queue",PARENT_APPROVED_PLAIN_TEXT_BOT_MESSAGE:"parent_approved_plain_text_bot_message",LIVE_VIDEO_REHEARSAL:"live_video_rehearsal",ASSISTANT_CONTACT_INFO_LIST:"assistant_contact_info_list",PARENT_APPROVED_IMAGE_AND_TEXT_BOT_MESSAGE:"parent_approved_image_and_text_bot_message",LIVE_VIDEO_SCHEDULED_REHEARSAL:"live_video_scheduled_rehearsal",LIVE_VIDEO_SCHEDULED_POST_REHEARSAL:"live_video_scheduled_post_rehearsal",GROUPS_LINKED_GROUP_FEED_HSCROLL:"groups_linked_group_feed_hscroll",SCHEDULED_LIVING_ROOM_POST:"scheduled_living_room_post",EVENT_ATTENDANCE_CONFIRMATION:"event_attendance_confirmation",ATTACHMENT_FOOTER_SIMPLE_HEADLINE:"attachment_footer_simple_headline",ATTACHMENT_FOOTER_CTA:"attachment_footer_cta",ATTACHMENT_FOOTER_ACCENT_COLOR:"attachment_footer_accent_color",CLICK_TO_WATCH_TAB_WARION_V1:"click_to_watch_tab_warion_v1",COMMERCE_UPSELL_MESSAGE:"commerce_upsell_message",PROFILE_SONG:"profile_song",MENTORSHIP_DISCUSSION_TOPIC_SET:"mentorship_discussion_topic_set",LINK_SOCIAL_CONTEXT:"link_social_context",POLITICAL_CANDIDATE_VIDEO:"political_candidate_video",TWEENS_WOULD_YOU_RATHER:"tweens_would_you_rather"})}),null);
__d("MessengerMessageTransformer.bs",["bs_array","bs_block","bs_string","FBIDCheck","getByPath","MercuryIDs","bs_caml_format","CurrentUser","bs_js_primitive","MessagingTag","bs_js_null_undefined","MercuryActionType","MessagingTagUtils","MessagingSourceEnum","StoryAttachmentStyle","MNCommerceMessageType","MercuryLogMessageType","MessageUnsendabilityStatus.bs","P2PPaymentLogMessageSubtype","MessagingGenericAdminTextType","MessengerAttachmentTransformer.bs","InstantGameUpdateXMATUpdateType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){__p&&__p();if(a.__typename==="GroupPollExtensibleMessageAdminText"){var e=a.question,f;if(e==null)f=[{},null];else{var g=Object.assign({},e);Object.assign(g,{total_count:a.total_count,options:b("bs_array").map(function(a){var c=Object.assign({},a);return Object.assign(c,{total_count:a.voters.nodes.length,voters:b("bs_array").map(function(a){return a.id},a.voters.nodes)})},e.options.nodes)});f=[g,e.id]}g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:{event_type:b("bs_string").lowercase(a.event_type),question_id:f[1],question_json:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(JSON.stringify(f[0])))}}}else if(a.__typename==="InstantGameUpdateExtensibleMessageAdminText")g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:{game_id:b("getByPath")(a,["game","id"]),update_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("InstantGameUpdateXMATUpdateType")[a.update_type])),collapsed_text:a.collapsed_text,expanded_text:a.expanded_text,leaderboard_json:a.leaderboard_json,cta_url:b("getByPath")(a,["instant_game_update_data","cta_url"]),cta_title:b("getByPath")(a,["instant_game_update_data","cta_title"]),custom_image_url:b("getByPath")(a,["instant_game_update_data","photo","image","uri"]),template:b("getByPath")(a,["instant_game_update_data","template"])}};else if(a.__typename==="MessengerAdContextAdminText")g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:{ad_url:a.ad_url}};else if(a.__typename==="AdExtensibleMessageAdminText")g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:{ad_client_token:a.ad_client_token,ad_id:a.ad_id,ad_preferences_link:a.ad_preferences_link,ad_properties:a.ad_properties}};else if(a.__typename==="ThemeColorExtensibleMessageAdminText"||a.__typename==="ThreadIconExtensibleMessageAdminText"||a.__typename==="ThreadNicknameExtensibleMessageAdminText"||a.__typename==="AcceptPendingThreadExtensibleMessageAdminText"||a.__typename==="AddContactExtensibleMessageAdminText"||a.__typename==="RtcCallLogExtensibleMessageAdminText"||a.__typename==="GameScoreExtensibleMessageAdminText"||a.__typename==="MessengerCallLogExtensibleMessageAdminText"||a.__typename==="ConfirmFriendRequestExtensibleMessageAdminText"||a.__typename==="MessengerGrowthGenericExtensibleMessageAdminText"||a.__typename==="PartiesInviteExtensibleMessageAdminText"||a.__typename==="AppointmentReminderExtensibleMessageAdminText"||a.__typename==="LinkCTAExtensibleMessageAdminText"||a.__typename==="GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText"||a.__typename==="ServicesLeadGenSurveyExtensibleMessageAdminText"||a.__typename==="ServicesLeadGenSurveyEditExtensibleMessageAdminText"||a.__typename==="MessengerIcebreakerVoteCastExtensibleMessageAdminText"||a.__typename==="PagesMarkAsPaidExtensibleMessageAdminText"||a.__typename==="PagesMarkAsPaidNewExtensibleMessageAdminText"||a.__typename==="WorkBotInstalledExtensibleMessageAdminText")g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:Object.assign({},a)};else if(a.__typename==="LightweightEventCreateExtensibleMessageAdminText"||a.__typename==="LightweightEventDeleteExtensibleMessageAdminText"||a.__typename==="LightweightEventNotifyBeforeEventExtensibleMessageAdminText"||a.__typename==="LightweightEventNotifyExtensibleMessageAdminText"||a.__typename==="LightweightEventUpdateExtensibleMessageAdminText"||a.__typename==="LightweightEventUpdateLocationExtensibleMessageAdminText"||a.__typename==="LightweightEventUpdateTimeExtensibleMessageAdminText"||a.__typename==="LightweightEventUpdateTitleExtensibleMessageAdminText"||a.__typename==="LightweightEventRSVPExtensibleMessageAdminText"){e=a.event_reminder;if(e==null)f=void 0;else{var h=e.lightweight_event_creator;h=h==null?void 0:h.id;var i=e.location_page;i=i==null?void 0:i.id;var j=e.timezone_id;j=j==null?void 0:j.timezone;var k=e.location_coordinates;k=k==null?{latitude:void 0,longitude:void 0}:k;var l=e.event_reminder_members;l=l==null?void 0:l.edges;f={event_creator_id:h,event_id:e.id,event_location_id:i,event_location_name:e.location_name,event_seconds_to_notify_before:e.seconds_to_notify_before,event_time:e.time,event_end_time:e.end_time,event_timezone:j,event_title:e.event_title,event_type:e.lightweight_event_type,event_track_rsvp:e.allows_rsvp,latitude:k.latitude,longitude:k.longitude,guest_state_list:l,guest_id:a.guest_id,guest_status:a.guest_status}}g={message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:f}}else g=a.__typename==="AdReplyMessageAdminText"?{message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:{ad_url:a.ad_url,should_show_url:a.should_show_url}}:{message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[c])),untypedData:void 0};return{log_message_body:d,log_message_data:g,log_message_type:b("MercuryLogMessageType").GENERIC_ADMIN_TEXT}}function h(a){return b("bs_array").map(function(a){if(a==="p2p_transfer")return b("StoryAttachmentStyle").ORION;else if(a==="p2p_payment_request")return b("StoryAttachmentStyle").ORION_REQUEST;else return a},a)}function i(a){__p&&__p();var c=a.target,d;if(c==null)d=null;else if(c.__typename==="CrisisListing")d=b("bs_block").__(0,[{listing_type:c.listing_type,listing_category:c.listing_category,map_image:c.map_image}]);else if(c.__typename==="MoneyTransfer")d=b("bs_block").__(1,[{sender:c.sender,receiver:c.receiver,transfer_id:c.transfer_id,bubble_view:c.bubble_view}]);else if(c.__typename==="PeerToPeerTransfer")d=b("bs_block").__(2,[{sender:c.sender,receiver_profile:c.receiver_profile,transaction_amount:c.transaction_amount,transfer_status:c.transfer_status,transfer_id:c.transfer_id,completedTime:c.completedTime,updatedTime:c.updatedTime,creationTime:c.creationTime,transfer_context:c.transfer_context,amount_fb_discount:c.amount_fb_discount,funds_availability:c.funds_availability,group_thread_fbid:c.group_thread_fbid,platform_item:c.platform_item,id:c.id,status_description:c.status_description,bubble_view:c.bubble_view,currency_amount:c.currency_amount}]);else if(c.__typename==="PeerToPeerPaymentRequest")d=b("bs_block").__(3,[{amount:c.amount,transaction_amount:c.transaction_amount,requester:c.requester,requestee:c.requestee,request_status:c.request_status,request_theme:c.request_theme,id:c.id,memo_text:c.memo_text,transfer:c.transfer,creation_time:c.creation_time,group_thread_fbid:c.group_thread_fbid,updated_time:c.updated_time,status_description:c.status_description,bubble_view:c.bubble_view,individual_requests:c.individual_requests}]);else if(c.__typename==="PaymentPlatformAttachment")d=b("bs_block").__(4,[{payment_modules_client:c.payment_modules_client,is_viewer_seller:c.is_viewer_seller,payment_snippet:c.payment_snippet,item_list:c.item_list,components:c.components,payment_call_to_actions:c.payment_call_to_actions,click_action:c.click_action,invoicer_id:c.invoicer_id}]);else if(c.__typename==="MomentsAppMessengerInvitation")d=b("bs_block").__(5,[{snippet:c.snippet}]);else if(c.__typename==="MomentsAppMessengerPhotoRequest")d=b("bs_block").__(6,[{snippet:c.snippet}]);else if(c.__typename==="MessengerRetailPromotion")d=b("bs_block").__(7,[{message:c.message,call_to_actions:c.call_to_actions,promotion_items:c.promotion_items}]);else if(c.__typename==="MessengerBusinessMessage")d=b("bs_block").__(8,[{message:c.message,call_to_actions:c.call_to_actions,business_items:c.business_items}]);else if(c.__typename==="Video")d=b("bs_block").__(9,[{video_id:c.video_id,video_messenger_cta_payload:c.video_messenger_cta_payload}]);else if(c.__typename==="PagesPlatformLeadGenInfo")d=b("bs_block").__(10,[{field_data_list:c.field_data_list}]);else if(c.__typename==="MessageLiveLocation")d=b("bs_block").__(11,[{live_location_id:c.live_location_id,is_expired:c.is_expired,expiration_time:c.expiration_time,sender:c.sender,coordinate:c.coordinate,location_title:c.location_title,sender_destination:c.sender_destination,stop_reason:c.stop_reason}]);else if(c.__typename==="QuickInvite")d=b("bs_block").__(12,[{id:c.id,invite_sender:c.invite_sender,invite_recipient:c.invite_recipient}]);else if(c.__typename==="PagesPlatformBookingMessage")d=b("bs_block").__(13,[{id:c.id,page:c.page,message_bubble_type:c.message_bubble_type,user:c.user,native_component_flow_request:c.native_component_flow_request}]);else if(c.__typename==="ServicesAppointmentAvailability")d=b("bs_block").__(14,[{id:c.id,page:c.page,consumer:c.consumer,formatted_available_time_ranges:c.formatted_available_time_ranges,has_booking_request_created:c.has_booking_request_created}]);else if(c.__typename==="GenieMessage")d=b("bs_block").__(15,[{genie_sender:c.genie_sender,story_attachment:c.story_attachment}]);else if(c.__typename==="Event")d=b("bs_block").__(16,[{eventID:c.eventID,guestStatus:c.guestStatus,canViewerJoin:c.canViewerJoin,timeString:c.timeString,event_place:c.event_place,social_context:c.social_context,watchStatus:c.watchStatus,connection_style:c.connection_style,canViewerWatch:c.canViewerWatch,profile_picture:c.profile_picture,name:c.name,start_timestamp:c.start_timestamp}]);else if(c.__typename==="ExternalSong")d=b("bs_block").__(17,[{application_name:c.application_name,artist_names:c.artist_names,audio_url:c.audio_url,duration_ms:c.duration_ms,music_title:c.music_title}]);else if(c.__typename==="LightweightAction")d=b("bs_block").__(18,[{lwa_state:c.lwa_state,lwa_type:c.lwa_type}]);else if(c.__typename==="MessengerRetailItem")d=b("bs_block").__(19,[{id:c.id,name:c.name,desc:c.desc,thumb_url:c.thumb_url,item_url:c.item_url,source:c.source,image_aspect_ratio:c.image_aspect_ratio,first_metaline:c.first_metaline,second_metaline:c.second_metaline,third_metaline:c.third_metaline,default_action:c.default_action,call_to_actions:c.call_to_actions}]);else if(c.__typename==="AgentItemSuggestion")d=b("bs_block").__(20,[{id:c.id,desc:c.desc,total_cost:c.total_cost,merchant_name:c.merchant_name,target_url:c.target_url,thumb_url:c.thumb_url,raw_amount:c.raw_amount,payment:c.payment,price_amount:c.price_amount,price_currency:c.price_currency,name:c.name}]);else if(c.__typename==="FundraiserPersonToCharity"||c.__typename==="FundraiserPersonForPerson"){var e=c.fundraiser_detailed_progress_text,f=c.fundraiser_subtitle_text,g=c.focused_cover_photo;d=b("bs_block").__(21,[{fundraiserID:c.id,canDonate:c.can_donate,hasViewerDonated:c.has_viewer_donated,fundraiserDetailedProgressText:e==null?null:e.text,fundraiserSubtitleText:f==null?null:f.text,focusedCoverPhoto:g==null?null:{src:g.photo.image.uri,data:{height:g.photo.image.height,width:g.photo.image.width}}}])}else d=c.__typename==="MessengerRetailReceipt"?b("bs_block").__(22,[{account_holder_name:c.account_holder_name,adjustments:c.retail_adjustments,cancellation_url:c.cancellation_url,items:c.retail_items,merchant_name:c.merchant_name,messenger_commerce_bubble_type:c.bubble_type,order_id:c.receipt_id,order_time:c.order_time_for_display,order_url:c.receipt_url,payment_method:c.order_payment_method,receipt_id:c.id,recipient_name:c.recipient_name,shipping_cost:c.shipping_cost,shipping_method:c.shipping_method,status:c.status,structured_address:c.structured_address,subtotal:c.subtotal,total_cost:c.total,total_tax:c.tax,partner_logo:c.partner_log}]):c.__typename==="JobApplication"?b("bs_block").__(23,[{id:c.id}]):c.__typename==="GroupCommerceProductItem"?b("bs_block").__(24,[{group_commerce_item_description:c.group_commerce_item_description,group_commerce_item_seller:c.group_commerce_item_seller,formatted_price:c.formatted_price,group_commerce_item_title:c.group_commerce_item_title,primary_photo:c.primary_photo,url:c.url}]):c.__typename==="Page"?b("bs_block").__(25,[{address:c.address,top_category_name:c.top_category_name,cover_photo:c.cover_photo,location:c.location,name:c.name,overall_star_rating:c.overall_star_rating,id:c.id,price_range_description:c.price_range_description}]):c.__typename==="MessengerEventReminder"?b("bs_block").__(26,[{is_active:c.is_active,event_title:c.event_title,time:c.time}]):c.__typename==="FormProgressStoryAttachment"?b("bs_block").__(49,[{progress:c.progress,url:c.url}]):c.__typename==="AirlineBoardingPassCollectionMessageAttachment"?b("bs_block").__(27,[{tint_color:c.tint_color,logo:c.logo,flight_label:c.flight_label,boarding_time_label:c.boarding_time_label,departure_label:c.departure_label,passenger_names_label:c.passenger_names_label,passenger_seat_label:c.passenger_seat_label,flight_terminal_label:c.flight_terminal_label,flight_gate_label:c.flight_gate_label,view_boarding_pass_cta_label:c.view_boarding_pass_cta_label,boarding_passes:c.boarding_passes,share_cta_label:c.share_cta_label,message_cta_label:c.message_cta_label,boarding_pass_title_label:c.boarding_pass_title_label,boarding_pass_error_title_label:c.boarding_pass_error_title_label}]):c.__typename==="AirlineCheckInReminderMessageAttachment"?b("bs_block").__(28,[{pnr_number:c.pnr_number,tint_color:c.tint_color,checkin_url:c.checkin_url,booking_number_label:c.booking_number_label,flight_label:c.flight_label,arrival_time_label:c.arrival_time_label,departure_time_label:c.departure_time_label,checkin_cta_label:c.checkin_cta_label,logo:c.logo,flight_infos:c.flight_infos}]):c.__typename==="AirlineUpdateMessageAttachment"?b("bs_block").__(29,[{pnr_number:c.pnr_number,tint_color:c.tint_color,update_type:c.update_type,departure_time_label:c.departure_time_label,arrival_time_label:c.arrival_time_label,booking_number_label:c.booking_number_label,flight_gate_label:c.flight_gate_label,flight_label:c.flight_label,flight_status_label:c.flight_status_label,passenger_names_label:c.passenger_names_label,passenger_seat_label:c.passenger_seat_label,logo:c.logo,flight_info:c.flight_info,hightlighted_labels:c.hightlighted_labels}]):c.__typename==="AirlineItineraryMessageAttachment"?b("bs_block").__(30,[{confirmation_number:c.confirmation_number,pnr_number:c.pnr_number,tint_color:c.tint_color,formatted_total:c.formatted_total,itemized_price_infos:c.itemized_price_infos,formatted_tax:c.formatted_tax,formatted_base_price:c.formatted_base_price,passenger_infos:c.passenger_infos,logo:c.logo,aircraft_type_label:c.aircraft_type_label,arrival_time_label:c.arrival_time_label,base_price_label:c.base_price_label,booking_number_label:c.booking_number_label,cabin_type_label:c.cabin_type_label,departure_time_label:c.departure_time_label,flight_confirmation_label:c.flight_confirmation_label,flight_date_label:c.flight_date_label,flight_label:c.flight_label,flight_terminal_label:c.flight_terminal_label,itinerary_error_title_label:c.itinerary_error_title_label,itinerary_title_label:c.itinerary_title_label,passenger_name_label:c.passenger_name_label,passenger_names_label:c.passenger_names_label,passenger_seat_label:c.passenger_seat_label,purchase_summary_label:c.purchase_summary_label,taxes_label:c.taxes_label,total_label:c.total_label,view_details_cta_label:c.view_details_cta_label,itinerary_legs:c.itinerary_legs}]):c.__typename==="MessengerRetailShipmentTrackingEvent"?b("bs_block").__(31,[{id:c.id,shipment:c.shipment,tracking_event_time_for_display:c.tracking_event_time_for_display,shipment_tracking_event_type:c.shipment_tracking_event_type,messenger_commerce_location:c.messenger_commerce_location,tracking_event_description:c.tracking_event_description,bubble_type:c.bubble_type}]):c.__typename==="MessengerRetailShipment"?b("bs_block").__(32,[{id:c.id,tracking_number:c.tracking_number,shipdate_for_display:c.shipdate_for_display,estimated_delivery_time_for_display:c.estimated_delivery_time_for_display,commerce_origin:c.commerce_origin,commerce_destination:c.commerce_destination,retail_carrier:c.retail_carrier,shipment_tracking_events:c.shipment_tracking_events,receipt:c.receipt,recipient:c.recipient,retail_shipment_items:c.retail_shipment_items,bubble_type:c.bubble_type}]):c.__typename==="TicketOrderAttachment"?b("bs_block").__(34,[{ticket_order_id:c.ticket_order_id,ticket_order:c.ticket_order,event:c.event}]):c.__typename==="EventTicketRequest"?b("bs_block").__(35,[{id:c.id,guest_notes:c.guest_notes,event:c.event}]):c.__typename==="EventAttendanceConfirmation"?b("bs_block").__(36,[{id:c.id,num_guests:c.num_guests,attendee_answers:c.attendee_answers,event:c.event}]):c.__typename==="LeadGenDeepLinkData"?b("bs_block").__(33,[{id:c.id,cover_image:c.cover_image,headline:c.headline,name:c.name,page:c.page}]):c.__typename==="UserLeadGenInfo"?b("bs_block").__(37,[{id:c.id,field_data:c.field_data}]):c.__typename==="WECMessageAudio"?b("bs_block").__(41,[{id:c.id,filename:c.filename,playable_url:c.playable_url,url_shimhash:c.url_shimhash,filesize:c.filesize,extension:c.extension,duration:c.duration}]):c.__typename==="IceBreakerMessageAttachment"?b("bs_block").__(38,[{ice_breaker_title:c.ice_breaker_title,ice_breaker_messages:c.ice_breaker_messages,ad_id:c.ad_id}]):c.__typename==="WECMessage"?b("bs_block").__(39,[{sender_wec_number:c.sender_wec_number}]):c.__typename==="WECMessageImage"?b("bs_block").__(40,[{id:c.id,extension:c.extension,preview:c.preview,large_preview:c.large_preview}]):c.__typename==="WECMessageFile"?b("bs_block").__(42,[{id:c.id,name:c.name,is_malicious:c.is_malicious,uri:c.uri,extension:c.extension,filesize:c.filesize}]):c.__typename==="WECMessageVideo"?b("bs_block").__(43,[{id:c.id,playable_url:c.playable_url,url_shimhash:c.url_shimhash,filesize:c.filesize,extension:c.extension,filename:c.filename,height:c.height,width:c.width}]):c.__typename==="MontageDirect"?b("bs_block").__(44,[{message_state:c.message_state,is_keep_disabled:c.is_keep_disabled,blob_media_type:c.blob_media_type,blob_media:c.blob_media,image:c.image}]):c.__typename==="MBirthdayReminderAttachment"?b("bs_block").__(45,[{friend_id:c.friend_id,confidence:c.confidence,birthday_date:c.birthday_date}]):c.__typename==="MPersonalRemindersList"?b("bs_block").__(46,[{has_more_upcoming_reminders:c.has_more_upcoming_reminders,personal_reminders:c.personal_reminders}]):c.__typename==="MentorshipMessengerCurriculumStep"?b("bs_block").__(47,[{id:c.id,module_name:c.module_name,mentorship_program:c.mentorship_program,program_name:c.program_name,curriculum_message:c.curriculum_message,prompt:c.prompt,step_count:c.step_count,total_steps:c.total_steps}]):c.__typename==="MentorshipMessengerDiscussionTopicSet"?b("bs_block").__(48,[{id:c.id,topics:c.topics}]):c.__typename==="Story"?b("bs_block").__(50,[{title:c.title,description:c.description,actors:c.actors,to:c.to,attachments:c.attachments,attached_story:c.attached_story}]):c.__typename==="User"?b("bs_block").__(51,[{type:c.__typename,id:c.id,name:c.name,profile_picture:c.profile_picture,cover_photo:c.cover_photo,work_info:c.work_info,subscribe_status:c.subscribe_status}]):c.__typename==="Group"?b("bs_block").__(52,[{type:c.__typename,id:c.id,name:c.name,cover_photo:c.cover_photo,visibility:c.visibility,visibility_sentence:c.visibility_sentence,viewer_join_state:c.viewer_join_state,group_general_chat:c.group_general_chat,work_groups_sync_metadata:c.work_groups_sync_metadata}]):null;return{description:a.description,media:a.media,source:a.source,style_list:h(a.style_list),title_with_entities:a.title_with_entities,properties:a.properties,url:a.url,deduplication_key:a.deduplication_key,action_links:a.action_links,messaging_attribution:a.messaging_attribution,messenger_call_to_actions:a.messenger_call_to_actions,xma_layout_info:a.xma_layout_info,target:d}}function j(a){var c=i({description:a.description,media:a.media,source:a.source,style_list:a.style_list,title_with_entities:a.title_with_entities,properties:a.properties,url:a.url,deduplication_key:a.deduplication_key,action_links:a.action_links,messaging_attribution:a.messaging_attribution,messenger_call_to_actions:a.messenger_call_to_actions,xma_layout_info:a.xma_layout_info,target:a.target});if(c==null)return null;else{a=b("bs_array").map(i,a.subattachments);return Object.assign({subattachments:a},c)}}function k(a){__p&&__p();a=a.blob_attachments;var c=[];a==null||b("bs_array").iter(function(a){__p&&__p();if(a.__typename==="MessageImage"){c.push(b("bs_block").__(0,[{attribution_app:a.attribution_app,attribution_metadata:a.attribution_metadata,filename:a.filename,preview:a.preview,large_preview:a.large_preview,thumbnail:a.thumbnail,legacy_attachment_id:a.legacy_attachment_id,original_dimensions:a.original_dimensions,original_extension:a.original_extension,render_as_sticker:a.render_as_sticker,photo_encodings:a.photo_encodings}]));return 0}else if(a.__typename==="MessageAnimatedImage"){c.push(b("bs_block").__(1,[{attribution_app:a.attribution_app,attribution_metadata:a.attribution_metadata,filename:a.filename,animated_image:a.animated_image,legacy_attachment_id:a.legacy_attachment_id,preview_image:a.preview_image,original_dimensions:a.original_dimensions}]));return 0}else if(a.__typename==="MessageAudio"){c.push(b("bs_block").__(2,[{attribution_app:a.attribution_app,attribution_metadata:a.attribution_metadata,filename:a.filename,playable_url:a.playable_url,playable_duration_in_ms:a.playable_duration_in_ms,is_voicemail:a.is_voicemail,audio_type:a.audio_type,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}]));return 0}else if(a.__typename==="MessageVideo"){c.push(b("bs_block").__(3,[{attribution_app:a.attribution_app,attribution_metadata:a.attribution_metadata,filename:a.filename,playable_url:a.playable_url,playable_duration_in_ms:a.playable_duration_in_ms,legacy_attachment_id:a.legacy_attachment_id,chat_image:a.chat_image,video_type:a.video_type,original_dimensions:a.original_dimensions,large_image:a.large_image,inbox_image:a.inbox_image}]));return 0}else if(a.__typename==="MessageFile"){c.push(b("bs_block").__(4,[{attribution_app:a.attribution_app,attribution_metadata:a.attribution_metadata,filename:a.filename,url:a.url,content_type:a.content_type,is_malicious:a.is_malicious,message_file_fbid:a.message_file_fbid,url_shimhash:a.url_shimhash,url_skipshim:a.url_skipshim}]));return 0}else return 0},a);return c}function l(a){__p&&__p();a=a.message;if(a==null)return[];else{var c=[];b("bs_array").iter(function(a){__p&&__p();var b=a.entity;if(b==null)return 0;else{var d=b.id;b=b.thread_key;if(d==null)if(b==null)return 0;else{b=b.thread_fbid;if(b==null)return 0;else{c.push({id:b,offset:a.offset,length:a.length,type:a.__typename});return 0}}else{c.push({id:d,offset:a.offset,length:a.length,type:a.__typename});return 0}}},a.ranges);return c}}function m(a,c,d,e){__p&&__p();var f={};b("bs_array").iter(function(a){f[a.user.id]=a.reaction;return 0},c.message_reactions);var h=b("FBIDCheck").isUser_deprecated(c.message_sender.id),i=h?b("MessagingTagUtils").getSourceFromTags(c.tags_list):b("MessagingSourceEnum").UNKNOWN;h=h?b("MessagingTagUtils").getSourceTags(c.tags_list,i):[];var n=c.message_id,o=c.commerce_message_type,p=c.customizations,q=c.replied_to_message,r;if(q==null)r=null;else{var s=q.message;r=s==null?{status:q.status,message:null}:{status:q.status,message:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").some(m(a,s,d,e)))}}q=c.error_data;s=c.unsent_timestamp_precise;s=!(s==null)&&s!=="0"?b("bs_js_null_undefined").fromOption(b("bs_caml_format").caml_float_of_string(s)):null;o={thread_id:d.thread_id,thread_fbid:d.thread_fbid,other_user_fbid:d.other_user_fbid,action_type:c.__typename==="UserMessage"?b("MercuryActionType").USER_GENERATED_MESSAGE:b("MercuryActionType").LOG_MESSAGE,message_id:n,threading_id:null,offline_threading_id:c.offline_threading_id,author:b("MercuryIDs").getParticipantIDFromUserID(c.message_sender.id),author_email:c.message_sender.email,ephemeral_ttl_mode:c.ttl,timestamp:b("bs_caml_format").caml_float_of_string(c.timestamp_precise),is_unread:c.unread,is_filtered_content:c.tags_list.indexOf(b("MessagingTag").FILTERED_CONTENT)!==-1,is_filtered_content_bh:c.tags_list.indexOf(b("MessagingTag").FILTERED_CONTENT_BH)!==-1,is_filtered_content_account:c.tags_list.indexOf(b("MessagingTag").FILTERED_CONTENT_ACCOUNT)!==-1,is_filtered_content_quasar:c.tags_list.indexOf(b("MessagingTag").FILTERED_CONTENT_QUASAR)!==-1,is_filtered_content_invalid_app:c.tags_list.indexOf(b("MessagingTag").FILTERED_CONTENT_INVALID_APP)!==-1,is_sponsored:c.is_sponsored,ad_id:c.ad_id,ad_client_token:c.ad_client_token,commerce_message_type:o==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MNCommerceMessageType")[o])),customizations:p==null?[]:p,source:i,source_tags:h,tags:c.tags_list,is_spoof_warning:c.tags_list.indexOf(b("MessagingTag").DOMAIN_AUTH_FAIL)!==-1||c.tags_list.indexOf(b("MessagingTag").SPAM_SPOOFING)!==-1||c.tags_list.indexOf(b("MessagingTag").SPOOF_WARNING)!==-1,folder:d.folder,platform_xmd:c.platform_xmd_encoded,message_source:c.message_source_data,montage_reply_data:c.montage_reply_data,replied_to_message:r,skip_bump_thread:!1,profile_ranges:l(c),reactions:f,error_data:q==null?null:{description:q.description},removed_timestamp:s,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(c.message_unsendability_status),has_attachment:null,attachments:null,raw_attachments:null,ranges:null,meta_ranges:null,status:null,log_message_type:null,log_message_data:null,log_message_body:null,body:null,subject:null,creator_info:null};if(c.__typename==="UserMessage"){p=k(c);i=c.extensible_attachment;if(i==null)h=null;else{r=i.story_attachment;q=i.genie_attachment;if(q==null)s=null;else{q=q.genie_message;var t;if(q==null)t=null;else{q=q.story_attachment;t={story_attachment:q==null?null:j(q)}}s={genie_message:t}}h={legacy_attachment_id:i.legacy_attachment_id,story_attachment:r==null?null:j(r),genie_attachment:s}}q=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:h,blob_attachments:p,sticker:c.sticker},n,e);t=c.message;i=c.page_admin_sender;Object.assign(o,{body:t==null?null:t.text,creator_info:i==null?null:{creatorID:i.admin_id,creatorName:i.name,creatorType:i.sender_type,labelType:i.label_type,pageID:i.page_id,profileURI:i.profile_uri},subject:null,has_attachment:q.length>0,attachments:q,raw_attachments:null,ranges:void 0,meta_ranges:c.meta_ranges.map(function(a){return babelHelpers["extends"]({},a,{data:JSON.parse(a.data)})})})}else if(c.__typename==="VoiceCallMessage"||c.__typename==="VideoCallMessage"){r=c.__typename;s=r==="VoiceCallMessage"?b("MercuryLogMessageType").PHONE_CALL:b("MercuryLogMessageType").VIDEO_CALL;a=c.message_sender.id;h=d.other_user_fbid;p=h==null?null:b("MercuryIDs").getParticipantIDFromUserID(a===h?b("CurrentUser").getID():h);n=c.answered;Object.assign(o,{log_message_type:s,log_message_data:{answered:n==null?!1:n,caller:b("MercuryIDs").getParticipantIDFromUserID(a),callee:p},log_message_body:c.snippet})}else if(c.__typename==="ThreadNameMessage")Object.assign(o,{log_message_type:b("MercuryLogMessageType").THREAD_NAME,log_message_data:{name:c.thread_name},log_message_body:c.snippet});else if(c.__typename==="ThreadImageMessage"){e=c.image_with_metadata;if(e==null)t=null;else{i=e.preview;t={preview_url:i==null?null:i.uri,metadata:{fbid:e.legacy_attachment_id,dimensions:String(e.original_dimensions.x)+(","+String(e.original_dimensions.y))}}}Object.assign(o,{log_message_type:b("MercuryLogMessageType").THREAD_IMAGE,log_message_data:{image:t},log_message_body:c.snippet})}else if(c.__typename==="ParticipantsAddedMessage"){q=c.participants_added;Object.assign(o,{log_message_type:b("MercuryLogMessageType").SUBSCRIBE,log_message_data:{added_participants:q==null?[]:b("bs_array").map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.id)},q)},log_message_body:c.snippet})}else if(c.__typename==="ParticipantLeftMessage"){r=c.participants_removed;Object.assign(o,{log_message_type:b("MercuryLogMessageType").UNSUBSCRIBE,log_message_data:{removed_participants:r==null?[]:b("bs_array").map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.id)},r)},log_message_body:c.snippet})}else if(c.__typename==="GenericAdminTextMessage"){d=c.extensible_message_admin_text;h=c.extensible_message_admin_text_type;d==null?h==null||Object.assign(o,{log_message_body:c.snippet,log_message_data:{message_type:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingGenericAdminTextType")[h])),untypedData:void 0},log_message_type:b("MercuryLogMessageType").GENERIC_ADMIN_TEXT}):h==null||Object.assign(o,g(d,h,c.snippet))}else if(c.__typename==="P2PPaymentRequestMessage"||c.__typename==="P2PPaymentMessage"){s=c.p2p_sender;n=c.p2p_receiver;a=c.amount;p=c.message_type;Object.assign(o,{log_message_body:c.snippet,log_message_data:{transfer_id:c.transfer_id,senderId:s==null?null:b("MercuryIDs").getParticipantIDFromUserID(s.id),receiverId:n==null?null:b("MercuryIDs").getParticipantIDFromUserID(n.id),formattedAmount:a==null?null:a.formatted,subtype:p==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("P2PPaymentLogMessageSubtype")[p]))},log_message_type:b("MercuryLogMessageType").ORION})}return o}f._getGenericAdminTextMessage=g;f._getStyleList=h;f.unsafeCastExtensibleAttachmentWithoutSubattachments=i;f.unsafeCastExtensibleAttachment=j;f.unsafeCastBlobAttachments=k;f._getProfileRanges=l;f.transformMessage=m}),null);
__d("MessengerThreadCannotReplyReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCKED:"blocked",MESSENGER_BLOCKEE:"messenger_blockee",COMPOSER_DISABLED_BOT:"composer_disabled_bot",HAS_EMAIL_PARTICIPANT:"has_email_participant",OBJECT_ORIGINATED:"object_originated",READ_ONLY:"read_only",VIEWER_NOT_SUBSCRIBED:"viewer_not_subscribed",RECIPIENTS_NOT_LOADABLE:"recipients_not_loadable",RECIPIENTS_UNAVAILABLE:"recipients_unavailable",RECIPIENTS_INVALID:"recipients_invalid",RECIPIENTS_INACTIVE_WORK_ACC:"recipients_inactive_work_account",MONTAGE_NOT_AUTHOR:"montage_not_author"})}),null);
__d("WorkForeignEntityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FOREIGN:"FOREIGN",NOT_FOREIGN:"NOT_FOREIGN"})}),null);
__d("bs_js_json",["bs_block","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=typeof a;if(c==="string")return b("bs_block").__(0,[a]);else if(c==="number")return b("bs_block").__(1,[a]);else if(c==="boolean")if(a===!0)return 1;else return 0;else if(a===null)return 2;else if(Array.isArray(a))return b("bs_block").__(3,[a]);else return b("bs_block").__(2,[a])}function c(a,b){switch(b){case 0:return typeof a==="string";case 1:return typeof a==="number";case 2:if(a!==null&&typeof a==="object")return!Array.isArray(a);else return!1;case 3:return Array.isArray(a);case 4:return typeof a==="boolean";case 5:return a===null}}function d(a){if(typeof a==="string")return a}function e(a){if(typeof a==="number")return a}function g(a){if(typeof a==="object"&&!Array.isArray(a)&&a!==null)return b("bs_js_primitive").some(a)}function h(a){if(Array.isArray(a))return a}function i(a){if(typeof a==="boolean")return a}function j(a){if(a===null)return null}f.classify=a;f.test=c;f.decodeString=d;f.decodeNumber=e;f.decodeObject=g;f.decodeArray=h;f.decodeBoolean=i;f.decodeNull=j}),null);
__d("MessengerServerPayloadTransformer.bs",["fbt","URI","FBID.bs","bs_array","bs_string","bs_js_json","getByPath","bs_caml_array","ChatConfig","MercuryIDs","bs_belt_Option","bs_caml_format","GenderConst","bs_js_primitive","WorkModeConfig","bs_js_null_undefined","DisplayGenderConst","MessagingThreadType","isMessengerDotComURI","WorkForeignEntityType","MercuryParticipantTypes","MessengerGroupAdminType","MessengerGroupsSyncStatus.bs","MessengerMessageTransformer.bs","MessengerAttachmentTransformer.bs","MessengerGroupAdminModelStatus.bs","MessengerObjectAssociationType","MessageThreadUnsendabilityStatus.bs","MessengerThreadCannotReplyReason"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();var c=a.location_coordinates;c=c==null?[null,null]:[c.latitude,c.longitude];var d=a.location_page,e;if(d==null)e=null;else{d=d.address;e=d==null?null:d.full_address}d=a.allows_rsvp;d=d?1:0;var f=b("bs_array").fold_left(function(a,b){a[b.node.id]=b.guest_list_state;return a},{},a.event_reminder_members.edges),g=a.lightweight_event_creator;return{creator_id:g==null?null:g.id,event_members:f,event_time:a.time,event_type:a.lightweight_event_type,latitude:c[0],longitude:c[1],location_address:e,location_name:a.location_name,note:a.note,oid:a.id,related_event:a.related_event,repeat_mode:a.repeat_mode,seconds_to_notify_before:a.seconds_to_notify_before,status:a.lightweight_event_status,title:a.event_title,track_rsvp:d}}function i(a){__p&&__p();a=a.associated_object;if(a==null)return null;else{var c=a.action_link,d;if(c==null)d=null;else{var e=b("WorkModeConfig").is_work_user;e=e?b("WorkModeConfig").company_subdomain+".facebook.com":"www.facebook.com";d=new(b("URI"))(c).setDomain(e)}c=a.profile_picture;e=a.group_general_chat;var f=a.group_events,g=a.group_saves;return{id:a.id,name:a.name,action_link:d,profile_picture:c==null?null:{uri:c.uri},group_general_chat:e==null?null:{id:e.id},room_type:a.room_type,privacy_mode:a.privacy_mode,approval_mode_toggleable:a.approval_mode_toggleable,start_timestamp:a.start_timestamp,event_place:a.event_place,mentorship_program:a.mentorship_program,group_events:f==null?{count:0}:{count:f.count},group_saves:g==null?{count:0}:{count:g.count}}}}function j(a){a=a.related_page_thread;if(a==null)return null;else{var c=b("bs_array").map(function(a){return{id:a.id,name:a.name,color:a.color}},a.custom_thread_tags.nodes),d=a.page;d=d==null?null:d.id;return{flagged:a.is_flagged,pageID:d,customTags:c}}}function k(a){__p&&__p();var c=a.thread_key.other_user_id;if(c==null)return!1;else{a=a.all_participants.edges;return b("bs_array").fold_left(function(a,b){b=b.node.messaging_actor;if(b.id===c)return b.__typename==="User";else return a},!1,a)}}function l(a){__p&&__p();if(a.length===0)return null;else{var c={};b("bs_array").iter(function(a){var b=a.nickname;if(b==null)return 0;else{c[a.participant_id]=b;return 0}},a);return c}}function m(a){return"#"+b("bs_string").sub(a,2,a.length-2|0)}function n(a){if(!(a==null)&&a!=="")return m(a);else return null}function a(a){return a.thread_key.thread_fbid}function c(a){return a.thread_key.other_user_id}function d(a){return b("bs_js_primitive").nullable_to_opt(b("getByPath")(a,["messages","page_info"]))}function e(a){var c=g._("Facebook User");return{id:"fbid:"+a,fbid:b("FBID.bs").ofStringExn(a),gender:b("GenderConst").UNKNOWN_SINGULAR,href:null,image_src:null,big_image_src:null,name:c,short_name:c,user_type:null,vanity:null,accepts_messenger_user_feedback:!1,is_friend:!1,is_viewer_managing_parent:!1,is_messenger_user:!1,is_aloha_proxy_confirmed:!1,is_business_enabled:!1,is_verified:!1,is_messenger_platform_bot:!1,is_messenger_ignored:null,is_messenger_blocked:!1,is_facebook_blocked:!0,is_subscribed_to_page_updates:!1,title:null,company_name:null,availability_status:null,employee:!1,instant_game_channel:null,work_foreign_entity_info:null,timezone:null,wec_group_admins:[],wec_group_creation_time:null,wec_group_invite_link:null,wec_group_participant_count:null,wec_group_participants:[]}}function o(a){__p&&__p();var c=a.profile_picture_url;if(c==null){var d=a.big_image_src;d=d==null?null:d.uri}else d=c;c=a.gender;var e=a.url,f;if(e==null)f=null;else{var g=b("isMessengerDotComURI")(new(b("URI"))(e));f=g?new(b("URI"))(e).getUnqualifiedURI().setDomain("www.facebook.com").setProtocol("https").toString():e}g=a.__typename;var h;switch(g){case"MessengerCallGuestUser":h=b("MercuryParticipantTypes").GUEST;break;case"NeoApprovedUser":h=b("MercuryParticipantTypes").PARENT_APPROVED_USER;break;case"Page":h=b("MercuryParticipantTypes").PAGE;break;case"User":h=b("MercuryParticipantTypes").USER;break;default:h=null}e=a.accepts_messenger_user_feedback;g=a.is_viewer_friend;var i=a.is_viewer_managing_parent,j=a.is_messenger_user,k=a.is_aloha_proxy_confirmed,l=a.is_verified,m=a.is_messenger_platform_bot,n=a.is_message_blocked_by_viewer,o=a.is_blocked_by_viewer,p=a.is_viewer_subscribed_to_message_updates,q=a.work_info,r;if(q==null)r=null;else{var s=q.work_community;s=s==null?null:s.name;q=q.job_title;r=s==null?q==null?null:q:!(q==null)&&q.length!==0?""+(String(q)+(" \u2022 "+(String(s)+""))):s}q=a.work_info;if(q==null)s=null;else{q=q.work_community;q=q==null?null:q.name;var t=a.work_foreign_entity_info;s=!(q==null)&&!(t==null)&&t.type===b("WorkForeignEntityType").FOREIGN?q:null}t=a.work_info;q=a.is_employee;var u=a.work_foreign_entity_info,v=a.wec_group_creation_time,w=a.wec_group_invite_link,x=a.wec_group_participants,y=a.wec_group_participants,z=a.wec_group_admins;return{id:"fbid:"+a.id,fbid:a.id,gender:c==null?b("GenderConst").NOT_A_PERSON:c===b("DisplayGenderConst").MALE?b("GenderConst").MALE_SINGULAR:c===b("DisplayGenderConst").FEMALE?b("GenderConst").FEMALE_SINGULAR:b("GenderConst").NOT_A_PERSON,href:f,image_src:d,big_image_src:d,name:a.name,short_name:b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.short_name),a.name),user_type:h,vanity:a.username,accepts_messenger_user_feedback:e==null?!1:e,is_friend:g==null?!1:g,is_viewer_managing_parent:i==null?!1:i,is_messenger_user:j==null?!1:j,is_aloha_proxy_confirmed:k==null?!1:k,is_business_enabled:a.__typename==="Page",is_verified:l==null?!1:l,is_messenger_platform_bot:m==null?!1:m,is_messenger_ignored:null,is_messenger_blocked:n==null?!1:n,is_facebook_blocked:o==null?!1:o,is_subscribed_to_page_updates:p==null?!0:p,title:r,company_name:s,availability_status:t==null?null:t.availability_status,employee:q==null?!1:q,instant_game_channel:a.__typename==="Page"?a.instant_game_channel:null,work_foreign_entity_info:u==null?null:u,timezone:null,wec_group_creation_time:v==null?null:v,wec_group_invite_link:w==null?null:w,wec_group_participant_count:x==null?null:x.count,wec_group_participants:y==null?[]:b("bs_array").map(function(a){return{id:b("MercuryIDs").getParticipantIDFromUserID(a.messaging_actor.id),name:a.messaging_actor.name}},y.nodes),wec_group_admins:z==null?[]:b("bs_array").map(function(a){return{id:b("MercuryIDs").getParticipantIDFromUserID(a.messaging_actor.id),name:a.messaging_actor.name}},z.nodes)}}function p(a){return b("bs_array").map(function(a){return o(a.node.messaging_actor)},a.all_participants.edges)}function q(a,c){__p&&__p();c=c.read_receipts;if(c==null)return void 0;else{var d={};b("bs_array").iter(function(c){var e=c.actor;if(!(e==null)&&a!==e.id){d[e.id]={action:b("bs_caml_format").caml_float_of_string(c.action),watermark:b("bs_caml_format").caml_float_of_string(c.watermark)};return 0}else return 0},c.nodes);return b("bs_js_primitive").some(d)}}function r(a){__p&&__p();a=a.delivery_receipts;if(a==null)return[];else return a.nodes.sort(function(a,c){a=b("bs_caml_format").caml_float_of_string(a.timestamp_precise);c=b("bs_caml_format").caml_float_of_string(c.timestamp_precise);if(a>c)return-1;else if(a===c)return 0;else return 1})}function s(a,c,d){var e=c.messages;if(e==null)return void 0;else return b("bs_array").map(function(e){return b("MessengerMessageTransformer.bs").transformMessage(a,e,{thread_id:null,thread_fbid:c.thread_key.thread_fbid,other_user_fbid:c.thread_key.other_user_id,folder:b("bs_string").lowercase(c.folder)},d)},e.nodes)}function t(a,c,d){__p&&__p();var e=b("bs_array").map(function(f){__p&&__p();var g=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments(f),h=f.extensible_attachment,i;if(h==null)i=null;else{var a=h.story_attachment,c=h.genie_attachment,d;if(c==null)d=null;else{c=c.genie_message;var e;if(c==null)e=null;else{c=c.story_attachment;e={story_attachment:c==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(c)}}d={genie_message:e}}i={legacy_attachment_id:h.legacy_attachment_id,story_attachment:a==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(a),genie_attachment:d}}return{message_id:f.message_id,snippet:f.snippet,message_sender:f.message_sender,timestamp_precise:f.timestamp_precise,commerce_message_type:f.commerce_message_type,extensible_attachment:i,blob_attachments:g,sticker:f.sticker,extensible_message_admin_text:f.extensible_message_admin_text,platform_xmd_encoded:f.platform_xmd_encoded}},c.last_message.nodes);e={thread_key:c.thread_key,name:c.name,all_participants:c.all_participants,last_message:{nodes:e},unread_count:c.unread_count,message_count:c.messages_count,image:c.image,updated_time_precise:c.updated_time_precise,mute_until:c.mute_until,is_pinned:c.is_pinned,is_pin_protected:c.is_pin_protected,is_viewer_subscribed:c.is_viewer_subscribed,is_canonical_neo_user:c.is_canonical_neo_user,thread_queue_enabled:c.thread_queue_enabled,folder:c.folder,has_viewer_archived:c.has_viewer_archived,is_page_follow_up:c.is_page_follow_up,is_page_unresponded_thread:c.is_page_unresponded_thread,cannot_reply_reason:c.cannot_reply_reason,can_viewer_report:c.can_viewer_report,ephemeral_ttl_mode:c.ephemeral_ttl_mode,customization_info:c.customization_info,thread_admins:c.thread_admins,approval_mode:c.approval_mode,joinable_mode:c.joinable_mode,thread_queue_metadata:c.thread_queue_metadata,event_reminders:c.event_reminders,montage_thread:c.montage_thread,last_read_receipt:c.last_read_receipt,related_page_thread:c.related_page_thread,rtc_call_data:c.rtc_call_data,associated_object:c.associated_object,reactions_mute_mode:c.reactions_mute_mode,mentions_mute_mode:c.mentions_mute_mode,privacy_mode:c.privacy_mode,customization_enabled:c.customization_enabled,thread_type:c.thread_type,thread_pin_timestamp:c.thread_pin_timestamp,page_unsubscribe_status:c.page_unsubscribe_status,participant_add_mode_as_string:c.participant_add_mode_as_string,participants_event_status:c.participants_event_status,marketplace_thread_data:c.marketplace_thread_data,page_comm_item:c.page_comm_item,group_approval_queue:c.group_approval_queue,admin_model_status_string:c.admin_model_status_string,groups_sync_status_string:c.groups_sync_status_string,work_groups_sync_metadata:c.work_groups_sync_metadata,description:c.description,joinable_link:c.joinable_link,linked_mentorship_programs:c.linked_mentorship_programs,theme:c.thread_theme,thread_connectivity_data:c.thread_connectivity_data,thread_unsendability_status:c.thread_unsendability_status};c=e.customization_info;var f;if(c==null)f=[null,null,null];else{var g=c.emoji;f=[n(c.outgoing_bubble_color),g==null?null:{emoji:g},l(c.participant_customizations)]}g=f[0];c=e.theme;if(c==null)g=[g,g,g,[],null];else{var o=c.gradient_colors.length,p=m(c.fallback_color),q=b("FBID.bs").ofString(c.id);q=q!==void 0?b("bs_js_primitive").valFromOption(q):null;if(o>0&&b("ChatConfig").get("chat_tab_has_gradients")){c=b("bs_array").map(m,c.gradient_colors);g=[p,b("bs_caml_array").caml_array_get(c,0),b("bs_caml_array").caml_array_get(c,o-1|0),c,q]}else g=[p,p,p,[],q]}o=e.page_comm_item;c=o==null?[null,null,null,null,null]:[o.comm_status,o.comm_source_id,o.id,o.subtitle,o.comm_item_owners];p=e.last_message.nodes.length!==0?b("bs_js_primitive").some(b("bs_caml_array").caml_array_get(e.last_message.nodes,0)):void 0;q=e.last_read_receipt.nodes.length!==0?b("bs_js_primitive").some(b("bs_caml_array").caml_array_get(e.last_read_receipt.nodes,0)):void 0;if(p!==void 0){o=b("bs_js_primitive").valFromOption(p);a=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:o.extensible_attachment,blob_attachments:o.blob_attachments,sticker:o.sticker},o.message_id,d)}else a=[];if(p!==void 0){o=b("bs_js_primitive").valFromOption(p).extensible_message_admin_text;if(o==null)d=null;else{o=o.game;d=o==null?null:o.id}}else d=null;o=e.cannot_reply_reason;var r=e.thread_key.other_user_id;if(r==null){var s=e.thread_key.thread_fbid;s=s==null?null:s}else s=r;r=b("bs_array").fold_left(function(a,c){a[c.id]=b("MessengerGroupAdminType").REGULAR_ADMIN;return a},{},e.thread_admins);r=b("bs_array").fold_left(function(b,c){var d=c.node.messaging_actor.id;c=c.admin_type;var a=b[d];c==null||a!==void 0&&(b[d]=c);return b},r,e.all_participants.edges);var t=e.thread_queue_metadata,u=e.thread_type,v=e.montage_thread,w=e.image,x=e.thread_key.other_user_id,y;if(p!==void 0){var z=b("bs_js_primitive").valFromOption(p).platform_xmd_encoded;if(z==null)y=!1;else{try{z=JSON.parse(z)}catch(a){z={}}z=b("bs_js_json").classify(z);y=typeof z==="number"||z.tag!==2?!1:b("bs_js_primitive").undefined_to_opt(z[0].landing_exp)!==void 0}}else y=!1;z=e.thread_queue_metadata;var A=e.name,B=e.associated_object,C;if(B==null)C=null;else{B=B.group_general_chat;if(B==null||s==null)C=null;else{B=B.id===s;C=B?b("MessengerObjectAssociationType").GENERAL_CHAT:b("MessengerObjectAssociationType").REGULAR_CHAT}}B=e.rtc_call_data;var D;if(B==null)D=null;else{var E=B.initiator;D={call_state:B.call_state,server_info_data:B.server_info_data,initiator_fbid:E==null?null:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(E.id))}}B=e.marketplace_thread_data;if(B==null)E=null;else{var F=B.for_sale_item,G;if(F==null)G=null;else{var H=F.formatted_price,I=F.location,J;if(I==null)J=null;else{I=I.reverse_geocode;J={reverse_geocode:I==null?null:{city:I.city,state:I.state}}}I=F.primary_photo;var K;if(I==null)K=null;else{I=I.image;K=I==null?null:I.uri}G={id:F.id,story_id:F.story_id,title:F.group_commerce_item_title,price:H==null?null:H.text,location:J,is_pending:F.is_pending,is_sold:F.is_sold,image_uri:K,url:F.url}}I=B.buyer;H=B.seller;E={for_sale_item:G,buyer_fbid:I==null?null:I.id,seller_fbid:H==null?null:H.id}}J=e.group_approval_queue;K=e.work_groups_sync_metadata;if(K==null)F=null;else{B=K.fb_group;F=B==null?null:B}G=e.linked_mentorship_programs;return{admins:r,approval_mode:e.approval_mode,approval_queue_ids:t==null?[]:b("bs_array").map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(a.id))},t.approval_requests.nodes),can_reply:o==null,cannot_reply_reason:e.cannot_reply_reason,can_viewer_report:e.can_viewer_report,solid_color:g[0],header_color:g[1],footer_color:g[2],gradient_colors:g[3],theme_id:g[4],thread_connectivity_data:e.thread_connectivity_data,custom_like_icon:f[1],custom_nickname:f[2],customization_enabled:e.customization_enabled,thread_type:u==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessagingThreadType")[u])),page_unsubscribe_status:e.page_unsubscribe_status,participant_add_mode:e.participant_add_mode_as_string,ephemeral_ttl_mode:e.ephemeral_ttl_mode,folder:b("bs_string").lowercase(e.folder),has_email_participant:o==null?!1:o===b("MessengerThreadCannotReplyReason").HAS_EMAIL_PARTICIPANT,has_montage:!(v==null),image_src:w==null?null:w.uri,is_archived:e.has_viewer_archived,is_pinned:e.is_pinned,is_page_follow_up:e.is_page_follow_up,is_page_unresponded_thread:e.is_page_unresponded_thread,is_canonical_user:k(e),is_canonical:!(x==null),is_from_weak_entry_point:y,is_pin_protected:e.is_pin_protected,is_subscribed:e.is_viewer_subscribed,is_canonical_neo_user:e.is_canonical_neo_user,is_thread_queue_enabled:!(z==null),joinable_mode:{mode:b("bs_caml_format").caml_int_of_string(e.joinable_mode.mode),link:e.joinable_mode.link},last_message_timestamp:p!==void 0?b("bs_caml_format").caml_float_of_string(b("bs_js_primitive").valFromOption(p).timestamp_precise):0,last_message_id:null,last_message_type:p!==void 0?b("bs_js_primitive").valFromOption(p).commerce_message_type:null,last_read_timestamp:q!==void 0?b("bs_caml_format").caml_float_of_string(b("bs_js_primitive").valFromOption(q).timestamp_precise):0,lightweight_event:e.event_reminders.nodes.length===0?null:h(b("bs_caml_array").caml_array_get(e.event_reminders.nodes,0)),lightweight_events:b("bs_array").fold_left(function(a,b){a[b.id]=h(b);return a},{},e.event_reminders.nodes),message_count:e.message_count,mute_until:e.mute_until,name:A==null?"":A,object_association_type:C,other_user_fbid:e.thread_key.other_user_id,page_thread_info:j(e),participants:b("bs_array").map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.node.messaging_actor.id)},e.all_participants.edges),participants_event_status:e.participants_event_status,read_only:o==null?!1:o===b("MessengerThreadCannotReplyReason").READ_ONLY,recipients_loadable:o==null?!0:o!==b("MessengerThreadCannotReplyReason").RECIPIENTS_NOT_LOADABLE,server_timestamp:b("bs_caml_format").caml_float_of_string(e.updated_time_precise),snippet_attachments:a,snippet_sender:p!==void 0?b("MercuryIDs").getParticipantIDFromUserID(b("bs_js_primitive").valFromOption(p).message_sender.messaging_actor.id):null,snippet:p!==void 0?b("bs_js_primitive").valFromOption(p).snippet:null,thread_fbid:s,thread_id:"",thread_pin_timestamp:e.thread_pin_timestamp,timestamp:b("bs_caml_format").caml_float_of_string(e.updated_time_precise),unread_count:e.unread_count,rtc_call_data:D,marketplace_thread_data:E,associated_object:i(e),reactions_mute_mode:e.reactions_mute_mode==="REACTIONS_NOT_MUTED"?0:1,mentions_mute_mode:e.mentions_mute_mode==="MENTIONS_NOT_MUTED"?0:1,comm_status:c[0],page_comm_item_id:c[2],comm_source_id:c[1],subtitle:c[3],comm_item_owners:c[4],group_approval_queue:J==null?null:J.nodes,game_id:d,admin_model_status:b("MessengerGroupAdminModelStatus.bs").fromNullableString(e.admin_model_status_string),groups_sync_status:b("MessengerGroupsSyncStatus.bs").fromNullableString(e.groups_sync_status_string),work_associated_group:F,description:e.description,joinable_link:e.joinable_link,linked_mentorship_programs:G==null?null:G,thread_unsendability_status:b("MessageThreadUnsendabilityStatus.bs").fromNullableString(e.thread_unsendability_status)}}f.getThreadFBID=a;f.getOtherUserID=c;f.getMessagePageInfo=d;f.getBlockedParticipant=e;f.transformParticipant=o;f.transformParticipants=p;f.transformReadReceipts=q;f.transformDeliveryReceipts=r;f.transformMessages=s;f.transformThread=t}),null);
__d("MessengerWebQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_INTERACTION:25296900,FETCH_MORE_THREAD_LIST:25296906,FETCH_THREAD_INFO:25296904,FETCH_THREAD_LIST:25296905,FIRSTCHATTABOPEN_WWW:25296897,GROUP_INPUT_INDIVIDUAL_TAB_OPEN_WWW:25296899,GROUP_INPUT_TAB_OPEN_WWW:25296898,PAGE_LOAD_MDOTCOM_WWW:25296901,SEND_MESSAGE:25296903,THREAD_LOAD_MDOTCOM_WWW:25296902})}),null);
__d("MessengerThreadFetchLoggerUtil",["FBLogger","MercuryIDs","MessengerWebQuickLogModule","QuickPerformanceLogger","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h=new Map();a={markerStart:function(a){try{b("QuickPerformanceLogger").markerStart(b("MessengerWebQuickLogModule").FETCH_THREAD_INFO,g);a=b("MercuryIDs").tokenize(a).value;h.set(a,g);g++}catch(a){b("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}},markerEnd:function(a,c){try{a=b("MercuryIDs").tokenize(a).value;var d=h.get(a);d!=null&&(b("QuickPerformanceLogger").markerEnd(b("MessengerWebQuickLogModule").FETCH_THREAD_INFO,c,d),h["delete"](a))}catch(a){b("FBLogger")("mercury").catching(a).warn("Logging thread info fetch encountered error")}},markerPoint:function(a,c,d){d===void 0&&(d=b("performanceAbsoluteNow")());a=h.get(a);a!=null&&b("QuickPerformanceLogger").markerPoint(b("MessengerWebQuickLogModule").FETCH_THREAD_INFO,c,void 0,a,d)}};e.exports=a}),null);
__d("XWebGraphQLQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/query/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("WebGraphQLQueryBase",["invariant","WebGraphQLLegacyHelper","XWebGraphQLQueryController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.__getVariables=function(){return this.$1};a.prototype.__getDocID=function(){return this.constructor.__getDocID()};a.__getController=function(){return b("XWebGraphQLQueryController")};a.__getDocID=function(){g(0,1804)};a.getURI=function(a){return b("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:a})};a.getLegacyURI=function(a){return b("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),queryID:this.getQueryID(),variables:a})};a.getQueryID=function(){g(0,5095)};e.exports=a}),null);
__d("MessengerThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2538514346223754"};c.getQueryID=function(){"use strict";return"2287207374857981"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerGraphQLThreadFetcher.bs",["Promise","bs_array","BanzaiODS","bs_caml_array","bs_pervasives","WebGraphQL","bs_caml_format","bs_js_primitive","bs_js_null_undefined","MercuryServerRequestsConfig","ChatReliabilityInstrumentation","MessengerThreadFetchLoggerUtil","MessengerThreadsWebGraphQLQuery","MessengerServerPayloadTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e,f){__p&&__p();if(a==null)if(e)return{actions:null,thread:void 0,end_of_history:{type:"user",fbid:c},roger:null,delivery_receipts:[]};else return{actions:null,thread:void 0,end_of_history:void 0,roger:null,delivery_receipts:[]};else{e=[];var g=b("MessengerServerPayloadTransformer.bs").getThreadFBID(a),h=b("MessengerServerPayloadTransformer.bs").getOtherUserID(a);g=h==null?g==null?b("bs_pervasives").failwith("No thread ID"):g:h;g!==c&&b("bs_pervasives").failwith("Thread ID mismatch");h=b("MessengerServerPayloadTransformer.bs").transformThread(d,a,f);g=b("bs_js_null_undefined").fromOption(b("MessengerServerPayloadTransformer.bs").transformMessages(d,a,f));f=b("MessengerServerPayloadTransformer.bs").transformReadReceipts(d,a);if(f!==void 0){d={};d[c]=b("bs_js_primitive").valFromOption(f);f=d}else f=null;d=b("MessengerServerPayloadTransformer.bs").transformDeliveryReceipts(a);if(d.length>=1){d=b("bs_caml_array").caml_array_get(d,0);h.is_canonical?e.push({other_user_fbid:c,thread_fbid:null,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)}):e.push({other_user_fbid:null,thread_fbid:c,time:b("bs_caml_format").caml_float_of_string(d.timestamp_precise)})}d=b("MessengerServerPayloadTransformer.bs").getMessagePageInfo(a);if(d!==void 0)if(b("bs_js_primitive").valFromOption(d).has_previous_page)return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:{type:"thread",fbid:c},roger:f,delivery_receipts:e};else return{actions:g,thread:h,end_of_history:void 0,roger:f,delivery_receipts:e}}}function h(a){b("MessengerThreadFetchLoggerUtil").markerPoint(a.id,"sendThreadInfoFetchRequest");return new(b("MessengerThreadsWebGraphQLQuery"))({id:a.id,message_limit:a.limit,load_messages:a.limit>0,load_read_receipts:a.loadReadReceipts,load_delivery_receipts:a.loadDeliveryReceipts,before:a.timestamp})}function a(a,c,d){__p&&__p();var e=b("bs_array").map(h,c);return b("Promise").all(b("WebGraphQL").execAll(e,{actorID:d?a:null,batchName:"MessengerGraphQLThreadFetcher",msgrRegion:b("MercuryServerRequestsConfig").msgrRegion,allowCrossPageTransition:!0}))["catch"](function(a){b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_thread.failure");c.forEach(function(a){b("MessengerThreadFetchLoggerUtil").markerEnd(a.id,"FAIL");return 0});b("ChatReliabilityInstrumentation").logERROR("fetch_thread_fail");return b("Promise").reject(a)}).then(function(e){b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_thread.success");return b("bs_array").mapi(function(e,f){f=f.message_thread;e=b("bs_caml_array").caml_array_get(c,e);b("MessengerThreadFetchLoggerUtil").markerPoint(e.id,"getThreadInfoFetchResponse");return g(f,e.id,a,e.isCanonical,d)},e)})}f._transformPayload=g;f._getQuery=h;f.fetchAll=a}),null);
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("bs_belt_Array",["bs_curry","bs_js_math","bs_js_primitive","bs_caml_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){if(c>=0&&c<a.length)return b("bs_js_primitive").some(a[c])}function c(a,b){if(!(b>=0&&b<a.length))throw new Error('File "belt_Array.ml", line 25, characters 6-12');return a[b]}function d(a,b,c){if(b>=0&&b<a.length){a[b]=c;return!0}else return!1}function e(a,b,c){if(!(b>=0&&b<a.length))throw new Error('File "belt_Array.ml", line 31, characters 4-10');a[b]=c;return 0}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d;return 0}function h(a){var c=a.length;for(var d=0,e=c-1|0;d<=e;++d)g(a,d,b("bs_js_math").random_int(d,c));return 0}function i(a){a=a.slice(0);h(a);return a}function j(a){var b=a.length;a=a;var c=0;b=b;for(var d=0,e=(b/2|0)-1|0;d<=e;++d)g(a,c+d|0,((c+b|0)-d|0)-1|0);return 0}function k(a){var b=a.length,c=new Array(b);for(var d=0,e=b-1|0;d<=e;++d)c[d]=a[(b-1|0)-d|0];return c}function l(a,b){if(a<=0)return[];else{var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b;return c}}function m(a,b){if(a<=0)return[];else{var c=new Array(a);for(var d=0,a=a-1|0;d<=a;++d)c[d]=b(d);return c}}function n(a,c){return m(a,b("bs_curry").__1(c))}function o(a,b){a=m(a,b);h(a);return a}function p(a,c){return o(a,b("bs_curry").__1(c))}function q(a,b){b=b-a|0;if(b<0)return[];else{var c=new Array(b+1|0);for(var d=0;d<=b;++d)c[d]=a+d|0;return c}}function r(a,b,c){__p&&__p();b=b-a|0;if(b<0||c<=0)return[];else{b=(b/c|0)+1|0;var d=new Array(b);a=a;for(var e=0,b=b-1|0;e<=b;++e)d[e]=a,a=a+c|0;return d}}function s(a,b){var c=a.length,d=b.length;c=c<d?c:d;d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=[a[e],b[e]];return d}function t(a,b,c){var d=a.length,e=b.length;d=d<e?d:e;e=new Array(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=c(a[f],b[f]);return e}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){var c=a.length,d=b.length,e=new Array(c+d|0);for(var f=0,g=c-1|0;f<=g;++f)e[f]=a[f];for(var a=0,f=d-1|0;a<=f;++a)e[c+a|0]=b[a];return e}function w(a){__p&&__p();var b=a.length,c=0;for(var d=0,e=b-1|0;d<=e;++d)c=c+a[d].length|0;d=new Array(c);c=0;for(var e=0,b=b-1|0;e<=b;++e){var f=a[e];for(var g=0,h=f.length-1|0;g<=h;++g)d[c]=f[g],c=c+1|0}return d}function x(a,c,d){__p&&__p();if(d<=0)return[];else{var e=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(e+c|0,0):c;e=e-c|0;e=e<d?e:d;if(e<=0)return[];else{d=new Array(e);for(var f=0,e=e-1|0;f<=e;++f)d[f]=a[c+f|0];return d}}}function y(a,c){var d=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(d+c|0,0):c;d=d-c|0;var e=new Array(d);for(var f=0,d=d-1|0;f<=d;++f)e[f]=a[c+f|0];return e}function z(a,c,d,e){__p&&__p();if(d>0){var f=a.length;c=c<0?b("bs_caml_primitive").caml_int_max(f+c|0,0):c;f=f-c|0;f=f<d?f:d;if(f>0){for(var d=c,c=(c+f|0)-1|0;d<=c;++d)a[d]=e;return 0}else return 0}else return 0}function A(a,b,c,d,e){if(d<=b){for(var f=0,g=e-1|0;f<=g;++f)c[f+d|0]=a[f+b|0];return 0}else{for(var f=e-1|0;f>=0;--f)c[f+d|0]=a[f+b|0];return 0}}function B(a,c,d,e,f){__p&&__p();var g=a.length,h=d.length;c=c<0?b("bs_caml_primitive").caml_int_max(g+c|0,0):c;e=e<0?b("bs_caml_primitive").caml_int_max(h+e|0,0):e;f=b("bs_caml_primitive").caml_int_min(f,b("bs_caml_primitive").caml_int_min(g-c|0,h-e|0));if(e<=c){for(var g=0,h=f-1|0;g<=h;++g)d[g+e|0]=a[g+c|0];return 0}else{for(var g=f-1|0;g>=0;--g)d[g+e|0]=a[g+c|0];return 0}}function C(a,b){for(var c=0,d=a.length-1|0;c<=d;++c)b(a[c]);return 0}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,b){var c=a.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=b(a[e]);return d}function F(a,c){return E(a,b("bs_curry").__1(c))}function G(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0,c=c-1|0;f<=c;++f){var g=a[f];b(g)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function H(a,c){return G(a,b("bs_curry").__1(c))}function I(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0,c=c-1|0;f<=c;++f){var g=a[f];b(g,f)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function J(a,c){return I(a,b("bs_curry").__2(c))}function K(a,c){var d=a.length,e=new Array(d),f=0;for(var g=0,d=d-1|0;g<=d;++g){var h=a[g];h=c(h);h!==void 0&&(e[f]=b("bs_js_primitive").valFromOption(h),f=f+1|0)}e.length=f;return e}function L(a,c){return K(a,b("bs_curry").__1(c))}function M(a,b){for(var c=0,d=a.length-1|0;c<=d;++c)b(c,a[c]);return 0}function N(a,c){return M(a,b("bs_curry").__2(c))}function O(a,b){var c=a.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=b(e,a[e]);return d}function P(a,c){return O(a,b("bs_curry").__2(c))}function Q(a,b,c){b=b;for(var d=0,e=a.length-1|0;d<=e;++d)b=c(b,a[d]);return b}function aa(a,c,d){return Q(a,c,b("bs_curry").__2(d))}function R(a,b,c){b=b;for(var d=a.length-1|0;d>=0;--d)b=c(b,a[d]);return b}function ba(a,c,d){return R(a,c,b("bs_curry").__2(d))}function S(a,c,d,e){d=d;var f=b("bs_caml_primitive").caml_int_min(a.length,c.length);for(var f=f-1|0;f>=0;--f)d=e(d,a[f],c[f]);return d}function ca(a,c,d,e){return S(a,c,d,b("bs_curry").__3(e))}function T(a,b){__p&&__p();var c=a.length;a=a;var d=0;b=b;c=c;while(!0){var e=d;if(e===c)return!0;else if(b(a[e])){d=e+1|0;continue}else return!1}}function da(a,c){return T(a,b("bs_curry").__1(c))}function U(a,b){__p&&__p();var c=a.length;a=a;var d=0;b=b;c=c;while(!0){var e=d;if(e===c)return!1;else if(b(a[e]))return!0;else{d=e+1|0;continue}}}function ea(a,c){return U(a,b("bs_curry").__1(c))}function V(a,b,c,d,e){__p&&__p();while(!0){var f=c;if(f===e)return!0;else if(d(a[f],b[f])){c=f+1|0;continue}else return!1}}function W(a,c,d){return V(a,c,0,d,b("bs_caml_primitive").caml_int_min(a.length,c.length))}function fa(a,c,d){return W(a,c,b("bs_curry").__2(d))}function X(a,c,d){__p&&__p();var e=a,f=c,g=0;d=d;a=b("bs_caml_primitive").caml_int_min(a.length,c.length);while(!0){c=g;if(c===a)return!1;else if(d(e[c],f[c]))return!0;else{g=c+1|0;continue}}}function ga(a,c,d){return X(a,c,b("bs_curry").__2(d))}function Y(a,b,c){var d=a.length,e=b.length;if(d===e)return V(a,b,0,c,d);else return!1}function ha(a,c,d){return Y(a,c,b("bs_curry").__2(d))}function Z(a,b,c){__p&&__p();var d=a.length,e=b.length;if(d>e)return 1;else if(d<e)return-1;else{e=a;a=b;b=0;c=c;d=d;while(!0){var f=b;if(f===d)return 0;else{var g=c(e[f],a[f]);if(g===0){b=f+1|0;continue}else return g}}}}function ia(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,b){var c=a.length,d=0,e=0,f=new Array(c),g=new Array(c);for(var h=0,c=c-1|0;h<=c;++h){var i=a[h];b(i)?(f[d]=i,d=d+1|0):(g[e]=i,e=e+1|0)}f.length=d;g.length=e;return[f,g]}function ja(a,c){return $(a,b("bs_curry").__1(c))}function ka(a){var b=a.length,c=new Array(b),d=new Array(b);for(var e=0,b=b-1|0;e<=b;++e){var f=a[e];c[e]=f[0];d[e]=f[1]}return[c,d]}f.get=a;f.getExn=c;f.set=d;f.setExn=e;f.shuffleInPlace=h;f.shuffle=i;f.reverseInPlace=j;f.reverse=k;f.make=l;f.range=q;f.rangeBy=r;f.makeByU=m;f.makeBy=n;f.makeByAndShuffleU=o;f.makeByAndShuffle=p;f.zip=s;f.zipByU=t;f.zipBy=u;f.unzip=ka;f.concat=v;f.concatMany=w;f.slice=x;f.sliceToEnd=y;f.fill=z;f.blit=B;f.blitUnsafe=A;f.forEachU=C;f.forEach=D;f.mapU=E;f.map=F;f.keepU=G;f.keep=H;f.keepWithIndexU=I;f.keepWithIndex=J;f.keepMapU=K;f.keepMap=L;f.forEachWithIndexU=M;f.forEachWithIndex=N;f.mapWithIndexU=O;f.mapWithIndex=P;f.partitionU=$;f.partition=ja;f.reduceU=Q;f.reduce=aa;f.reduceReverseU=R;f.reduceReverse=ba;f.reduceReverse2U=S;f.reduceReverse2=ca;f.someU=U;f.some=ea;f.everyU=T;f.every=da;f.every2U=W;f.every2=fa;f.some2U=X;f.some2=ga;f.cmpU=Z;f.cmp=ia;f.eqU=Y;f.eq=ha}),null);
__d("MessengerThreadFetcher.bs",["Promise","bs_curry","FBIDCheck","bs_belt_Array","bs_caml_int32","MercuryIDs","bs_js_primitive","MercuryDispatcher","MercuryThreadIDMap","MercuryPayloadSource","bs_caml_builtin_exceptions","setTimeoutAcrossTransitions","MessengerGraphQLThreadFetcher.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();function h(a,c){__p&&__p();var d=c.other_user_fbid;if(d==null){c=c.thread_fbid;if(c==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Encountered thread with no server identifier"];else c=[c,b("MercuryIDs").getThreadIDFromThreadFBID(c)]}else c=[d,b("MercuryIDs").getThreadIDFromUserID(d)];d=c[1];c=c[0];a=b("MercuryThreadIDMap").getForFBID(a);var e={},f=a.getClientIDFromServerIDNow(c);if(f==null){a.setServerIDToClientID(c,d);e[c]=d;return[d,e]}else return[f,e]}function i(a,c,d){__p&&__p();var e=!b("FBIDCheck").isUser_deprecated(a);return b("MessengerGraphQLThreadFetcher.bs").fetchAll(a,[{id:c,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:d}],e).then(function(c){__p&&__p();c=b("bs_belt_Array").get(c,0);if(c!==void 0){c=b("bs_js_primitive").valFromOption(c).thread;if(c==null)return b("Promise").resolve(!1);else{var d=h(a,c);b("MercuryDispatcher").getForFBID(a).handleUpdate({threads:[Object.assign(c,{thread_id:d[0]})],pinned_thread_ids:[],newlyAddedClientIDs:d[1],actions:[],preprocessed:!0,payload_source:b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO});return b("Promise").resolve(!0)}}else return b("Promise").resolve(!1)})}function j(a,c,d){__p&&__p();return i(a,c,d).then(function(d){__p&&__p();var e=g.get(a);if(e==null)return b("Promise").resolve(!1);else{var f=e.get(c);if(f==null)return b("Promise").resolve(!1);else{b("bs_belt_Array").forEach(f[1],function(a){return b("bs_curry")._1(a,d)});e["delete"](c);return b("Promise").resolve(d)}}})["catch"](function(){__p&&__p();var e=g.get(a);if(e==null)return b("Promise").resolve(!1);else{var f=e.get(c);if(f==null)return b("Promise").resolve(!1);else{var h=f[1];f=f[0];if(f<5){var k=b("bs_caml_int32").imul(Math.pow(2,Math.min(f,5)),1e3),l=new(b("Promise"))(function(f,g){__p&&__p();b("setTimeoutAcrossTransitions")(function(){i(a,c,d).then(function(a){f(a);b("bs_belt_Array").forEach(h,function(c){return b("bs_curry")._1(c,a)});e["delete"](c);return b("Promise").resolve(a)})["catch"](function(){return j(a,c,d)});return 0},k);return 0});e.set(c,[f+1|0,h]);return l}else{e["delete"](c);return b("Promise").resolve(!1)}}}})}function a(a,b,c,d){__p&&__p();var e=g.get(a);if(e==null){var f=new Map();f.set(b,[0,[d]]);g.set(a,f);j(a,b,c);return 0}else{f=e.get(b);if(f==null){e.set(b,[0,[d]]);j(a,b,c);return 0}else{f[1].push(d);return 0}}}f.fetch=a}),null);
__d("ClientSyncProtocol_GroupsSyncAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPT_IN:0,OPT_OUT:1})}),null);
__d("DateConsts",[],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=60;b=60;c=24;d=7;f=12;var h=1e3,i=30.43,j=365.242,k=a*b,l=k*c,m=l*d,n=l*j,o=g*a,p=o*b,q=g*l,r=q*d,s=q*j,t={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};Object.freeze(t);t={getDaysInMonth:function(a,b){return new Date(a,b,0).getDate()},getCurrentTimeInSeconds:function(){return Date.now()/g},DAYS:t,MS_PER_SEC:g,MS_PER_MIN:o,MS_PER_HOUR:p,MS_PER_DAY:q,MS_PER_WEEK:r,MS_PER_YEAR:s,SEC_PER_MIN:a,SEC_PER_HOUR:k,SEC_PER_DAY:l,SEC_PER_WEEK:m,SEC_PER_YEAR:n,US_PER_MS:h,MIN_PER_HOUR:b,HOUR_PER_DAY:c,DAYS_PER_WEEK:d,MONTHS_PER_YEAR:f,AVG_DAYS_PER_MONTH:i,AVG_DAYS_PER_YEAR:j,"private":{instantRange:{since:-864e10,until:864e10+1}}};e.exports=t}),null);
__d("MSuggestionDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("MSuggestionActions",["MSuggestionDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SAVE_ALL_SUGGESTIONS:null,REMOVE_ALL_SUGGESTIONS:null,REMOVE_SUGGESTIONS_BY_TYPE:null});var g={Types:a,saveAllSuggestions:function(a,c){b("MSuggestionDispatcher").dispatch({type:g.Types.SAVE_ALL_SUGGESTIONS,threadID:a,suggestions:c})},removeAllSuggestions:function(a){a&&b("MSuggestionDispatcher").dispatch({type:g.Types.REMOVE_ALL_SUGGESTIONS,threadID:a})},removeSuggestionsByType:function(a,c){b("MSuggestionDispatcher").dispatch({type:g.Types.REMOVE_SUGGESTIONS_BY_TYPE,threadID:a,typeID:c})}};e.exports=g}),null);
__d("MercuryGlobalActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MARK_ALL_READ:"mga-type:mark-all-read",MARK_ALL_SEEN:"mga-type:mark-all-seen"})}),null);
__d("MercuryMessageCustomizations",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=JSON.parse(a),c=[];Object.keys(b).forEach(function(a){c.push({customization_type:a,customization_value:b[a]})});return c}e.exports={parseCustomizations:a}}),null);
__d("MercuryProfileRanges",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!a.id&&a.i?{id:a.i,offset:a.o,length:a.l}:a}e.exports={extractFromDelta:function(a){a=(a=a)!=null?(a=a.data)!=null?a.prng:a:a;if(!a)return void 0;var b=[];try{b=JSON.parse(a);if(b.length>0)return b.map(g)}catch(a){}return b}}}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",RTCEventLog:"RTCEventLog",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};e.exports=a}),null);
__d("MessageThreadReadStateEffect",[],(function(a,b,c,d,e,f){"use strict";var g={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};a=function(a,b){var c=b.messageMetadata.skipBumpThread;a=a!==b.messageMetadata.actorFbId?g.MARK_UNREAD:g.KEEP_AS_IS;c&&(a=g.KEEP_AS_IS);return b.messageMetadata.threadReadStateEffect?b.messageMetadata.threadReadStateEffect:a};e.exports={MessageThreadReadStateEffectType:g,extractThreadStateEffectFromDelta:a}}),null);
__d("MessagingThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"})}),null);
__d("MessengerApprovalModeTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:0,APPROVALS:1})}),null);
__d("MessengerApprovalQueueTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUESTED:"REQUESTED",REMOVED:"REMOVED"})}),null);
__d("MessengerGroupRequestSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD:0,JOIN_THROUGH_LINK:1})}),null);
__d("ImageSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE_PICTURE:"profile_picture",IMAGE:"image"});e.exports=a}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";e.exports={THREAD_INFO:"/ajax/mercury/thread_info.php",MARK_FOLDER_READ:"/ajax/mercury/mark_folder_as_read.php",CHANGE_READ_STATUS:"/ajax/mercury/change_read_status.php",MARK_SEEN:"/ajax/mercury/mark_seen.php",THREADLIST_INFO:"/ajax/mercury/threadlist_info.php",MARK_SPAM:"/ajax/mercury/mark_spam.php",UNMARK_SPAM:"/ajax/mercury/unmark_spam.php",UNREAD_THREADS:"/ajax/mercury/unread_threads.php",CHANGE_PINNED_STATUS:"/ajax/mercury/change_pinned_status.php",CHANGE_ARCHIVED_STATUS:"/ajax/mercury/change_archived_status.php",CHANGE_PAGE_FOLLOW_UP_STATUS:"/ajax/mercury/change_page_follow_up_status.php",DELETE_THREAD:"/ajax/mercury/delete_thread.php",DELETE_MESSAGES:"/ajax/mercury/delete_messages.php",DELIVERY_RECEIPTS:"/ajax/mercury/delivery_receipts.php",MOVE_THREAD:"/ajax/mercury/move_thread.php",CHANGE_MUTE_THREAD:"/ajax/mercury/change_mute_thread.php"}}),null);
__d("MessengerWebGraphQLEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({THREAD_FAILURE:"thread_failure",THREADLIST_FAILURE:"threadlist_failure",DFF_FAILURE:"dff_failure",MESSENGER_INITIAL_THREAD_LIST_FAILURE:"messenger_initial_thread_list_failure",MESSENGER_INITIAL_THREAD_FAILURE:"messenger_initial_thread_failure",MESSENGER_JEWEL_PRELOAD_THREADLIST_FAILURE:"messenger_jewel_preload_threadlist_failure",CHAT_INITIAL_THREAD_LIST_FAILURE:"chat_initial_thread_list_failure",SNIPPET_SEARCH_FAILURE:"snippet_search_failure",SEND_MESSAGE_FAILURE:"send_message_failure",SEARCH_CONTEXT_FAILURE:"search_context_failure",SEARCH_CANONICAL_GROUP_THREAD_FAILURE:"search_canonical_group_thread_failure",PAGE_THREAD_FAILURE:"page_thread_failure",SEARCH_THREADS_FAILURE:"search_threads_failure",SRT_FETCH_ATTACHMENT_FAILURE:"srt_fetch_attachment_failure",SEARCH_ENTITIES_NAMED_USERS_FAILURE:"search_entities_named_users_failure",SEARCH_ENTITIES_NAMED_GROUPS_FAILURE:"search_entities_named_groups_failure",SEARCH_ENTITIES_NAMED_PAGES_FAILURE:"search_entities_named_pages_failure"})}),null);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}e.exports=a}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatPerfEvent","CurrentUser","FBIDCheck","LogHistory","MercuryPayloadSource","MercuryServerURIs","MessagingTag","MessengerWebGraphQLEvent","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=b("LogHistory").getInstance("mercury_server_dispatcher"),i=50,j=[],k=!1,l={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||l.DEFAULT_ENDPOINT_ID;g[c]||(g[c]={});g[c][e]||(g[c][e]={});g[c][e][f]=new m(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||l.DEFAULT_ENDPOINT_ID,g[a][e][f].trySend(c,d)},getRequestErrors:function(){return j}};function m(a,c){__p&&__p();var d=c.mode||l.IMMEDIATE;switch(d){case l.IMMEDIATE:case l.IDEMPOTENT:case l.BATCH_SUCCESSIVE:case l.BATCH_SUCCESSIVE_UNIQUE:case l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case l.BATCH_DEFERRED_MULTI:case l.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(m.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){__p&&__p();if(k)return;a===void 0&&(a=null);b=b||this._mode;if(b==l.IMMEDIATE)this._send(a);else if(b==l.IDEMPOTENT)this._inFlight||this._send(a);else if(b==l.BATCH_SUCCESSIVE||b==l.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==l.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==l.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){__p&&__p();this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);h.log("send",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var c=b("performanceAbsoluteNow")(),d=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&d.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(e,f){__p&&__p();var g=a.request_user_id||b("CurrentUser").getID(),c=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);f=(f={},f[b("MessagingTag").INBOX]="INBOX",f[b("MessagingTag").OTHER]="OTHER",f[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",f[b("MessagingTag").SPAM]="SPAM",f[b("MessagingTag").PENDING]="PENDING",f[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",f);var h=[],i=Object.keys(f);for(var j=0;j<i.length;j++){var k=i[j];if(Object.prototype.hasOwnProperty.call(a,k)){var l=a[k];h.push({limit:l.before?l.limit+1:l.limit,folder:k,tags:l.filter?[f[k],l.filter]:[f[k]],timestamp:l.before,filter:l.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}a.onlyPinnedThreads&&h.push({onlyPinnedThreads:a.onlyPinnedThreads});k=function(){e.fetchAll(g,h,c,"fetch_threadlist").done(function(c){c=new(b("AsyncResponse"))(d,babelHelpers["extends"]({},c,{payload_source:a.onlyPinnedThreads?b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS:b("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO}));this._handleResponse(c)}.bind(this),function(a){this._handleGraphQLError(b("MessengerWebGraphQLEvent").THREADLIST_FAILURE,h,a,d)}.bind(this))}.bind(this);k()}.bind(this),"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var e=b("getByPath")(a,["threads","user_ids"],[]),f=b("getByPath")(a,["threads","thread_fbids"],[]),g=b("getByPath")(a,["messages","user_ids"],{}),i=b("getByPath")(a,["messages","thread_fbids"],{}),j=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(c){__p&&__p();var h=a.request_user_id||b("CurrentUser").getID(),k=Object.keys(g),l=k.map(function(a){var b=g[a].limit,c=g[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),m=new Set(k);e.forEach(function(a){if(m.has(a))return;l.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});k=Object.keys(i);var n=k.map(function(a){var b=i[a].limit,c=i[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),o=new Set(k);f.forEach(function(a){if(o.has(a))return;n.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var p=[].concat(l,n);b("Bootloader").loadModules(["ChatReliabilityInstrumentation"],function(a){p.forEach(function(b){b.limit>21&&a.logFETCHING_MANY_MESSAGES(JSON.stringify(b))})},"MercuryServerDispatcher");c.fetchAll(h,p,j).done(function(a){__p&&__p();a=a.slice(0);if(a.length>0){var c={};a.forEach(function(a){return Object.assign(c,a.roger)});var e=[];a.forEach(function(a){return e.push.apply(e,a.delivery_receipts)});var f=[];a.forEach(function(a){return f=f.concat(a.actions)});f=f.filter(Boolean);a={actions:f,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:c,delivery_receipts:e,payload_source:b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO};a=new(b("AsyncResponse"))(d,a);this._handleResponse(a)}else this._handleResponse(new(b("AsyncResponse"))(d,{}))}.bind(this),function(a){this._handleGraphQLError(b("MessengerWebGraphQLEvent").THREAD_FAILURE,p,a,d)}.bind(this))}.bind(this),"MercuryServerDispatcher");return}d.setHandler(function(a){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:b("ChatPerfEvent").ASYNC_REQUEST,duration:b("performanceAbsoluteNow")()-c,endpoint:this._endpoint}),this._handleResponse(a)}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&d.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));d.send()},_handleGraphQLError:function(a,c,d,e){__p&&__p();var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){if(this._mode==l.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var d=this._batches.length-1;d>=0?c?this._batches[d].combineWithOlder(a,this._combineData):this._batches[d].combineWith(a,this._combineData):this._batches.push(new n(a));h.debug("batch",JSON.stringify({endpoint:this._endpoint}))}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){this._inFlight--;h.log("response",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var b=a.getPayload();k=b&&b.kill_chat;k&&h.log("killswitch_enabled",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));b&&b.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(b,a.getRequest());(this._mode==l.BATCH_SUCCESSIVE||this._mode==l.BATCH_SUCCESSIVE_UNIQUE||this._mode==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==l.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){this._inFlight--;h.error("error",JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}));j.push(this._createErrorRecord(a));j.length>i&&(j=j.slice(-1*i));a=this._mode;a==l.BATCH_SUCCESSIVE||a==l.BATCH_SUCCESSIVE_UNIQUE||a==l.BATCH_CONDITIONAL?this._batchSend():a==l.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function n(a){this._data=a,this._size=1}Object.assign(n.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=l}),null);
__d("PhotoResizeModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTAIN:"s",COVER:"p"})}),null);
__d("ImageSourceRequest",["CurrentUser","ImageSourceType","KeyedCallbackManager","MercuryServerDispatcher","PhotoResizeModeConst"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this._request={fbid:null,type:null,width:null,height:null,resize_mode:null},this._callback=null}a.prototype.setFBID=function(a){"use strict";this._request.fbid=a;return this};a.prototype.setType=function(a){"use strict";if(![b("ImageSourceType").PROFILE_PICTURE,b("ImageSourceType").IMAGE].includes(a))throw new TypeError("ImageSourceRequest.setType: invalid type "+a);this._request.type=a;return this};a.prototype.setDimensions=function(a,b){"use strict";this._request.width=a;this._request.height=b;return this};a.prototype.setResizeMode=function(a){"use strict";if(![b("PhotoResizeModeConst").COVER,b("PhotoResizeModeConst").CONTAIN].includes(a))throw new TypeError("ImageSourceRequest.setResizeMode: invalid resize mode "+a);this._request.resize_mode=a;return this};a.prototype.setCallback=function(a){"use strict";this._callback=a;return this};a.prototype.send=function(){"use strict";__p&&__p();if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error("ImageSourceRequest: You must set all the fields");var a=h(),c=i(this._request);a.executeOrEnqueue(c,this._callback);if(a.getUnavailableResourcesFromRequest(c).length===1){b("MercuryServerDispatcher").trySend("/ajax/image_source.php",{requests:[this._request]});return!0}return!1};var g=null;function h(){__p&&__p();if(g)return g;var a=new(b("KeyedCallbackManager"))();g=a;b("MercuryServerDispatcher").registerEndpoints({"/ajax/image_source.php":{request_user_id:b("CurrentUser").getID(),mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,batch_function:function(a,b){var c;(c=a.requests).push.apply(c,b.requests);return a},handler:function(b,c){c=c.getData().requests;for(var d=0;d<c.length;++d)a.setResource(i(c[d]),b[d])}}});return a}function i(a){return[a.fbid,a.type,a.width,a.height,a.resize_mode].join("|")}e.exports=a}),null);
__d("ImmutableValue",["invariant","isNode"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="_DONT_EVER_TYPE_THIS_SECRET_KEY";function i(a){a===i[h]||g(0,5608)}i.mergeAllPropertiesInto=function(a,b){var c=b.length;for(var d=0;d<c;d++)Object.assign(a,b[d])};i.deepFreezeRootNode=function(a){if(b("isNode")(a))return;Object.freeze(a);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&i.recurseDeepFreeze(a[c]);Object.seal(a)};i.recurseDeepFreeze=function(a){if(b("isNode")(a)||!i.shouldRecurseFreeze(a))return;Object.freeze(a);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&i.recurseDeepFreeze(a[c]);Object.seal(a)};i.shouldRecurseFreeze=function(a){return typeof a==="object"&&!(a instanceof i)&&a!==null};i._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();e.exports=i}),null);
__d("ImmutableObject",["invariant","ImmutableValue","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("mergeHelpers").checkMergeObjectArgs,j=b("mergeHelpers").isTerminal,k="_DONT_EVER_TYPE_THIS_SECRET_KEY";function l(a){a instanceof b("ImmutableValue")||g(0,3884)}a=babelHelpers.inherits(m,b("ImmutableValue"));h=a&&a.prototype;function m(){h.constructor.call(this,b("ImmutableValue")[k]),b("ImmutableValue").mergeAllPropertiesInto(this,arguments)}m.create=function(){var a=Object.create(m.prototype);m.apply(a,arguments);return a};m.set=function(a,b){l(a);typeof b==="object"&&b!==void 0&&!Array.isArray(b)||g(0,3885);return new m(a,b)};m.setProperty=function(a,b,c){var d={};d[b]=c;return m.set(a,d)};m.deleteProperty=function(a,b){var c={};for(var d in a)d!==b&&Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return new m(c)};m.setDeep=function(a,b){l(a);return n(a,b)};m.values=function(a){return Object.keys(a).map(function(b){return a[b]})};function n(a,c){__p&&__p();i(a,c);var d={},e=Object.keys(a);for(var f=0;f<e.length;f++){var g=e[f];!Object.prototype.hasOwnProperty.call(c,g)?d[g]=a[g]:j(a[g])||j(c[g])?d[g]=c[g]:d[g]=n(a[g],c[g])}g=Object.keys(c);for(f=0;f<g.length;f++){e=g[f];if(Object.prototype.hasOwnProperty.call(a,e))continue;d[e]=c[e]}return a instanceof b("ImmutableValue")?new m(d):c instanceof b("ImmutableValue")?new m(d):d}e.exports=m}),null);
__d("MercuryVanityIDMap.bs",["bs_string","bs_js_primitive","MercuryAssert","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={};function a(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(g[b("bs_string").lowercase(a)]))}function c(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(h[a]))}function d(a){a=h[a];return a!==void 0}function e(a){a=g[b("bs_string").lowercase(a)];return a!==void 0}function i(a,c){b("MercuryAssert").isParticipantID(c);a=b("bs_string").lowercase(a);g[a]=c;h[c]=a;return 0}f.vanityToID=g;f.idToVanity=h;f.getID=a;f.getVanity=c;f.hasID=d;f.hasVanity=e;f.set=i}),null);
__d("MessengerParticipantsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1784572724980340"};c.getQueryID=function(){"use strict";return"2273750736246878"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerParticipantsFetcher.bs",["Promise","bs_array","BanzaiODS","WebGraphQL","MessengerServerPayloadTransformer.bs","MessengerParticipantsWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=new(b("MessengerParticipantsWebGraphQLQuery"))(a);return b("WebGraphQL").exec(c,{actorID:null,batchName:"MessengerParticipantsFetcher"})["catch"](function(a){b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_participants.failure");return b("Promise").reject(a)}).then(function(c){__p&&__p();b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_participants.success");var d=[],e=new Set();b("bs_array").iter(function(a){if(a==null)return 0;else{a=b("MessengerServerPayloadTransformer.bs").transformParticipant(a);e.add(a.fbid);d.push(a);return 0}},c.messaging_actors);c=a.ids.filter(function(a){return!e.has(a)});c.length>0&&c.forEach(function(a){d.push(b("MessengerServerPayloadTransformer.bs").getBlockedParticipant(a));return 0});return d})}f.fetch=a}),null);
__d("MessengerParticipants.bs",["fbt","Promise","FBID.bs","bs_curry","bs_caml_obj","BanzaiODS","immutable","bs_belt_Array","MercuryIDs","CurrentUser","bs_js_primitive","MercuryAssert","ImageSourceType","ImmutableObject","bs_js_null_undefined","ImageSourceRequest","MercuryVanityIDMap.bs","PhotoResizeModeConst","MercuryParticipantTypes","MercuryParticipantsConstants","MessengerParticipantsFetcher.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[1],i={},j=new Set(),k={},l=function(b,a){delete b[a];return 0},m=function(b,a){delete b[a];return 0};function n(){var a=b("CurrentUser").isWorkUser();if(a)return g._("Workplace User");else return g._("Facebook User")}function o(a){__p&&__p();var c=a.user_type;if(c==null||!(b("bs_caml_obj").caml_equal(c,b("MercuryParticipantTypes").USER)||b("bs_caml_obj").caml_equal(c,b("MercuryParticipantTypes").FRIEND)))return a;else{c=a.href;var d=a.vanity;if(c==null&&d==null){c=n(0);return Object.assign(a,{name:c,short_name:c})}else return a}}function a(){Object.keys(i).forEach(function(a){return b("bs_curry")._2(m,i,a)});return 0}function c(a){__p&&__p();a=a.participants;if(a==null)return 0;else{a.map(function(a){__p&&__p();var c=a.id,d=a.vanity;d==null||b("MercuryVanityIDMap.bs").set(d,c);d=i[c];if(d!==void 0){i[c]=b("ImmutableObject").set(d,a);return 0}else{i[c]=new(b("ImmutableObject"))(o(a));return 0}});return 0}}function p(a,c){__p&&__p();var d={},e=[];a.forEach(function(a){var b=i[a];if(b!==void 0){d[a]=b;return 0}else{e.push(a);return 0}});if(e.length===0){c(d);return null}else{var f=[];e.forEach(function(a){__p&&__p();if(j.has(a))return 0;else{var c=b("MercuryIDs").getUserIDFromParticipantID(a);if(c==null)return 0;else{f.push(c);j.add(a);return 0}}});var g=h[0].toString();k[g]=[a,c];h[0]=h[0]+1|0;f.length>0&&b("MessengerParticipantsFetcher.bs").fetch({ids:f}).then(function(a){__p&&__p();a.forEach(function(a){i[a.id]=new(b("ImmutableObject"))(a);var c=a.id;a=a.vanity;a==null||b("MercuryVanityIDMap.bs").set(a,c);j["delete"](c);return 0});Object.keys(k).forEach(function(a){__p&&__p();var d=k[a];if(d!==void 0){var e=d[0],c={};e.forEach(function(b){var a=i[b];if(a!==void 0){c[b]=a;return 0}else return 0});if(Object.keys(c).length===e.length){b("bs_curry")._2(l,k,a);return d[1](c)}else return 0}else return 0});b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_participant.success");return b("Promise").resolve(0)})["catch"](function(){b("BanzaiODS").bumpEntityKey("messenger_webgraphql","fetch_participant.failure");return b("Promise").resolve(0)});return g}}function d(a,c){b("MercuryAssert").isParticipantID(a);return p([a],function(d){d=d[a];if(d!==void 0)return b("bs_curry")._1(c,d);else return 0})}function q(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(i[a]))}function r(c,d){__p&&__p();var e=[],a=[];c.forEach(function(b){var c=q(b);c==null?e.push(b):a.push(c);return 0});if(e.length!==0){var f=p(e,function(){return b("bs_curry")._1(d,b("bs_belt_Array").keepMap(c,function(a){return b("bs_js_primitive").nullable_to_opt(q(a))}))});return[a,f]}else return[a,null]}function e(a,c){var d=function(a){return b("immutable").Map(a.map(function(a){return[a.id,a]}))},e=function(a){return b("bs_curry")._1(c,d(a))};a=r(a,e);return[d(a[0]),a[1]]}function s(a){return b("bs_curry")._2(l,k,a)}function t(a,c,d){new(b("ImageSourceRequest"))().setFBID(b("bs_js_null_undefined").fromOption(b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a)))).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(c,c).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(function(c){return b("bs_curry")._2(d,a,c)}).send();return 0}function u(a,c,d,e){__p&&__p();b("MercuryAssert").allParticipantIDs(a);var f=[!1],g=p(a,function(e){__p&&__p();var g={},h=function(d,e){g[d]=e;if(!f[0]&&a.length===Object.keys(g).length)return b("bs_curry")._1(c,g);else return 0},j=function(a,c){var d=e[a];d!==void 0&&(e[a]=b("ImmutableObject").set(d,{big_image_src:c.uri}));return h(a,c.uri)};Object.keys(e).forEach(function(a){var c=e[a];if(c!==void 0){var f=d===b("MercuryParticipantsConstants").BIG_IMAGE_SIZE;f=f?b("bs_js_primitive").nullable_to_opt(c.big_image_src):void 0;if(f!==void 0)return h(c.id,f);else return t(a,d,j)}else return t(a,d,j)});return 0});return{remove:function(){f[0]=!0;if(g==null)return 0;else return s(g)}}}function v(a,c,d){return u(a,c,b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,0)}function w(a,c){return v(a,function(d){return b("bs_curry")._1(c,a.map(function(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(d[a]))}))},0)}function x(a){__p&&__p();if(a==null)return null;else if(b("MercuryVanityIDMap.bs").hasVanity(a)){var c=b("MercuryVanityIDMap.bs").getID(a);if(c==null)return null;else return c}else{c=/^\d+$/;if(c.test(a)){c=b("FBID.bs").ofString(a);if(c!==void 0)return b("MercuryIDs").getParticipantIDFromUserID(b("bs_js_primitive").valFromOption(c));else return null}else return null}}f.reset=a;f.addParticipants=c;f.getDefaultName=n;f.get=d;f.getNow=q;f.getMulti=p;f.getMultiEager=r;f.getMultiEagerMap=e;f.removeCallback=s;f.getBigImageMultiWithSize=u;f.getBigImageMulti=v;f.getOrderedBigImageMulti=w;f.getIDFromVanityOrFBID=x}),null);
__d("MessengerRealtimeAttachmentTransformer.bs",["MessengerMessageTransformer.bs","MessengerAttachmentTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments(c),f=c.extensible_attachment,g;if(f==null)g=null;else{var h=f.story_attachment,i=f.genie_attachment,j;if(i==null)j=null;else{i=i.genie_message;var k;if(i==null)k=null;else{i=i.story_attachment;k={story_attachment:i==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(i)}}j={genie_message:k}}g={legacy_attachment_id:f.legacy_attachment_id,story_attachment:h==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(h),genie_attachment:j}}return b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:e,sticker:c.sticker},null,d)}f.transform=a}),null);
__d("MessengerWebDeltaEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DELTA_RECEIVED:"DELTA_RECEIVED",DELTA_IGNORED:"DELTA_IGNORED"})}),null);
__d("Bootload.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=function(c){return b("bs_curry")._1(a[0],function(a){return b("bs_curry")._1(c,a.bootloadable)})};return[c]}f.Create=a}),null);
__d("MessengerWebDeltasTypedLoggerBootloader.bs",["Bootload.bs","Bootloader"],(function(a,b,c,d,e,f){"use strict";function a(a){b("Bootloader").loadModules(["MessengerWebDeltasTypedLogger"],a,"MessengerWebDeltasTypedLoggerBootloader.bs");return 0}c=[a];d=b("Bootload.bs").Create(c);f.BootloadableMessengerWebDeltasTypedLogger=c;f.LoadableMessengerWebDeltasTypedLogger=d}),null);
__d("PagesMessagingEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3})}),null);
__d("RepliedToMessageStatusForGraphQL",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VALID:"VALID",DELETED:"DELETED",TEMPORARILY_UNAVAILABLE:"TEMPORARILY_UNAVAILABLE"})}),null);
__d("MessengerDeltaTransformer.bs",["FBID.bs","bs_block","bs_curry","gkx","bs_js_json","bs_caml_obj","FBIDCheck","bs_belt_Array","bs_caml_array","DateConsts","MercuryIDs","bs_belt_Option","bs_js_primitive","MessagingTag","MessengerState.bs","MontageActions","bs_js_null_undefined","MercuryActionType","MercuryDispatcher","MSuggestionActions","MercuryThreadIDMap","PageCommItemStatus","MercuryPayloadSource","MercuryProfileRanges","MercuryLogMessageType","MercuryServerRequests","MercurySyncDeltaTypes","MessagingThreadAction","MessengerParticipants.bs","MessengerThreadFetcher.bs","bs_caml_builtin_exceptions","MercuryGlobalActionType","MercuryParticipantTypes","MessengerWebDeltaEvents","PagesMessagingEventType","MessengerGroupsSyncStatus","MessengerGroupsSyncStatus.bs","MessageUnsendabilityStatus.bs","MessengerApprovalModeTypes","IrisProtocolMessageLifetime","MessengerApprovalQueueTypes","MessengerGroupRequestSource","MercuryMessageCustomizations","MessageThreadReadStateEffect","MessengerWebDeltasTypedLogger","RepliedToMessageStatusForGraphQL","ClientSyncProtocol_GroupsSyncAction","MessengerRealtimeAttachmentTransformer.bs","MessengerWebDeltasTypedLoggerBootloader.bs","MessageLiveLocationClientSyncProtocolStopReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){try{return JSON.parse(a)}catch(a){return{}}}c=b("gkx")("780647");var h=c?0:1;function i(a,c){__p&&__p();var d=b("bs_belt_Option").map(b("bs_js_primitive").nullable_to_opt(c.otherUserFbId),function(a){return a.toString()});c=b("bs_belt_Option").map(b("bs_js_primitive").nullable_to_opt(c.threadFbId),function(a){return a.toString()});a=b("MercuryThreadIDMap").getForFBID(a);if(d!==void 0){d=d;d=[b("bs_js_primitive").some(b("MercuryIDs").getThreadIDFromUserID(b("FBID.bs").ofStringExn(d))),d]}else if(c!==void 0){c=c;d=[b("bs_js_primitive").some(b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(c))),c]}else d=[void 0,void 0];c=d[1];d=d[0];if(c!==void 0&&d!==void 0){c=c;var e=a.hasClientIDForServerID(c);if(e)return b("bs_js_primitive").nullable_to_opt(a.getClientIDFromServerIDNow(c));else return b("bs_js_primitive").valFromOption(d)}}function j(a,c){__p&&__p();var d=parseInt(c.messageMetadata.timestamp,10),e=b("MessageThreadReadStateEffect").extractThreadStateEffectFromDelta(a,c),f=c.messageMetadata.actorFbId.toString(),h=e===b("MessageThreadReadStateEffect").MessageThreadReadStateEffectType.MARK_UNREAD&&a!==f,j=!b("FBIDCheck").isUser_deprecated(a),k=c.attachments;k=k==null?[]:b("bs_belt_Array").keepMapU(k,function(e){__p&&__p();var c=e.mercury;if(c==null){e=e.mercuryJSON;e=e==null?null:g(e)}else e=c;if(e==null)return void 0;else{c=e.extensible_attachment;var d=e.blob_attachment;e=e.sticker_attachment;e=c==null?d==null?e==null?[]:b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:null,blob_attachments:null,sticker:e},j):b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:null,blob_attachments:[d],sticker:null},j):b("MessengerRealtimeAttachmentTransformer.bs").transform(a,{extensible_attachment:b("bs_js_null_undefined").fromOption(c==null?void 0:b("bs_js_primitive").some(c)),blob_attachments:null,sticker:null},j);return b("bs_belt_Array").get(e,0)}});var l=c.messageMetadata.tags;l=l==null?void 0:b("bs_js_null_undefined").fromOption(b("bs_belt_Array").get(l,0));var m=c.data,n;if(m==null)n=null;else{var o=m.adminSignatureCreatorID;n=o!==void 0?{creatorID:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignatureCreatorID)),creatorName:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignatureCreatorName)),creatorType:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignatureCreatorType)),labelType:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignatureLabelType)),pageID:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignaturePageID)),profileURI:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(m.adminSignatureProfileURI))}:null}o=i(a,c.messageMetadata.threadKey);if(o!==void 0){m=c.ttl;var p=c.messageMetadata.threadKey.threadFbId,q=c.messageMetadata.threadKey.otherUserFbId,r=c.body,s=c.data;if(s==null){var t=c.untypedData;t=t==null?!1:b("bs_belt_Option").getWithDefault(b("bs_js_primitive").undefined_to_opt(t.is_sponsored),"false")==="true"}else t=b("bs_belt_Option").getWithDefault(b("bs_js_primitive").undefined_to_opt(s.is_sponsored),"false")==="true";s=c.data;var u=c.data,v;if(u==null)v=null;else{u=u.customization;v=u!==void 0?b("MercuryMessageCustomizations").parseCustomizations(u):null}u=c.data;var w=c.data,x;if(w==null)x=null;else{w=w.message_source_data;if(w!==void 0){w=g(w);w=b("bs_js_json").classify(w);if(typeof w==="number"||w.tag!==2)x=null;else{w=w[0].message_source;x=w!==void 0?b("bs_js_null_undefined").fromOption(w===void 0?void 0:b("bs_js_primitive").some(w)):null}}else x=null}w=c.messageMetadata.skipBumpThread;var y=c.data,z;if(y==null)z=null;else{y=y.montage_reply_data;z=y!==void 0?g(y):null}y=c.data;var A;if(y==null)A=null;else{y=y.meta_ranges;A=y!==void 0?g(y):null}return{message_id:c.messageMetadata.messageId,threading_id:null,offline_threading_id:c.messageMetadata.offlineThreadingId,author:b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(f)),author_email:f+"@facebook.com",ephemeral_ttl_mode:m==null?0:b("bs_belt_Option").getWithDefault(b("bs_js_primitive").undefined_to_opt(b("IrisProtocolMessageLifetime")[m]),0),timestamp:d,is_unread:h,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,source:l,tags:c.messageMetadata.tags,is_spoof_warning:!1,folder:null,thread_fbid:p==null?null:p.toString(),other_user_fbid:q==null?null:q.toString(),body:r==null?"":r,html_body:null,subject:null,has_attachment:k.length>0,attachments:k,ranges:void 0,thread_id:o,action_type:b("MercuryActionType").USER_GENERATED_MESSAGE,is_from_iris:!0,is_sponsored:t,commerce_message_type:s==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(s.commerce_message_type)),customizations:v,platform_xmd:u==null?null:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(u.platform_xmd)),profile_ranges:b("MercuryProfileRanges").extractFromDelta(c),message_source:x,skip_bump_thread:w==null?!1:w,thread_read_state_effect:e,montage_reply_data:z,meta_ranges:A,creator_info:n,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(c.messageMetadata.unsendType),comm_status:j?b("PageCommItemStatus").TODO:null}}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"invalid thread id"]}function k(a,c,d,e){return b("bs_curry")._1(b("MessengerWebDeltasTypedLoggerBootloader.bs").LoadableMessengerWebDeltasTypedLogger[0],function(){var f=new(b("MessengerWebDeltasTypedLogger"))();f=f.setDeltaEvent(a).setDeltaType(c).setIgnoreReason(d).setSyncSeqID(e);f.log();return 0})}function l(a){return k(b("MessengerWebDeltaEvents").DELTA_RECEIVED,a,null,null)}function m(a,c){return k(b("MessengerWebDeltaEvents").DELTA_IGNORED,a,c,null)}function n(a,c,d,e){__p&&__p();var f=c.other_user_fbid;if(f==null){var g=c.thread_fbid;if(g==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"invalid thread id"];else g=[g,!1]}else g=[f,!0];f=g[0];var h=b("MercuryThreadIDMap").getForFBID(a);h=h.getClientIDFromServerIDNow(f);if(h==null)if(e)return b("MessengerThreadFetcher.bs").fetch(a,f,g[1],function(e){if(e){b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[c],pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});return l(d)}else return m(d,"thread fetch failed")});else return m(d,"thread not already loaded, not required to be loaded");else{b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[c],pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});return l(d)}}function o(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_js_primitive").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_js_primitive").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e!==void 0&&f!==void 0){d=i(a,b("bs_js_primitive").valFromOption(f));if(d!==void 0)return{thread_id:d,action_type:b("MercuryActionType").REACTION_UPDATE,messageId:c.messageId,offlineThreadingId:c.offlineThreadingId,reaction:c.reaction,senderId:c.senderId.toString(),thread_fbid:e.toString(),other_user_fbid:null,userId:c.userId.toString()};else return void 0}}function p(a){return a/Math.pow(10,8)}function q(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_js_primitive").some(d),f=c.threadKey.otherUserFbId,g=f==null?void 0:b("bs_js_primitive").some(f);d=d==null?f==null?[void 0,void 0]:[g,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(g)}]:[e,{otherUserFbId:b("bs_js_null_undefined").fromOption(e),threadFbId:null}];f=d[1];g=d[0];if(g!==void 0&&f!==void 0){e=i(a,b("bs_js_primitive").valFromOption(f));if(e!==void 0&&c.messageLiveLocations.length===1){d=b("bs_caml_array").caml_array_get(c.messageLiveLocations,0);a=d.expirationTime;f=d.stopReason;c=f==null?Date.now()/b("DateConsts").MS_PER_SEC>a:!0;f=d.coordinate;f=f==null?null:{latitude:p(f.latitude),longitude:p(f.longitude)};var h=d.destination;h=h==null?null:{latitude:p(h.latitude),longitude:p(h.longitude),label:h.label};var j=d.stopReason;j=j==null?null:j===b("MessageLiveLocationClientSyncProtocolStopReason").EXPIRED||j===b("MessageLiveLocationClientSyncProtocolStopReason").CANCELED?"EXPIRED":j===b("MessageLiveLocationClientSyncProtocolStopReason").ARRIVED?"ARRIVED":null;return{thread_id:e,action_type:b("MercuryActionType").LIVE_LOCATION_UPDATE,thread_fbid:g.toString(),other_user_fbid:null,messageId:d.messageId,liveLocation:{live_location_id:d.id.toString(),is_expired:c,expiration_time:a,sender:{id:d.senderId.toString()},coordinate:f,location_title:d.locationTitle,sender_destination:h,stop_reason:j}}}else return void 0}}function r(a,c){var d=c.threadKey.threadFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").EVENT_RSVP_CHANGED,actor_fbid:c.actorFbId.toString(),rsvp_status:c.rsvpStatus,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a};else return void 0}}function s(a,c){__p&&__p();var d=c.threadKey.otherUserFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0){c=c.isFollowUp;return{action_type:b("MercuryActionType").UPDATE_COMM_STATUS,comm_status:c?b("PageCommItemStatus").FOLLOW_UP:b("PageCommItemStatus").TODO,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a}}else return void 0}}function t(a,c){__p&&__p();var d=c.actorFbid.toString(),e=b("FBID.bs").ofStringExn(d);if(b("bs_caml_obj").caml_notequal(e,a))e=b("bs_js_primitive").some(b("MercuryIDs").getParticipantIDFromUserID(a));else{var f=c.threadKey.otherUserFbId;if(f==null)e=void 0;else{f=b("FBID.bs").ofString(f.toString());e=f!==void 0?b("bs_js_primitive").some(b("MercuryIDs").getParticipantIDFromUserID(b("bs_js_primitive").valFromOption(f))):void 0}}if(e!==void 0){f=b("bs_js_primitive").valFromOption(e);e=b("MessengerParticipants.bs").getNow(f);if(e==null||!b("bs_caml_obj").caml_equal(e.user_type,b("MercuryParticipantTypes").PAGE))e=1;else return void 0;if(e===1){e=c.threadKey.otherUserFbId;if(e==null)return void 0;else{a=i(a,{otherUserFbId:e,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").BLOCK_STATUS_CHANGED,actorFbid:d,canViewerReply:c.canViewerReply,reason:c.reason,message_blocked_ids:[f],other_user_fbid:e.toString(),thread_fbid:null,thread_id:a};else return void 0}}}}function u(a,c){__p&&__p();var d=c.threadKey.threadFbId;if(d==null){var e=c.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e!==void 0&&d!==void 0){a=i(a,b("bs_js_primitive").valFromOption(d));if(a!==void 0)return{action_type:b("MercuryActionType").MONTAGE_DIRECT_EXPIRE,messageId:c.messageId,timestamp:c.timestamp,thread_fbid:e,other_user_fbid:null,keep_expiry_timestamp:c.keepExpiryTimestamp,thread_id:a};else return void 0}}function v(a,c){__p&&__p();var d=j(a,c.message),e=c.repliedToMessage;if(e==null)return b("bs_js_primitive").some(d);else{a=j(a,e);e=c.status;var f;if(e==null||e>2||e<0)f=void 0;else switch(e){case 0:f=b("bs_js_primitive").some(b("RepliedToMessageStatusForGraphQL").VALID);break;case 1:f=b("bs_js_primitive").some(b("RepliedToMessageStatusForGraphQL").DELETED);break;case 2:f=b("bs_js_primitive").some(b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE);break}if(f!==void 0)return b("bs_js_primitive").some(Object.assign(d,{replied_to_message:{status:b("bs_js_primitive").valFromOption(f),message:a}}));else return void 0}}function w(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_js_primitive").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_js_primitive").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e!==void 0&&f!==void 0){d=i(a,b("bs_js_primitive").valFromOption(f));if(d!==void 0)return{action_type:b("MercuryActionType").GROUPS_SYNC_STATUS_CHANGED,thread_fbid:e.toString(),other_user_fbid:null,actor_fbid:c.actorFbid.toString(),groups_sync_status_string:b("MessengerGroupsSyncStatus.bs").fromNullableString(c.groupsSyncStatus),thread_id:d};else return void 0}}function x(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_js_primitive").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_js_primitive").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];d=c.syncAction===b("ClientSyncProtocol_GroupsSyncAction").OPT_IN?b("bs_js_primitive").some(b("MessengerGroupsSyncStatus").OPT_IN):c.syncAction===b("ClientSyncProtocol_GroupsSyncAction").OPT_OUT?b("bs_js_primitive").some(b("MessengerGroupsSyncStatus").OPT_OUT):void 0;if(e!==void 0&&d!==void 0&&f!==void 0){a=i(a,b("bs_js_primitive").valFromOption(f));if(a!==void 0){f=c.syncedFbGroupId;return{action_type:b("MercuryActionType").GROUPS_SYNC_METADATA_UPDATE,thread_fbid:e.toString(),other_user_fbid:null,actor_fbid:c.actorFbid.toString(),groups_sync_action:b("bs_js_primitive").valFromOption(d),source_surface:c.sourceSurface,fb_group_id:f==null?null:f.toString(),thread_id:a}}else return void 0}}function y(a,c){var d=c.threadKey.threadFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").DESCRIPTION_CHANGED,thread_fbid:d.toString(),other_user_fbid:null,group_thread_description_string:c.threadDescription,thread_id:a};else return void 0}}function z(a){return"#"+a.slice(2)}function A(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=d==null?void 0:b("bs_js_primitive").some(d);if(d==null){d=c.threadKey.otherUserFbId;var f=d==null?void 0:b("bs_js_primitive").some(d);d=d==null?[void 0,void 0]:[f,{otherUserFbId:b("bs_js_null_undefined").fromOption(f),threadFbId:null}]}else d=[e,{otherUserFbId:null,threadFbId:b("bs_js_null_undefined").fromOption(e)}];f=d[1];e=d[0];if(e!==void 0&&f!==void 0){d=e;e=i(a,b("bs_js_primitive").valFromOption(f));if(e!==void 0){a=e;f=c.fallbackColor!==""?z(c.fallbackColor):"";e=c.gradientColors;var g;if(e==null||!e.length)g=1;else{e=b("bs_belt_Array").map(e,z);return{action_type:b("MercuryActionType").UPDATE_THREAD_THEME,thread_fbid:d.toString(),other_user_fbid:null,theme_id:c.themeId,solid_color:f,header_color:b("bs_caml_array").caml_array_get(e,0),footer_color:b("bs_caml_array").caml_array_get(e,e.length-1|0),gradient_colors:e,thread_id:a}}if(g===1)return{action_type:b("MercuryActionType").UPDATE_THREAD_THEME,thread_fbid:d.toString(),other_user_fbid:null,theme_id:c.themeId,solid_color:f,header_color:f,footer_color:f,gradient_colors:[],thread_id:a}}else return void 0}}function B(a,c){__p&&__p();var d=c.threadKey.threadFbId;if(d==null){var e=c.threadKey.otherUserFbId;e=e==null?[void 0,void 0]:[e.toString(),{otherUserFbId:e,threadFbId:null}]}else e=[d.toString(),{otherUserFbId:null,threadFbId:d}];d=e[1];e=e[0];if(e!==void 0&&d!==void 0){a=i(a,b("bs_js_primitive").valFromOption(d));if(a!==void 0)return{action_type:b("MercuryActionType").CHANGE_PINNED_STATUS,thread_fbid:e,other_user_fbid:null,is_pinned:c.isPinned,thread_id:a,thread_pin_timestamp:c.timestamp};else return void 0}}function C(a,c){var d=c.threadKey.threadFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").UPDATE_JOINABLE_LINK,joinable_link:c.privateGroupLink,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a};else return void 0}}function D(a){__p&&__p();a=a.directives;if(a==null)return void 0;else{a=b("bs_belt_Array").get(a,0);if(a!==void 0){a=b("bs_js_primitive").valFromOption(a).data;if(a==null)return void 0;else{a=a.add_actions;if(a==null)return void 0;else{var c=a.actions;if(c==null)return void 0;else{c=b("bs_belt_Array").get(c,0);if(c!==void 0){c=b("bs_js_primitive").valFromOption(c).thread_key;if(c==null)return void 0;else{var d=c.thread_fbid;c=c.other_user_fbid;var e;if(d==null)if(c==null)return void 0;else c=c,e=1;else c=d,e=1;if(e===1)return{action_type:b("MercuryActionType").CREATE_OMNI_M_SUGGESTIONS,thread_fbid:b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(c)),other_user_fbid:null,thread_id:c,suggestions:a}}}else return void 0}}}}else return void 0}}function E(a,c){var d=c.threadKey.threadFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:null,threadFbId:d});if(a!==void 0)return{action_type:b("MercuryActionType").PROMOTE_GROUP_ADMINS,thread_fbid:d.toString(),other_user_fbid:null,promoted_admins:b("bs_belt_Array").map(c.promotedAdmins,function(a){return{admin_fbid:a.adminFbId.toString(),admin_type:a.adminType}}),thread_id:a};else return void 0}}function F(a,c){__p&&__p();var d=c.threadKey.threadFbId,e=c.threadKey.otherUserFbId;if(d==null)if(e==null)return void 0;else{var f=i(a,{otherUserFbId:e,threadFbId:null});if(f!==void 0)return{action_type:b("MercuryActionType").REMOVE_MESSAGE,thread_fbid:null,messageId:c.messageID,other_user_fbid:e.toString(),removed_timestamp:c.deletionTimestamp,thread_id:f};else return void 0}else{e=i(a,{otherUserFbId:null,threadFbId:d});if(e!==void 0)return{action_type:b("MercuryActionType").REMOVE_MESSAGE,thread_fbid:d.toString(),messageId:c.messageID,other_user_fbid:null,removed_timestamp:c.deletionTimestamp,thread_id:e};else return void 0}}function G(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").UNSUBSCRIBE_STATUS_UPDATE,page_unsubscribe_status:c.unSubscribeStatus,thread_fbid:d.toString(),other_user_fbid:null,thread_id:a};else return void 0}}function H(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").IS_PIN_PROTECTED,thread_fbid:d.toString(),other_user_fbid:null,is_pin_protected:c.isPinProtected,thread_id:a};else return void 0}}function I(a,c){var d=c.threadKey.otherUserFbId;if(d==null)return void 0;else{a=i(a,{otherUserFbId:d,threadFbId:null});if(a!==void 0)return{action_type:b("MercuryActionType").UPDATE_CONNECTIVITY_STATUS,other_user_fbid:d.toString(),subtitle_type:c.subtitleType,thread_connectivity_status:c.threadConnectivityStatus,thread_fbid:d.toString(),thread_id:a};else return void 0}}var J=function(a){return String.fromCharCode.apply(null,a)};function K(a,c){__p&&__p();c=JSON.parse(J(c.payload));c=b("bs_js_json").classify(c);if(typeof c==="number"||c.tag!==2)return b("bs_block").__(1,["DeltaClientDelta","malformed payload"]);else{c=c[0].deltas;if(c!==void 0){c=b("bs_js_json").classify(c);if(typeof c==="number"||c.tag!==3)return b("bs_block").__(1,["DeltaClientDelta","delta is not an array"]);else{c=b("bs_belt_Array").get(c[0],0);if(c!==void 0){c=b("bs_js_json").classify(b("bs_js_primitive").valFromOption(c));if(typeof c==="number"||c.tag!==2)return b("bs_block").__(1,["DeltaClientDelta","client delta is not an object"]);else{c=c[0];var d=!1,e=0,f=c.deltaMessageReaction;if(f!==void 0){d=!0;f=o(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaMessageReaction",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaMessageReaction","transform failed"])}f=c.liveLocationData;if(f!==void 0&&!d){d=!0;f=q(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.liveLocationData",h):e=b("bs_block").__(1,["DeltaClientDelta.liveLocationData","transform failed"])}f=c.deltaUpdateGroupEventRSVPStatus;if(f!==void 0&&!d){d=!0;f=r(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupEventRSVPStatus",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdateGroupEventRSVPStatus","transform failed"])}f=c.deltaPageThreadFollowUpData;if(f!==void 0&&!d){d=!0;f=s(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaPageThreadFollowUpData",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaPageThreadFollowUpData","transform failed"])}f=c.deltaChangeViewerStatus;if(f!==void 0&&!d){d=!0;f=t(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaChangeViewerStatus",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaChangeViewerStatus","transform failed"])}f=c.deltaMontageDirectExpire;if(f!==void 0&&!d){d=!0;f=u(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaMontageDirectExpire",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaMontageDirectExpire","transform failed"])}f=c.deltaMessageReply;if(f!==void 0&&!d){d=!0;f=v(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaMessageReply",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaMessageReply","transform failed"])}f=c.deltaUpdateGroupsSyncStatus;if(f!==void 0&&!d){d=!0;f=w(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupsSyncStatus",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdateGroupsSyncStatus","transform failed"])}f=c.deltaUpdateGroupsSyncMetadata;if(f!==void 0&&!d){d=!0;f=x(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdateGroupsSyncMetadata",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdateGroupsSyncMetadata","transform failed"])}f=c.deltaGroupThreadDescription;if(f!==void 0&&!d){d=!0;f=y(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaGroupThreadDescription",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaGroupThreadDescription","transform failed"])}f=c.deltaUpdateThreadTheme;if(f!==void 0&&!d){d=!0;f=A(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdateThreadTheme",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdateThreadTheme","transform failed"])}f=c.deltaUpdatePinnedThread;if(f!==void 0&&!d){d=!0;f=B(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdatePinnedThread",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdatePinnedThread","transform failed"])}f=c.deltaUpdatePrivateGroupJoinableLink;if(f!==void 0&&!d){d=!0;f=C(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaUpdatePrivateGroupJoinableLink","transform failed"])}f=c.deltaOmniMDirectivesV2;if(f!==void 0&&!d){d=!0;f=D(f);if(f!==void 0){f=b("bs_js_primitive").valFromOption(f);e=b("bs_block").__(0,["DeltaClientDelta.deltaOmniMDirectivesV2"]);b("MSuggestionActions").saveAllSuggestions(f.thread_id,f.suggestions)}else e=b("bs_block").__(1,["DeltaClientDelta.deltaOmniMDirectivesV2","transform failed"])}f=c.deltaPromoteGroupThreadAdmin;if(f!==void 0&&!d){d=!0;f=E(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaPromoteGroupThreadAdmin",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaPromoteGroupThreadAdmin","transform failed"])}f=c.deltaRecallMessageData;if(f!==void 0&&!d){d=!0;f=F(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaRecallMessageData",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaRecallMessageData","transform failed"])}f=c.deltaPageUnSubscribeStatus;if(f!==void 0&&!d){d=!0;f=G(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaPageUnSubscribeStatus",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaPageUnSubscribeStatus","transform failed"])}f=c.deltaPaymentPinProtectionStatusData;if(f!==void 0){if(!d){d=!0;f=H(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaPaymentPinProtectionStatusData",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaPaymentPinProtectionStatusData","transform failed"])}}else d||(e=b("bs_block").__(1,["DeltaClientDelta","unknown delta type: "+Object.keys(c).join()]));f=c.deltaThreadConnectivityStatusUpdate;if(f!==void 0){if(!d){d=!0;f=I(a,f);f!==void 0?n(a,b("bs_js_primitive").valFromOption(f),"DeltaClientDelta.deltaThreadConnectivityStatusUpdateData",h):e=b("bs_block").__(1,["DeltaClientDelta.deltaThreadConnectivityStatusUpdateData","transform failed"])}}else d||(e=b("bs_block").__(1,["DeltaClientDelta","unknown delta type: "+Object.keys(c).join()]));return e}}else return b("bs_block").__(1,["DeltaClientDelta","client delta is missing"])}}else return b("bs_block").__(1,["DeltaClientDelta","client delta has no deltas"])}}function L(a,c){__p&&__p();var d=[],e=[],f=c.folders,g=0;!(f==null)&&f.length!==0?b("bs_belt_Array").forEachU(f,function(a){d.push({action_type:b("MercuryGlobalActionType").MARK_ALL_READ,action_id:null,folder:b("bs_js_primitive").undefined_to_opt(b("MessagingTag").IRIS_MAPPING[a]),timestamp:parseInt(c.watermarkTimestamp,10)});return 0}):g=1;g===1&&b("bs_belt_Array").forEachU(c.threadKeys,function(f){var d=i(a,f);if(d!==void 0){var g=parseInt(c.watermarkTimestamp,10);b("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(g);e.push({thread_id:d,action_type:b("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:f.otherUserFbId,thread_fbid:f.threadFbId,mark_as_read:!0,timestamp:g,folder:b("MessagingTag").INBOX});return 0}else return 0});return[d,e]}function M(a){if(a==null)return null;else return a.toString()}function N(a){a=a.skipBumpThread;if(!(a==null)&&a)return h;else return 1}function O(a,c){__p&&__p();var d;switch(c.tag|0){case 0:var e=c[0],f=j(a,e);n(a,f,"deltaNewMessage",N(e.messageMetadata));d=0;break;case 1:f=c[0];n(a,Object.assign(j(a,f.newMessage),{action_type:b("MercuryActionType").REPLACE_MESSAGE,replaced_message_id:f.replacedMessageId}),"deltaReplaceMessage",h);d=0;break;case 2:e=c[0];f=e.threadKey.otherUserFbId;var g;if(f==null){var k=e.threadKey.threadFbId;if(k==null)g=void 0;else{var o=b("MercuryThreadIDMap").getForFBID(a);o=o.getClientIDFromServerIDNow(k.toString());g=o==null?void 0:b("bs_js_primitive").some(o)}}else{k=b("FBID.bs").ofString(f.toString());g=k!==void 0?b("bs_js_primitive").some(b("MercuryIDs").getThreadIDFromUserID(b("bs_js_primitive").valFromOption(k))):void 0}if(g!==void 0){o={};o[b("bs_js_primitive").valFromOption(g)]=parseInt(e.deliveredWatermarkTimestampMs,10);b("MercuryDispatcher").getForFBID(a).handleUpdate({delivery_receipts:o,pinned_thread_ids:[],newlyAddedClientIDs:{},actions:[],preprocessed:!0});d=b("bs_block").__(0,["DeltaDeliveryReceipt"])}else d=b("bs_block").__(1,["DeltaDeliveryReceipt","no thread id"]);break;case 3:f=L(a,c[0]);k=f[1];g=f[0];g.length&&b("MercuryDispatcher").getForFBID(a).handleUpdate({actions:[],global_actions:g,pinned_thread_ids:[],newlyAddedClientIDs:{},preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});k.length&&b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:k,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=g.length===0&&k.length===0?b("bs_block").__(1,["DeltaMarkRead","no local or global action"]):b("bs_block").__(0,["DeltaMarkRead"]);break;case 4:var p=c[0];e=b("bs_belt_Array").keepMapU(p.threadKeys,function(c){var d=i(a,c);if(d!==void 0){var e=parseInt(p.watermarkTimestamp,10);b("MercuryServerRequests").getForFBID(a).updateLastActionTimestamp(e);return{thread_id:d,action_type:b("MercuryActionType").CHANGE_READ_STATUS,other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId,mark_as_read:!1,timestamp:e,folder:b("MessagingTag").INBOX}}});b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:e,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaMarkUnread"]);break;case 5:o=c[0];n(a,Object.assign(j(a,o),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:o.messageMetadata.adminText,log_message_data:{removed_participants:[b("MercuryIDs").getParticipantIDFromUserID(o.leftParticipantFbId)]},log_message_type:b("MercuryLogMessageType").UNSUBSCRIBE}),"DeltaParticipantLeftGroupThread",N(o.messageMetadata));d=0;break;case 6:f=c[0];n(a,Object.assign(j(a,f),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:f.messageMetadata.adminText,log_message_data:{added_participants:b("bs_belt_Array").map(f.addedParticipants,function(a){return b("MercuryIDs").getParticipantIDFromUserID(a.userFbId)})},log_message_type:b("MercuryLogMessageType").SUBSCRIBE}),"DeltaParticipantsAddedToGroupThread",N(f.messageMetadata));d=0;break;case 7:g=c[0];k=j(a,g);e=b("FBID.bs").ofString(g.messageMetadata.actorFbId.toString());if(e!==void 0){o=b("bs_js_primitive").valFromOption(e);if(b("bs_caml_obj").caml_notequal(o,a))f=b("bs_js_primitive").some(a);else{e=g.messageMetadata.threadKey.otherUserFbId;if(e==null)f=void 0;else{e=b("FBID.bs").ofString(e.toString());f=e!==void 0?e:void 0}}if(f!==void 0){e=g.eventType;var q;if(e==null)q=b("MercuryLogMessageType").VIDEO_CALL;else{e=e==="VOICE_EVENT";q=e?b("MercuryLogMessageType").PHONE_CALL:b("MercuryLogMessageType").VIDEO_CALL}e=g.duration;n(a,Object.assign(k,{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:g.messageMetadata.adminText,log_message_data:{answered:e==null?!1:e>0,callee:b("MercuryIDs").getParticipantIDFromUserID(b("bs_js_primitive").valFromOption(f)),caller:b("MercuryIDs").getParticipantIDFromUserID(o)},log_message_type:q,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(g.messageMetadata.unsendType)}),"DeltaRTCEventLog",N(g.messageMetadata));d=0}else d=b("bs_block").__(1,["DeltaParticipantsAddedToGroupThread","calleeFBID is invalid"])}else d=b("bs_block").__(1,["DeltaRTCEventLog","actorFbId is not an fbid"]);break;case 8:k=c[0];n(a,Object.assign(j(a,k),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:k.messageMetadata.adminText,log_message_data:{name:k.name},log_message_type:b("MercuryLogMessageType").THREAD_NAME}),"DeltaThreadName",N(k.messageMetadata));d=0;break;case 9:e=c[0];f={watermark:parseInt(e.watermarkTimestampMs,10),action:parseInt(e.actionTimestampMs,10)};o=e.threadKey.otherUserFbId;q=o==null?b("bs_js_primitive").nullable_to_opt(e.actorFbId):o.toString();g=e.threadKey.otherUserFbId;if(g==null){k=e.threadKey.threadFbId;o=k==null?void 0:k.toString()}else o=g.toString();if(q!==void 0)if(o!==void 0){e=o;k=b("MercuryThreadIDMap").getForFBID(a);g=k.getClientIDFromServerIDNow(e);if(g==null)d=b("bs_block").__(1,["DeltaReadReceipt","No clientID for serverID: "+e]);else{o={};k={};e=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(q));k[e]=f;o[g]=k;b("MercuryDispatcher").getForFBID(a).handleUpdate({roger:o,pinned_thread_ids:[],newlyAddedClientIDs:{},actions:[],preprocessed:!0});d=b("bs_block").__(0,["DeltaReadReceipt"])}}else d=b("bs_block").__(1,["DeltaReadReceipt","serverID is invalid"]);else d=b("bs_block").__(1,["DeltaReadReceipt","userID is invalid"]);break;case 10:q=c[0];n(a,Object.assign(j(a,q),{action_type:b("MercuryActionType").LOG_MESSAGE,log_message_body:q.messageMetadata.adminText,log_message_data:{message_type:q.type,untypedData:q.untypedData},log_message_type:b("MercuryLogMessageType").GENERIC_ADMIN_TEXT,message_unsendability_status:b("MessageUnsendabilityStatus.bs").fromNullableString(q.messageMetadata.unsendType)}),"DeltaAdminTextMessage",N(q.messageMetadata));d=0;break;case 11:e=c[0];f=i(a,{otherUserFbId:e.threadKey.otherUserFbId,threadFbId:e.threadKey.threadFbId});g=f!==void 0?{action_type:b("MercuryActionType").DELETE_MESSAGES,message_ids:e.messageIds,other_user_fbid:M(e.threadKey.otherUserFbId),thread_fbid:M(e.threadKey.threadFbId),thread_id:f}:void 0;k=e.threadKey.threadFbId;o=e.folder;if(g!==void 0){q=b("bs_js_primitive").valFromOption(g);k==null?(n(a,q,"DeltaMessageDelete",h),d=0):o==null?(n(a,q,"DeltaMessageDelete",h),d=0):(o==="FOLDER_MONTAGE"?b("MontageActions").requestUpdate(k.toString()):n(a,q,"DeltaMessageDelete",h),d=0)}else d=b("bs_block").__(1,["DeltaMessageDelete","transform failed"]);break;case 12:f=c[0];e=i(a,{otherUserFbId:f.threadKey.otherUserFbId,threadFbId:f.threadKey.threadFbId});if(e!==void 0){g=f.action;n(a,{action_type:b("MercuryActionType").CHANGE_ARCHIVED_STATUS,thread_fbid:M(f.threadKey.threadFbId),other_user_fbid:M(f.threadKey.otherUserFbId),archived:g==null?!1:g===b("MessagingThreadAction").ACTION_ARCHIVED,thread_id:e},"DeltaThreadAction",h);d=0}else d=b("bs_block").__(1,["DeltaThreadAction","transform failed"]);break;case 13:o=b("bs_belt_Array").keepMapU(c[0].threadKeys,function(c){var d=i(a,c);if(d!==void 0)return{thread_id:d,action_type:b("MercuryActionType").DELETE_THREAD,other_user_fbid:c.otherUserFbId,thread_fbid:c.threadFbId}});b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:o,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaThreadDelete"]);break;case 14:k=c[0];q=i(a,{otherUserFbId:null,threadFbId:k.messageMetadata.threadKey.threadFbId});q!==void 0?(n(a,{action_type:b("MercuryActionType").REMOVE_GROUP_ADMINS,action_id:null,thread_fbid:M(k.messageMetadata.threadKey.threadFbId),other_user_fbid:null,removed_admin_ids:k.removedAdminFbIds,thread_id:q},"DeltaAdminRemovedFromGroupThread",h),d=0):d=b("bs_block").__(1,["DeltaAdminRemovedFromGroupThread","transform failed"]);break;case 15:f=c[0];g=i(a,f.threadKey);if(g!==void 0){e=[{thread_id:g,action_type:b("MercuryActionType").CHANGE_MUTE_SETTINGS,thread_fbid:f.threadKey.threadFbId,other_user_fbid:f.threadKey.otherUserFbId,mute_until:parseInt(f.expireTime,10)}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:e,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaThreadMuteSettings"])}else d=b("bs_block").__(1,["DeltaThreadMuteSettings","invalid thread ID"]);break;case 16:o=c[0];k=o.jsonBlob;if(k==null)d=b("bs_block").__(1,["DeltaPagesManagerEvent","no jsonBlob"]);else{try{q=JSON.parse(k)}catch(a){q={}}g=b("bs_js_json").classify(q);if(typeof g==="number"||g.tag!==2)d=b("bs_block").__(1,["DeltaPagesManagerEvent","jsonBlob is not an object"]);else{f=g[0];e=f.type;if(e!==void 0){k=b("bs_js_json").classify(e);if(typeof k==="number"||k.tag!==1)d=b("bs_block").__(1,["DeltaPagesManagerEvent","type is not a number"]);else if(k[0]===b("PagesMessagingEventType").FLAG){q=f.flagData;if(q!==void 0){g=b("bs_js_json").classify(q);if(typeof g==="number"||g.tag!==2)e=!1;else{k=g[0].state;if(k!==void 0){f=b("bs_js_json").classify(k);e=typeof f==="number"?f===1:!1}else e=!1}}else e=!1;q=i(a,o.threadKey);if(q!==void 0){g=[{thread_id:q,action_type:b("MercuryActionType").CHANGE_FLAG,mark_as_flag:e,other_user_fbid:o.threadKey.otherUserFbId,thread_fbid:o.threadKey.threadFbId}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:g,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaPagesManagerEvent"])}else d=b("bs_block").__(1,["DeltaPagesManagerEvent","threadID is invalid"])}else d=b("bs_block").__(1,["DeltaPagesManagerEvent","type is not pagesFlag"])}else d=b("bs_block").__(1,["DeltaPagesManagerEvent","no type on jsonBlob"])}}break;case 17:k=c[0];f=i(a,{otherUserFbId:null,threadFbId:k.messageMetadata.threadKey.threadFbId});f!==void 0?(n(a,{action_type:b("MercuryActionType").APPROVAL_MODE,action_id:null,thread_fbid:M(k.messageMetadata.threadKey.threadFbId),other_user_fbid:null,approval_mode:b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(b("MessengerApprovalModeTypes")[k.mode])),thread_id:f},"DeltaApprovalMode",h),d=0):d=b("bs_block").__(1,["DeltaApprovalMode","transform failed"]);break;case 18:q=c[0];e=i(a,{otherUserFbId:q.messageMetadata.threadKey.otherUserFbId,threadFbId:q.messageMetadata.threadKey.threadFbId});if(e!==void 0){o=e;g=q.inviterFbId;if(g==null){k=q.recipientFbId;if(!(k==null)){f=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(k));e=q.action===b("MessengerApprovalQueueTypes").REMOVED;k=q.action===b("MessengerApprovalQueueTypes").REQUESTED;n(a,{action_type:b("MercuryActionType").APPROVAL_QUEUE,action_id:null,thread_fbid:M(q.messageMetadata.threadKey.threadFbId),other_user_fbid:M(q.messageMetadata.threadKey.otherUserFbId),removed_id:e?f:null,added_id:k?f:null,thread_id:o},"DeltaApprovalQueue",h)}}else{e=q.action===b("MessengerApprovalQueueTypes").REMOVED;k=q.action===b("MessengerApprovalQueueTypes").REQUESTED;if(k){f=q.requestSource;var r;if(f==null)r=b("MessengerGroupRequestSource").ADD;else switch(f){case"ADD":r=b("MessengerGroupRequestSource").ADD;break;case"JOIN_THROUGH_LINK":r=b("MessengerGroupRequestSource").JOIN_THROUGH_LINK;break;default:r=b("MessengerGroupRequestSource").ADD}k={requester:{id:q.recipientFbId},inviter:{id:g},request_source:r,request_timestamp:q.requestTimestamp}}else k=null;n(a,{action_type:b("MercuryActionType").APPROVAL_QUEUE,action_id:null,thread_fbid:M(q.messageMetadata.threadKey.threadFbId),other_user_fbid:M(q.messageMetadata.threadKey.otherUserFbId),removed_group_id:e?q.recipientFbId:null,added_group_id:k,thread_id:o},"DeltaApprovalQueue",h)}d=0}else d=b("bs_block").__(1,["DeltaApprovalQueue","transform failed"]);break;case 19:f=c[0];n(a,j(a,f.deltaNewMessage),"DeltaGenieMessage",N(f.deltaNewMessage.messageMetadata));d=0;break;case 20:g=c[0];e=g.messageMetadata.threadKey;if(e==null)q=void 0;else{k=e.threadFbId;q=k==null?void 0:k}o=g.initiator;if(o==null)f=void 0;else{e=o.userFbId;f=e==null?void 0:e.toString()}k=i(a,{otherUserFbId:null,threadFbId:q});k!==void 0?(n(a,{action_type:b("MercuryActionType").UPDATE_RTC_CALL_DATA,thread_fbid:M(q),other_user_fbid:null,call_state:g.callState,server_info_data:g.serverInfoData,initiator_fbid:f,thread_id:k},"DeltaRTCCallData",h),d=0):d=b("bs_block").__(1,["DeltaRTCCallData","transform failed"]);break;case 21:o=c[0];e=i(a,o.threadKey);if(e!==void 0){q=[{thread_id:e,action_type:b("MercuryActionType").CHANGE_FOLDER,other_user_fbid:o.threadKey.otherUserFbId,new_folder:b("bs_js_primitive").undefined_to_opt(b("MessagingTag").IRIS_MAPPING[o.folder])}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:q,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaThreadFolder"])}else d=b("bs_block").__(1,["DeltaThreadFolder","threadID is invalid"]);break;case 22:g=c[0];f=i(a,g.threadKey);if(f!==void 0){k=[{thread_id:f,action_type:b("MercuryActionType").MUTATE_TAGS,message_id:g.messageId,tags_to_add:g.tagsToAdd,tags_to_delete:g.tagsToDelete}];b("MercuryDispatcher").getForFBID(a).handleUpdate({pinned_thread_ids:[],newlyAddedClientIDs:{},actions:k,preprocessed:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});d=b("bs_block").__(0,["DeltaMutateMessageTags"])}else d=b("bs_block").__(1,["DeltaMutateMessageTags","threadID is invalid"]);break;case 23:d=K(a,c[0]);break}if(typeof d==="number")return 0;else if(d.tag)return m(d[0],d[1]);else return l(d[0])}function a(a,c){__p&&__p();if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").NewMessage))return O(a,b("bs_block").__(0,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ReplaceMessage))return O(a,b("bs_block").__(1,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").DeliveryReceipt))return O(a,b("bs_block").__(2,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkRead))return O(a,b("bs_block").__(3,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkUnread))return O(a,b("bs_block").__(4,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ParticipantLeftGroupThread))return O(a,b("bs_block").__(5,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ParticipantsAddedToGroupThread))return O(a,b("bs_block").__(6,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").RTCEventLog))return O(a,b("bs_block").__(7,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadName))return O(a,b("bs_block").__(8,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ReadReceipt))return O(a,b("bs_block").__(9,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").AdminTextMessage))return O(a,b("bs_block").__(10,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MessageDelete))return O(a,b("bs_block").__(11,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadAction))return O(a,b("bs_block").__(12,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadDelete))return O(a,b("bs_block").__(13,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").AdminRemovedFromGroupThread))return O(a,b("bs_block").__(14,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadMuteSettings))return O(a,b("bs_block").__(15,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").PagesManagerEvent))return O(a,b("bs_block").__(16,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ApprovalMode))return O(a,b("bs_block").__(17,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ApprovalQueue))return O(a,b("bs_block").__(18,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ClientPayload))return O(a,b("bs_block").__(23,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").GenieMessage))return O(a,b("bs_block").__(19,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").RtcCallData))return O(a,b("bs_block").__(20,[c]));else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").MarkFolderSeen)){l("DeltaMarkFolderSeen");return b("bs_curry")._2(b("MessengerState.bs").send,b("bs_js_primitive").some(a),[b("bs_block").__(0,[b("bs_block").__(65,[c])])])}else if(b("bs_caml_obj").caml_equal(c["class"],b("MercurySyncDeltaTypes").ThreadFolder))return O(a,b("bs_block").__(21,[c]));else return 0}f.transform=a}),null);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),null);
__d("MercuryActionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10})}),null);
__d("EmojiLikeConstants",["EmojiStaticConfig"],(function(a,b,c,d,e,f){"use strict";a=b("EmojiStaticConfig").sizeMap;c=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"});d={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"};f=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"});b=[983040];var g="hot_emoji_source",h="hot_emoji_size",i="emoji_like",j="\ud83d\udc4d",k=[128077];e.exports={FB_THUMBS_UP_EMOJI:b,size:c,sizeMap:a,sizeMapTransfer:d,source:f,SOURCE_TAG_PREFIX:g,TAG_PREFIX_NEW:h,TAG_PREFIX_OLD:i,THUMBS_UP_EMOJI:j,THUMBS_UP_EMOJI_CODES:k}}),null);
__d("MercuryTagHelper",[],(function(a,b,c,d,e,f){"use strict";a={get:function(a,b){a=a.find(function(a){return a.startsWith(b)});return a==null?a:a.substr(a.indexOf(":")+1)}};e.exports=a}),null);
__d("EmojiLikeUtils",["EmojiLikeConstants","MercuryTagHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){!a.tags?a.tags=[g(b)]:a.tags.push(g(b));return a}function g(a){var c=b("EmojiLikeConstants").TAG_PREFIX_NEW;return c+":"+a}function c(a,b){!a.tags?a.tags=[h(b)]:a.tags.push(h(b));return a}function h(a){return b("EmojiLikeConstants").SOURCE_TAG_PREFIX+":"+a}function d(a){return i(a)!=null}function i(a){if(!a.tags)return null;var c=b("MercuryTagHelper").get(a.tags,b("EmojiLikeConstants").TAG_PREFIX_NEW);return c?c:b("MercuryTagHelper").get(a.tags,b("EmojiLikeConstants").TAG_PREFIX_OLD)}e.exports={getEmojiSize:i,isEmojiLike:d,setEmojiSize:a,setEmojiSource:c}}),null);
__d("MercuryAttachment",["cx","EmojiLikeUtils","MercuryAttachmentContentType","MercuryAttachmentType","MercuryAudioType","StoryAttachmentStyle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a===Object(a)},i="_1c_u",j=new Set([b("MercuryAttachmentType").ANIMATED_IMAGE,b("MercuryAttachmentType").PHOTO,b("MercuryAttachmentType").VIDEO,b("MercuryAttachmentType").THIRDPARTYSTICKER]),k={getAttachIconClass:function(a){__p&&__p();switch(a){case b("MercuryAttachmentContentType").PHOTO:return"_y2-";case b("MercuryAttachmentContentType").VIDEO:return"_y2_";case b("MercuryAttachmentContentType").MUSIC:return"_y30";case b("MercuryAttachmentContentType").VOICE:return"_y31";case b("MercuryAttachmentContentType").TEXT:return"_y32";case b("MercuryAttachmentContentType").PDF:return"_1k9k";case b("MercuryAttachmentContentType").RICHTEXT:return"_1k9l";case b("MercuryAttachmentContentType").SPREADSHEET:return"_1k9p";case b("MercuryAttachmentContentType").PRESENTATION:return"_1k9r";case b("MercuryAttachmentContentType").ARCHIVE:return"_1k9s";case b("MercuryAttachmentContentType").MSWORD:return"_y33";case b("MercuryAttachmentContentType").MSXLS:return"_y34";case b("MercuryAttachmentContentType").MSPPT:return"_y35"}return"_y36"},getAttachIconClassByMime:function(a){return this.getAttachIconClass(this.getAttachTypeByMime(a))},getAttachTypeByMime:function(a){__p&&__p();if(!a)return b("MercuryAttachmentContentType").UNKNOWN;if(a.startsWith("image"))return b("MercuryAttachmentContentType").PHOTO;else if(a.startsWith("video"))return b("MercuryAttachmentContentType").VIDEO;else if(a.startsWith("audio"))return b("MercuryAttachmentContentType").MUSIC;else if(a.startsWith("text/plain"))return b("MercuryAttachmentContentType").TEXT;else if(a=="text/pdf"||a=="application/pdf"||a=="application/vnd.pdf"||a=="application/x-pdf")return b("MercuryAttachmentContentType").PDF;else if(a=="text/richtext"||a=="application/rtf"||a=="application/x-iwork-pages-sffkey")return b("MercuryAttachmentContentType").RICHTEXT;else if(a=="text/csv"||a=="application/x-iwork-numbers-sffkey")return b("MercuryAttachmentContentType").SPREADSHEET;else if(a=="application/x-iwork-keynote-sffkey")return b("MercuryAttachmentContentType").PRESENTATION;else if(a=="application/vnd.ms-cab-compressed"||a=="application/x-7z-compressed"||a=="application/x-ace-compressed"||a=="application/x-apple-diskimage"||a=="application/x-compress"||a=="application/x-compressed"||a=="application/x-gzip"||a=="application/x-rar-compressed"||a=="application/x-tar"||a=="application/x-zip-compressed"||a=="application/zip")return b("MercuryAttachmentContentType").ARCHIVE;else if(a=="application/msword"||a.startsWith("application/vnd.ms-word")||a.startsWith("application/vnd.openxmlformats-officedocument.wordprocessingml"))return b("MercuryAttachmentContentType").MSWORD;else if(a.startsWith("application/vnd.ms-excel")||a.startsWith("application/vnd.openxmlformats-officedocument.spreadsheetml"))return b("MercuryAttachmentContentType").MSXLS;else if(a.startsWith("application/vnd.ms-powerpoint")||a.startsWith("application/vnd.openxmlformats-officedocument.presentationml"))return b("MercuryAttachmentContentType").MSPPT;else return b("MercuryAttachmentContentType").UNKNOWN},convertRaw:function(a){__p&&__p();var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(e.attach_type===b("MercuryAttachmentType").PHOTO)c.push(e);else if(e.filename){var f=k.getAttachTypeByMime(e.filetype),g={};g.attach_type=b("MercuryAttachmentType").FILE;g.name=e.filename;g.icon_type=f;g.url="";c.push(g)}}return c},get:function(a){__p&&__p();var c=[];a.attachments?c=a.attachments:a.raw_attachments&&(c=this.convertRaw(a.raw_attachments));var d=b("EmojiLikeUtils").getEmojiSize(a);d&&(c=c.concat([{attach_type:b("MercuryAttachmentType").EMOJI_LIKE,size:d}]));if(!(a.attachments&&a.attachments.length>0)){if(a.sticker_id)return c.concat([{attach_type:b("MercuryAttachmentType").STICKER}]);if(a.preview_attachments&&a.preview_attachments.length>0)return c.concat(a.preview_attachments)}return c},resizeContain:function(a,b){var c=a.width/a.height,d=b.width/b.height;if(d<c)return{width:Math.ceil(Math.min(a.height*d,b.width)),height:Math.ceil(Math.min(a.height,b.height))};else return{width:Math.ceil(Math.min(a.width,b.width)),height:Math.ceil(Math.min(a.width/d,b.height))}},isBubblePreferred:function(a){return this.isFileAttachment(a)},isPhotoAttachment:function(a){return!!(a.attach_type==b("MercuryAttachmentType").PHOTO||a.attach_type==b("MercuryAttachmentType").ANIMATED_IMAGE||a.attach_type==b("MercuryAttachmentType").THIRDPARTYSTICKER||a.attach_type==b("MercuryAttachmentType").FILE&&a.preview_url)},isPhotoGroupAttachment:function(a){return j.has(a.attach_type)},isSinglePhotoGroupAttachment:function(a){return!!(a.attachments&&a.attachments.length===1&&a.attachments[0]&&this.isPhotoGroupAttachment(a.attachments[0]))},isVideoAttachment:function(a){return a.attach_type==b("MercuryAttachmentType").VIDEO},isShareAttachment:function(a){return a.attach_type==b("MercuryAttachmentType").SHARE},isFileAttachment:function(a){return a.attach_type==b("MercuryAttachmentType").FILE},isErrorAttachment:function(a){return a.attach_type==b("MercuryAttachmentType").ERROR},isStickerAttachment:function(a){return a.attach_type==b("MercuryAttachmentType").STICKER},isEmojiLikeAttachment:function(a){return a.attach_type===b("MercuryAttachmentType").EMOJI_LIKE},isVoiceAttachment:function(a){return!a.metadata?!1:a.metadata.type===b("MercuryAudioType").AudioClip||a.metadata.type===b("MercuryAudioType").VoiceMessageWithTranscript},hasAttribution:function(a){return!!a.app_attribution},isLightweightActionAttachment:function(a){return!!(k.isShareAttachment(a)&&a.share&&a.share.target!=null&&a.share.target.lwa_type!=null)},isSingleVideoAttachment:function(a){a=this.get(a).filter(h).filter(function(a){return this.isVideoAttachment(a)}.bind(this));return a.length===1},isSharedVideoAttachment:function(a){a=a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.style_list.indexOf(b("StoryAttachmentStyle").GENIE_MESSAGE)>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSharedVideoAttachmentMessage:function(a){a=this.get(a).filter(h).filter(function(a){return this.isSharedVideoAttachment(a)||this.isGenieSharedVideoAttachment(a)}.bind(this));return a.length===1},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(i);return a&&a.length?a[0]:b}};e.exports=k}),null);
__d("MercuryDisplayTimeFilterMessageRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={renderFilteredContent:function(a){if(a.is_filtered_content_bh)return g._("This message was removed because it includes a link that goes against our Community Standards.");if(a.is_filtered_content_account)return g._("This message has been temporarily removed because the sender's account requires verification.");if(a.is_filtered_content_quasar)return g._("This message was removed because it contains blocked or harmful content.");return a.is_filtered_content_invalid_app?g._("This message was removed because the app it's being sent from is blocked from sending messages."):g._("This message has been temporarily removed because the sender's account requires verification, or it was identified as abusive.")}};e.exports=a}),null);
__d("MercuryFilters.bs",["MessagingTag"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessagingTag").UNREAD;d=b("MessagingTag").GROUPS;function a(){return[g]}function c(a){return a===g}e="all";f.all=e;f.unread=g;f.groups=d;f.getSupportedFilters=a;f.isSupportedFilter=c}),null);
__d("MercuryMessageClientState",[],(function(a,b,c,d,e,f){a=Object.freeze({DO_NOT_SEND_TO_SERVER:"do_not_send_to_server",SEND_TO_SERVER:"send_to_server"});e.exports=a}),null);
__d("MercuryMessageIDs.bs",["bs_curry","KeyedCallbackManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("KeyedCallbackManager"))();function a(a,c){var d=a.filter(function(a){return a.indexOf("id")===-1}),e=function(d){return b("bs_curry")._1(c,a.map(function(a){var b=d[a];if(b!==void 0)return b;else return a}))};return g.executeOrEnqueue(d,e)}function c(a,b){g.setResource(a,b);return 0}f.getServerIDs=a;f.addServerID=c}),null);
__d("MercurySyncEventsProxy",["Arbiter","Bootloader","ChannelConstants","LogHistory","MercurySingletonProvider","MessengerMQTTConnectionEvents","MessengerMQTTGating","gkx","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_event_proxy"),h={DELTA:"DELTA",FAKE_DFF:"FAKE_DFF",FLOW:"FLOW",FLOW_REJECT:"FLOW_REJECT",INIT:"MercurySyncDeltaHandler/initSeqID",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING",SHUTDOWN:"SHUTDOWN",TYP:"TYP"};i.getArbiterTypeForFBID=function(a,b){return a+"/"+b};i.getForFBID=function(a){return j.getForFBID(a)};i.get=function(){return j.get()};function i(a){this.$2=[],this.$3=[],this.$1=a,this.init()}i.prototype.getArbiterType=function(a){return i.getArbiterTypeForFBID(this.$1,a)};i.prototype.init=function(){__p&&__p();this.$2.forEach(function(a){return b("Arbiter").unsubscribe(a)});this.$3.forEach(function(a){return b("ifRequired")("ChannelConnection",function(b){return b.unsubscribe(a)})});var a=[],c=[],d=b("MessengerMQTTGating").isEnabled(),e=d?b("MessengerMQTTConnectionEvents").DELTA_EVENT:b("ChannelConstants").getArbiterType("delta");a.push(b("Arbiter").subscribe(e,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.DELTA)].concat(d))}.bind(this)),b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){return this.init()}.bind(this)));!d?(a.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("deltaflow"),function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.FLOW)].concat(d))}.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("deltaflowreject"),function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.FLOW_REJECT)].concat(d))}.bind(this))),b("Bootloader").loadModules(["ChannelConnection","ChannelConnectionEvents"],function(a,d){__p&&__p();c.push(a.subscribe(d.CONNECTED,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.CONNECTED)].concat(d))}.bind(this)),a.subscribe(d.RECONNECTING,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.RECONNECTING)].concat(d))}.bind(this)),a.subscribe(d.SHUTDOWN,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.SHUTDOWN)].concat(d))}.bind(this)))}.bind(this),"MercurySyncEventsProxy")):a.push(b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECT,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.CONNECTED)].concat(d))}.bind(this)),b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_DISCONNECT,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.SHUTDOWN)].concat(d))}.bind(this)),b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECTING,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.RECONNECTING)].concat(d))}.bind(this)));a.push(b("Arbiter").subscribe(b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),function(a){g.debug("fakedff",JSON.stringify({fbid:this.$1}));for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.FAKE_DFF)].concat(d))}.bind(this)));d&&b("gkx")("678650")?a.push(b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").TYP,function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.TYP)].concat(d))}.bind(this))):a.push(b("Arbiter").subscribe([b("ChannelConstants").getArbiterType("typ"),b("ChannelConstants").getArbiterType("ttyp")],function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b("Arbiter").inform.apply(b("Arbiter"),[this.getArbiterType(h.TYP)].concat(d))}.bind(this)));this.$2=a;this.$3=c};i.Events=h;var j=new(b("MercurySingletonProvider"))(i);e.exports=i}),null);
__d("MercuryThreadInfo",["MercuryIDs","MessengerThreadCannotReplyReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={canReply:function(a){return!!(a.is_subscribed&&(a.can_reply===void 0||a.can_reply)&&!a.has_email_participant&&!a.read_only)},getMuteSetting:function(a){return a.mute_until?a.mute_until:void 0},isEmptyLocalThread:function(a){return b("MercuryIDs").tokenize(a.thread_id).type==="root"&&!a.timestamp},isMuted:function(a){a=g.getMuteSetting(a);return a!=null&&(a>Date.now()/1e3||a===-1)},areMentionsMuted:function(a){return a.mentions_mute_mode===1},areReactionsMuted:function(a){return a.reactions_mute_mode===1},isNewEmptyLocalThread:function(a){return!!(g.isEmptyLocalThread(a)&&a.participants&&a.participants.length===0)},showComposer:function(a){return!!(a.is_subscribed&&(a.can_reply||!a.cannot_reply_reason||a.cannot_reply_reason.toLowerCase()===b("MessengerThreadCannotReplyReason").BLOCKED||a.cannot_reply_reason.toLowerCase()===b("MessengerThreadCannotReplyReason").MESSENGER_BLOCKEE)&&!a.has_email_participant&&!a.read_only)},isColdOpen:function(a){return!!(a.is_canonical_user&&(a.message_count===0||!a.timestamp))}};e.exports=g}),null);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercurySingletonProvider","mixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LogHistory").getInstance("mercury_informer");c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;a.get=function(){return i.get()};a.getForFBID=function(a){return i.getForFBID(a)};function a(a){g.constructor.call(this),this.$MercuryThreadInformer1=a,this.$MercuryThreadInformer2={},this.$MercuryThreadInformer3={},this.$MercuryThreadInformer4={},this.$MercuryThreadInformer5={},this.$MercuryThreadInformer6=!1,this.$MercuryThreadInformer7=!1,this.$MercuryThreadInformer8=!1,this.$MercuryThreadInformer9={},this.$MercuryThreadInformer10={},this.$MercuryThreadInformer11={},this.$MercuryThreadInformer12=0}a.prototype.informNewMessage=function(a,b){this.inform("new-message",{threadID:a,message:b})};a.prototype.informNewLogMessage=function(a,b){this.inform("new-log-message",{threadID:a,message:b})};a.prototype.updatedThread=function(a){this.$MercuryThreadInformer3[a]=!0,this.$MercuryThreadInformer13()};a.prototype.invalidatedThread=function(a){this.$MercuryThreadInformer4[a]=!0,this.$MercuryThreadInformer13()};a.prototype.deletedThread=function(a){this.$MercuryThreadInformer2[a]=!0,this.$MercuryThreadInformer13()};a.prototype.updatedThreadlist=function(){this.$MercuryThreadInformer6=!0,this.$MercuryThreadInformer13()};a.prototype.updatedUnseenState=function(){this.$MercuryThreadInformer7=!0,this.$MercuryThreadInformer13()};a.prototype.updatedUnreadState=function(){this.$MercuryThreadInformer8=!0,this.$MercuryThreadInformer13()};a.prototype.changedThreadReadState=function(a,b,c){(!this.$MercuryThreadInformer5[a]||this.$MercuryThreadInformer5[a].timestamp<c)&&(this.$MercuryThreadInformer5[a]={mark_as_read:b,timestamp:c}),this.$MercuryThreadInformer13()};a.prototype.receivedMessage=function(a){b("MercuryAssert").isThreadID(a.thread_id);var c=a.thread_id;this.$MercuryThreadInformer9[c]||(this.$MercuryThreadInformer9[c]=[]);this.$MercuryThreadInformer9[c].push(a);this.updatedThread(c)};a.prototype.reorderedMessages=function(a,b){this.$MercuryThreadInformer10[a]={source:b},this.$MercuryThreadInformer13()};a.prototype.updatedMessage=function(a,b,c){this.$MercuryThreadInformer11[a]||(this.$MercuryThreadInformer11[a]={}),this.$MercuryThreadInformer11[a][b]={source:c},this.updatedThread(a)};a.prototype.synchronizeInforms=function(a){this.$MercuryThreadInformer12++;try{a()}catch(a){throw a}finally{this.$MercuryThreadInformer12--,this.$MercuryThreadInformer13()}};a.prototype.listen=function(a,b){return this.subscribe("threads-updated",function(c,d){d[a]&&b(a)})};a.prototype.$MercuryThreadInformer13=function(){__p&&__p();if(!this.$MercuryThreadInformer12){var a=this.$MercuryThreadInformer2,b=this.$MercuryThreadInformer3,c=this.$MercuryThreadInformer4,d=this.$MercuryThreadInformer5,e=this.$MercuryThreadInformer6,f=this.$MercuryThreadInformer7,g=this.$MercuryThreadInformer8,h=this.$MercuryThreadInformer9,i=this.$MercuryThreadInformer10,j=this.$MercuryThreadInformer11;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=!1;this.$MercuryThreadInformer7=!1;this.$MercuryThreadInformer8=!1;this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};var k=Object.keys(b);(k.length||e)&&this.inform("threadlist-updated",k);k.length&&this.$MercuryThreadInformer14("threads-updated",b);for(var e in c){this.$MercuryThreadInformer14("thread-invalidated",c);break}for(var e in d){this.$MercuryThreadInformer14("thread-read-changed",d);break}for(e in a){this.$MercuryThreadInformer14("threads-deleted",a);break}f&&this.$MercuryThreadInformer14("unseen-updated",null);g&&this.$MercuryThreadInformer14("unread-updated",null);for(e in h){this.$MercuryThreadInformer14("messages-received",h);break}for(e in i){this.$MercuryThreadInformer14("messages-reordered",i);break}for(e in j){this.$MercuryThreadInformer14("messages-updated",j);break}}};a.prototype.$MercuryThreadInformer14=function(a,b){a==="threads-updated"&&h.debug(a,JSON.stringify(b)),this.inform(a,b)};var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("ThreadConnectivityStatusGraphQLType.bs",[],(function(a,b,c,d,e,f){"use strict";a="UNCONNECTED";b="IMPLICIT_OR_TWO_WAY_MESSAGING";f.unconnected=a;f.implicitOrTwoWayMessaging=b}),null);
__d("ThreadConnectivityStatusGraphQLType.re",["ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){a=b("ThreadConnectivityStatusGraphQLType.bs").unconnected;f.unconnected=a;c=b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging;f.implicitOrTwoWayMessaging=c}),null);
__d("getPageIDFromThreadID",["FBIDCheck","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MercuryIDs").getUserIDFromThreadID(a);return!a||b("FBIDCheck").isUser_deprecated(a)?null:a}e.exports=a}),null);
__d("MessageRequestUtils",["CurrentUser","MercuryIDs","MessagingTag","ThreadConnectivityStatusGraphQLType.re","getPageIDFromThreadID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isMessageRequest:function(a){return(a.folder===b("MessagingTag").PENDING||a.folder===b("MessagingTag").OTHER)&&a.can_reply},isFiltered:function(a){return a.folder===b("MessagingTag").OTHER},shouldShowComposerPendingActions:function(a){return this.isMessageRequest(a)&&(b("MercuryIDs").isGroupChat(a.thread_id)||!!b("getPageIDFromThreadID")(a.thread_id)||b("CurrentUser").isWorkUser())},shouldShowThreadlistPendingActions:function(a){return a.folder===b("MessagingTag").PENDING&&(b("MercuryIDs").isGroupChat(a.thread_id)||!!b("getPageIDFromThreadID")(a.thread_id)||b("CurrentUser").isWorkUser())},shouldShowUnconnectedThreadInfoText:function(a){var c;return!b("CurrentUser").isWorkUser()&&b("CurrentUser").getID()!==a.other_user_fbid&&((c=a.thread_connectivity_data)==null?void 0:c.connectivity_status)===b("ThreadConnectivityStatusGraphQLType.re").unconnected&&((c=a.thread_connectivity_data)==null?void 0:c.first_sender_id)===a.other_user_fbid},shouldSendTypingIndicators:function(a){return a&&!this.isMessageRequest(a)&&((a=a.thread_connectivity_data)==null?void 0:a.connectivity_status)===b("ThreadConnectivityStatusGraphQLType.re").implicitOrTwoWayMessaging}};e.exports=a}),null);
__d("MessengerDesktopNotificationPermissions",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",DENIED:"denied",GRANTED:"granted"});e.exports=a}),null);
__d("MessengerDesktopNotifications",["MessengerDesktopNotificationPermissions","Run","UserAgent","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=new Map();function a(){h.forEach(function(a,b,c){a.close&&a.close()})}c={_closeTimer:null,isSupported:function(){return!!window.Notification},checkPermission:function(){if(window.Notification)return window.Notification.permission},hasDefaultSound:function(){return b("UserAgent").isBrowser("FireFox")&&b("UserAgent").isPlatform("Mac OS X")},isDenied:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED},isGranted:function(){return this.checkPermission()===b("MessengerDesktopNotificationPermissions").GRANTED},requestPermission:function(a){window.Notification&&window.Notification.requestPermission(a)},showNotification:function(a){__p&&__p();if(this.isGranted()){var c=window.Notification?new window.Notification(a.title,{body:a.body,icon:a.icon,tag:a.tag,silent:a.silent}):{};h.set(a.tag,c);a.onShow&&a.onShow();c.onclick=function(){b("WorkplaceChatHelper").isDesktopChatApp()&&b("WorkplaceChatHelper").showWindow(),a.onClick()};c.onclose=function(){h["delete"](a.tag)};this._closeTimer=setTimeout(function(){c.close()},a.closeTime||g);return c}else return null},removeNotification:function(a){a=h.get(a);a&&a.close()}};b("Run").onUnload(a);e.exports=c}),null);
__d("MessengerFolders.bs",["MessagingTag","MercuryFoldersConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=[b("MessagingTag").INBOX,b("MessagingTag").PENDING,b("MessagingTag").OTHER,b("MessagingTag").ACTION_ARCHIVED];var g=d.filter(function(a){if(a===b("MessagingTag").PENDING)return!b("MercuryFoldersConfig").hide_message_filtered;else if(a===b("MessagingTag").OTHER)return!b("MercuryFoldersConfig").hide_message_requests;else return!0});function a(){return[].concat(g)}function c(a){if(a.is_archived)return b("MessagingTag").ACTION_ARCHIVED;else return a.folder}f.getSupportedFolders=a;f.getFromMeta=c}),null);
__d("MercuryMessageDeliveryState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1});e.exports=a}),null);
__d("Utils.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a==null)return!1;else return a}function b(a){if(a!==void 0)return a;else return!1}function c(a){if(a!==void 0)return a;else return!1}f.isTruthy=a;f.isSomeTrue=b;f.optionBoolToBool=c}),null);
__d("MessengerMessage.bs",["URI","bs_array","Utils.bs","bs_js_json","bs_caml_obj","bs_js_primitive","MercuryViewer","bs_caml_primitive","MercuryActionType","MercuryActionStatus","MercuryPayloadSource","isMessengerDotComURI","MercuryLogMessageType","MercuryMessageDeliveryState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e,f){b={thread_id:b,thread_fbid:null,other_user_fbid:null,action_type:d,message_id:a,threading_id:null,offline_threading_id:null,author:c,author_email:"",ephemeral_ttl_mode:null,timestamp:e,is_unread:null,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_sponsored:!1,ad_id:null,ad_client_token:null,commerce_message_type:null,customizations:[],source:"",source_tags:[],tags:[],is_spoof_warning:!1,folder:"inbox",platform_xmd:null,message_source:null,montage_reply_data:null,replied_to_message:null,skip_bump_thread:!1,profile_ranges:[],reactions:null,attachments:null,ranges:null,meta_ranges:null,status:null,log_message_type:null,log_message_data:null,log_message_body:null,raw_attachments:null,body:null,subject:null,has_attachment:null,creator_info:null,error_data:null,removed_timestamp:null,message_unsendability_status:null};return Object.assign(b,f)}function c(a){var b=a.offline_threading_id;if(b==null)return!1;else return b===a.message_id}function d(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE))return!0;else{a=a.log_message_type;if(a==null)return!0;else return!(b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").UNSUBSCRIBE)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").SERVER_ERROR)||b("bs_caml_obj").caml_equal(a,b("MercuryLogMessageType").LIVE_LISTEN))}}function e(a){__p&&__p();var c=a.ranges;if(c==null)return 0;else{c=b("bs_array").map(function(c){__p&&__p();var a=c.entity;if(a==null)return c;else{var d=b("Utils.bs").isTruthy(a.external),e=a.url;if(d||e==null)return c;else{d=new(b("URI"))(e);e=b("isMessengerDotComURI")(b("URI").getRequestURI());var f=d.getDomain();if(e&&(f==null||f===""))e=1;else return c;if(e===1)return Object.assign(Object.assign({},c),{entity:Object.assign(Object.assign({},a),{url:d.setProtocol("https").setDomain("www.facebook.com").toString()})})}}},c);Object.assign(a,{ranges:c});return 0}}function g(){return!0}function h(a){return a.filter(function(){return!0})}function i(a){if(b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").UNKNOWN)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_INITIAL_DATA)||b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryPayloadSource").SERVER_THREAD_SYNC)}function j(a){return b("bs_caml_obj").caml_equal(a.author,b("MercuryViewer").getID())}function k(a){return!j(a)}function l(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNSENT)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNCONFIRMED)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").RESENDING)}function m(a){a=a.status;if(a==null)return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").SUCCESS)}function n(a,c){return b("bs_caml_primitive").caml_float_compare(a.timestamp,c.timestamp)}function o(a){a=a.status;if(a==null)return!1;else if(b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").FAILED_UNKNOWN_REASON)||b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").UNABLE_TO_CONFIRM))return!0;else return b("bs_caml_obj").caml_equal(a,b("MercuryActionStatus").ERROR)}function p(a){a=a.error_data;if(a==null)return void 0;else return b("bs_js_primitive").nullable_to_opt(a.description)}function q(a,c){__p&&__p();if(o(a))return b("MercuryMessageDeliveryState").ERROR;else if(l(a))return b("MercuryMessageDeliveryState").SENDING;else if(m(a)){a=a.timestamp<=c;if(a)return b("MercuryMessageDeliveryState").DELIVERED;else return b("MercuryMessageDeliveryState").SENT}else return b("MercuryMessageDeliveryState").UNKNOWN}function r(a){__p&&__p();try{a=b("bs_js_primitive").some(JSON.parse(a))}catch(b){a=void 0}if(a!==void 0){a=b("bs_js_json").classify(b("bs_js_primitive").valFromOption(a));if(typeof a==="number"||a.tag!==2)return void 0;else{a=a[0].persona;if(a!==void 0){a=b("bs_js_json").classify(a);if(typeof a==="number"||a.tag!==2)return void 0;else return b("bs_js_primitive").some(a[0])}else return void 0}}}function s(a){__p&&__p();if(a==null)return null;else{a=a.platform_xmd;if(a==null)return null;else{a=r(a);if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);var c=a.id,d=a.name;a=a.profile_picture_url;if(c!==void 0&&d!==void 0&&a!==void 0)return{id:c,name:d,profile_picture_url:a};else return null}else return null}}}function t(a){var c=a.log_message_type;if(!(c==null)&&b("bs_caml_obj").caml_equal(c,b("MercuryLogMessageType").SERVER_ERROR))return b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").LOG_MESSAGE);else return!1}function u(a,b){var c=a.thread_fbid,d=a.other_user_fbid;a=a.is_from_iris;if(b==null||!b)b=1;else return!1;if(b===1)if(!(c==null)||!(d==null)||a)return!0;else return!1}f.makeFakeMessage=a;f.isLocalMessage=c;f.isTitanMessage=d;f.finalizeRanges=e;f.canSaveMessage=g;f.getSavedMessages=h;f.shouldSortForPayloadSource=i;f.isOutbound=j;f.isInbound=k;f.isSending=l;f.isSent=m;f.compare=n;f.hasError=o;f.getError=p;f.getDeliveryState=q;f.getPersonaData=r;f.getPersona=s;f.isErrorLogMessage=t;f.hasServerTimestamp=u}),null);
__d("RemoteAction.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){return 0}function a(){return[g]}function c(a,b){if(b[0]===g){b[0]=a;return b}}function d(a){a[0]=g;return 0}function e(a,c){return b("bs_curry")._1(a[0],c)}f.create=a;f.subscribe=c;f.unsubscribe=d;f.send=e}),null);
__d("MessengerPersistantViewerKeyedSubscriptionComponent.bs",["bs_curry","React","bs_belt_Id","CurrentUser","bs_js_primitive","RemoteAction.bs","bs_caml_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=[0],d=function(a,c){return b("bs_caml_primitive").caml_int_compare(a[0],c[0])};b("bs_belt_Id").MakeComparable([d]);var e={},f=function(a,c){a=a!==void 0?b("bs_js_primitive").valFromOption(a):b("CurrentUser").getID();var d=e[a];if(d!==void 0)return b("RemoteAction.bs").send(d[0],c);else{d=g(a,void 0,0);return b("RemoteAction.bs").send(d[0],c)}},g=function(d,g,h){__p&&__p();h=g!==void 0?b("bs_js_primitive").valFromOption(g):b("RemoteAction.bs").create(0);var i=new Set(),j=[b("bs_curry")._1(a[0],d)];b("RemoteAction.bs").subscribe(function(c){var d=j[0];j[0]=b("bs_curry")._2(a[1],c,d);if(j[0]!==d){i.forEach(function(a){return b("bs_curry")._1(a[1],0)});return 0}else return 0},h);g=function(a,d){__p&&__p();var e=b("React").useState(function(){return j[0]}),f=e[1],g=e[0],h=b("React").useCallback(function(){if(a!==void 0)if(b("bs_curry")._2(a,g,j[0]))return b("bs_curry")._1(f,function(){return j[0]});else return 0;else return b("bs_curry")._1(f,function(){return j[0]})},[a,g,j[0]]);b("React").useEffect(function(){c[0]=c[0]+1|0;var a=c[0],d=[a,h];i.add(d);b("bs_curry")._1(h,0);return function(){i["delete"](d);return 0}},[h]);return b("bs_curry")._1(d,g)};h=[h,g];e[d]=h;var k=b("bs_js_primitive").some(d);b("bs_curry")._2(a[2],d,function(a){return f(k,a)});return h};d=function(a){var c=a.shouldUpdate,d=a.remoteAction,f=a.fbid;f=f!==void 0?b("bs_js_primitive").valFromOption(f):b("CurrentUser").getID();a=a.children;var h=e[f];if(h!==void 0)return b("bs_curry")._2(h[1],c,a);else return b("bs_curry")._2(g(f,d,0)[1],c,a)};d.displayName="MessengerPersistantViewerKeyedSubscriptionComponent("+(a[3]+")");return[d,f]}f.Make=a}),null);
__d("MessengerPersonas.bs",["bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function a(a){if(a==null)return 0;else{var b=g[a.id];if(b!==void 0)return 0;else{g[a.id]=a;return 0}}}function c(a){return b("bs_js_null_undefined").fromOption(b("bs_js_primitive").undefined_to_opt(g[a]))}f.personas=g;f.addPersona=a;f.getNow=c}),null);
__d("JSResourceReference",["Promise","Bootloader","ifRequired"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){return a};function a(a){"use strict";this.$1=a}a.prototype.getModuleId=function(){"use strict";var a=this.$1;return a};a.prototype.getModuleIdAsRef=function(){"use strict";return this.$1};a.prototype.load=function(){"use strict";return new(b("Promise"))(function(a){b("Bootloader").loadModules.call(b("Bootloader"),[this.$1],a,this.$2||"JSResource: unknown caller")}.bind(this))};a.prototype.preload=function(){"use strict";b("Bootloader").preloadModules.call(b("Bootloader"),[this.$1])};a.prototype.equals=function(a){"use strict";return this===a||this.$1==a.$1};a.prototype.getModuleIfRequired=function(){"use strict";return b("ifRequired").call(null,this.$1,g)};a.prototype.__setRef=function(a){"use strict";this.$2=a;return this};a.loadAll=function(a,c){"use strict";__p&&__p();var d={},e=!1;for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i=i.$2;i&&(e=!0,d[i]=!0)}b("Bootloader").loadModules.call(b("Bootloader"),a.map(function(a){return a.getModuleId()}),c,e?Object.keys(d).join(":"):"JSResource: unknown caller")};e.exports=a}),null);
__d("JSResource",["JSResourceReference"],(function(a,b,c,d,e,f){function a(a){return new(b("JSResourceReference"))(a)}a.Reference=b("JSResourceReference");a.loadAll=b("JSResourceReference").loadAll;e.exports=a}),null);
__d("MessengerSharedMediaActionsLoader",["JSResource"],(function(a,b,c,d,e,f){"use strict";a={deletePhotos:function(a,c){b("JSResource").loadAll([b("JSResource")("MessengerSharedMediaActions").__setRef("MessengerSharedMediaActionsLoader")],function(b){b.deletePhotos(a,c)})}};e.exports=a}),null);
__d("MessengerJoinableModeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRIVATE:0,JOINABLE:1})}),null);
__d("MessengerThreadUtils.bs",["FBID.bs","bs_caml_obj","MercuryIDs","CurrentUser","MessagingTag","ImmutableObject","MessengerParticipants.bs","MercuryParticipantTypes","MessengerJoinableModeType","MessengerObjectAssociationType","MessengerThreadCannotReplyReason"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){return c.filter(function(c){return b("bs_caml_obj").caml_notequal(c,a)}).length<=1}function h(a,c,d,e){var f=b("MercuryIDs").tokenize(c),h=f.type;f=f.value;var i=d.find(function(b){return b!==a});i=i!==void 0?b("MessengerParticipants.bs").getNow(i):null;var j=b("CurrentUser").isWorkUser();j=!(i==null)&&j&&i.work_foreign_entity_info==null&&i.user_type===b("MercuryParticipantTypes").USER?[!1,b("MessengerThreadCannotReplyReason").RECIPIENTS_INVALID]:[!0,null];i=h==="user";return new(b("ImmutableObject"))({thread_id:c,participants:Array.from(d),admins:{},name:"",snippet:"",snippet_sender:null,unread_count:e==null?0:e,message_count:0,image_src:null,timestamp:0,other_user_fbid:i?b("FBID.bs").ofStringExn(f):null,is_canonical_user:h==="user",is_canonical:g(a,d),is_subscribed:!0,folder:b("MessagingTag").INBOX,is_archived:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,admin_model_status:null,approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:j[0],cannot_reply_reason:j[1],can_viewer_report:!1,comm_item_owners:null,comm_source_id:null,comm_status:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,footer_color:null,game_id:null,group_approval_queue:null,work_associated_group:null,groups_sync_status:null,has_email_participant:!1,has_montage:!1,header_color:null,is_canonical_neo_user:!1,is_from_weak_entry_point:!1,is_pin_protected:!1,is_pinned:!1,is_thread_queue_enabled:!1,joinable_mode:{mode:0,link:""},last_message_timestamp:0,last_message_id:null,last_message_type:null,last_read_timestamp:0,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,mute_until:null,object_association_type:null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants_event_status:null,reactions_mute_mode:0,read_only:!1,recipients_loadable:!1,rtc_call_data:null,server_timestamp:0,snippet_attachments:[],solid_color:null,subtitle:null,theme_id:null,thread_connectivity_data:null,thread_fbid:null,thread_pin_timestamp:null,thread_type:null,thread_unsendability_status:null,gradient_colors:[],joinable_link:null,linked_mentorship_programs:null})}function a(a,c,d,e){a=h(a,c,d,null);return b("ImmutableObject").set(a,{associated_object:e,name:e.name,joinable_mode:{mode:b("MessengerJoinableModeType").JOINABLE,link:""},object_association_type:b("MessengerObjectAssociationType").GENERAL_CHAT})}f.isCanonicalFromInitialParticipants=g;f.createNewLocalThread=h;f.createNewLocalGroupGeneralThread=a}),null);
__d("ParticipantId.bs",["bs_string","bs_belt_Id"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable([a]);d=c[0];f.cmp=d}),null);
__d("ThreadConnectivityStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNCONNECTED:0,IMPLICIT_OR_TWO_WAY_MESSAGING:1})}),null);
__d("ThreadConnectivityStatus.bs",["bs_caml_obj","ThreadConnectivityStatus","ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("bs_caml_obj").caml_equal(a,b("ThreadConnectivityStatus").UNCONNECTED);if(a)return b("ThreadConnectivityStatusGraphQLType.bs").unconnected;else return b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging}f.toGraphQLValue=a}),null);
__d("ThreadId.bs",["bs_string","bs_belt_Id"],(function(a,b,c,d,e,f){"use strict";a=b("bs_string").compare;c=b("bs_belt_Id").MakeComparable([a]);d=c[0];f.cmp=d}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},badge_type:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("XMercuryThreadLikeIconController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/like_icon/",{emoji:{type:"String",defaultValue:""}})}),null);
__d("bs_belt_SortArray",["bs_curry","bs_belt_Array"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d,e){__p&&__p();while(!0){var f=c,g=b;if(f>=d)return f;else{var h=a[f];if(e(h,g)){c=f+1|0;b=h;continue}else return f}}}function h(a,b){__p&&__p();var c=a.length;if(c===0||c===1)return c;else{var d=a[0],e=a[1];if(b(d,e)){var f=a,h=e,i=2,j=c,k=b;while(!0){var l=i,m=h;if(l>=j)return l;else{var n=f[l];if(k(m,n)){i=l+1|0;h=n;continue}else return l}}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){__p&&__p();var c=a.length;if(c===0)return!0;else{a=a;var d=0;b=b;c=c-1|0;while(!0){var e=d;if(e===c)return!0;else if(b(a[e],a[e+1|0])<=0){d=e+1|0;continue}else return!1}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p<d){i=m+1|0;c=a[p];k=p;continue}else return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0)}else{h[m]=n;p=o+1|0;if(p<g){i=m+1|0;f=e[p];l=p;continue}else return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0)}}}function k(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}else{b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}}else if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(s<d&&t<g){i=r;f=e[t];l=t;c=a[s];k=s;continue}else if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}}else{h[m]=n;p=o+1|0;t=m+1|0;if(p<g){i=t;f=e[p];l=p;continue}else{b("bs_belt_Array").blitUnsafe(a,q,h,t,d-q|0);return(t+d|0)-q|0}}}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){__p&&__p();c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q<c){b=a[q];j=q;continue}else return l}else if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(q<c&&m<f){h=o;e=d[m];k=m;b=a[q];j=q;continue}else return o}else{p=n+1|0;if(p<f){e=d[p];k=p;continue}else return l}}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){__p&&__p();d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r<d){i=p;c=a[r];k=r;continue}else return p}else if(n===0){r=q+1|0;p=o+1|0;if(r<d&&p<g){f=e[p];l=p;c=a[r];k=r;continue}else if(r===d)return m;else{b("bs_belt_Array").blitUnsafe(a,r,h,m,d-r|0);return(m+d|0)-r|0}}else{n=o+1|0;if(n<g){f=e[n];l=n;continue}else{b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0,e=e-1|0;g<=e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}return 0}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);else{var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}}function q(a,b){__p&&__p();var c=a.length;if(c<=5)return o(a,0,a,0,c,b);else{var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){__p&&__p();var d=a.length;if(d===0)return-1;else{var e=a[0];e=c(b,e);if(e<0)return-1;else{e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=a;a=0;d=d-1|0;b=b;c=c;while(!0){var f=d,g=a,h=(g+f|0)/2|0,i=e[h];i=c(b,i);if(i===0)return h;else if(i<0)if(f===h)if(c(e[g],b)===0)return g;else return-(f+1|0)|0;else{d=h;continue}else if(g===h)if(c(e[f],b)===0)return f;else return-(f+1|0)|0;else{a=h;continue}}}}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w=0,x=0;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("bs_belt_internalAVLtree",["bs_curry","bs_js_primitive","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==null)return a.height;else return 0}function h(a){if(a!==null){var b=a.left,c=a.right;return{key:a.key,value:a.value,height:a.height,left:h(b),right:h(c)}}else return a}function i(a,b,c,d){var e=g(a),f=g(d);return{key:b,value:c,height:e>=f?e+1|0:f+1|0,left:a,right:d}}function j(a,b){return{key:a,value:b,height:1,left:null,right:null}}function k(a,b){if(b!==null)if(a!==null)return a.height>=b.height;else return!1;else return!0}function a(a,b){if(a.value===b)return a;else return{key:a.key,value:b,height:a.height,left:a.left,right:a.right}}function l(a,b,c,d){__p&&__p();var e=a!==null?a.height:0,f=d!==null?d.height:0;if(e>(f+2|0)){var h=a.left,j=a.key,k=a.value,l=a.right;if(g(h)>=g(l))return i(h,j,k,i(l,b,c,d));else{var m=l.left,n=l.key,o=l.value;l=l.right;return i(i(h,j,k,m),n,o,i(l,b,c,d))}}else if(f>(e+2|0)){h=d.left;j=d.key;k=d.value;m=d.right;if(g(m)>=g(h))return i(i(a,b,c,h),j,k,m);else{n=h.left;o=h.key;l=h.value;h=h.right;return i(i(a,b,c,n),o,l,i(h,j,k,m))}}else return{key:b,value:c,height:e>=f?e+1|0:f+1|0,left:a,right:d}}function m(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return b.key}}function c(a){if(a!==null)return b("bs_js_primitive").some(m(a))}function d(a){if(a!==null)return m(a)}function n(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return b.key}}function e(a){if(a!==null)return b("bs_js_primitive").some(n(a))}function o(a){if(a!==null)return n(a)}function p(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return[b.key,b.value]}}function q(a){if(a!==null)return p(a)}function r(a){if(a!==null)return p(a)}function s(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return[b.key,b.value]}}function t(a){if(a!==null)return s(a)}function aa(a){if(a!==null)return s(a)}function u(a,b,c){var d=a.left,e=a.right,f=a.key;a=a.value;if(d!==null)return l(u(d,b,c),f,a,e);else{b[0]=f;c[0]=a;return e}}function ba(a){return a===null}function v(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d,c];a=d.left;continue}else return c}}function w(a,b){__p&&__p();if(a!==null){var c=w(a.left,b);if(c!==void 0)return c;else{c=a.key;var d=a.value,e=b(c,d);if(e)return[c,d];else{e=w(a.right,b);if(e!==void 0)return e;else return void 0}}}}function ca(a,c){return w(a,b("bs_curry").__2(c))}function x(a,b){__p&&__p();while(!0){var c=a;if(c!==null){x(c.left,b);b(c.key,c.value);a=c.right;continue}else return 0}}function da(a,c){return x(a,b("bs_curry").__2(c))}function y(a,b){if(a!==null){var c=y(a.left,b),d=b(a.value);b=y(a.right,b);return{key:a.key,value:d,height:a.height,left:c,right:b}}else return null}function ea(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){if(a!==null){var c=a.key,d=z(a.left,b),e=b(c,a.value);b=z(a.right,b);return{key:c,value:e,height:a.height,left:d,right:b}}else return null}function fa(a,c){return z(a,b("bs_curry").__2(c))}function A(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e!==null){var f=e.left,g=e.key,h=e.value;e=e.right;b=c(A(f,d,c),g,h);a=e;continue}else return d}}function ga(a,c,d){return A(a,c,b("bs_curry").__3(d))}function B(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.key,c.value)&&B(c.left,b)){a=c.right;continue}else return!1;else return!0}}function ha(a,c){return B(a,b("bs_curry").__2(c))}function C(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.key,c.value)||C(c.left,b))return!0;else{a=c.right;continue}else return!1}}function ia(a,c){return C(a,b("bs_curry").__2(c))}function D(a,b,c){if(a!==null)return l(D(a.left,b,c),a.key,a.value,a.right);else return j(b,c)}function E(a,b,c){if(a!==null)return l(a.left,a.key,a.value,E(a.right,b,c));else return j(b,c)}function F(a,b,c,d){__p&&__p();if(a!==null)if(d!==null){var e=a.left,f=a.key,g=a.value,h=a.right,j=a.height,k=d.left,m=d.key,n=d.value,o=d.right,p=d.height;if(j>(p+2|0))return l(e,f,g,F(h,b,c,d));else if(p>(j+2|0))return l(F(a,b,c,k),m,n,o);else return i(a,b,c,d)}else return E(a,b,c);else return D(d,b,c)}function G(a,b){if(a!==null)if(b!==null){var c=[b.key],d=[b.value],e=u(b,c,d);return F(a,c[0],d[0],e)}else return a;else return b}function ja(a,c,d,e){if(d!==void 0)return F(a,c,b("bs_js_primitive").valFromOption(d),e);else return G(a,e)}function H(a,b){if(a!==null){var c=a.key,d=a.value,e=H(a.left,b),f=b(c,d);a=H(a.right,b);if(f)return F(e,c,d,a);else return G(e,a)}else return null}function ka(a,c){return H(a,b("bs_curry").__2(c))}function I(a,c){if(a!==null){var d=a.key,e=a.value,f=I(a.left,c);e=c(d,e);a=I(a.right,c);if(e!==void 0)return F(f,d,b("bs_js_primitive").valFromOption(e),a);else return G(f,a)}else return null}function la(a,c){return I(a,b("bs_curry").__2(c))}function J(a,b){__p&&__p();if(a!==null){var c=a.key,d=a.value,e=J(a.left,b),f=e[1];e=e[0];var g=b(c,d);a=J(a.right,b);b=a[1];a=a[0];if(g)return[F(e,c,d,a),G(f,b)];else return[G(e,a),F(f,c,d,b)]}else return[null,null]}function ma(a,c){return J(a,b("bs_curry").__2(c))}function K(a){var b=a.left;a=a.right;b=b!==null?K(b):0;a=a!==null?K(a):0;return(1+b|0)+a|0}function L(a){if(a!==null)return K(a);else return 0}function M(a,b){__p&&__p();while(!0){var c=b,d=a;if(d!==null){var e=d.left,f=d.right,g=d.key;d=d.value;b=[[g,d],M(f,c)];a=e;continue}else return c}}function na(a){return M(a,0)}function N(a){__p&&__p();while(!0){var b=a;if(b!==null){var c=b.left;b=b.right;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw new Error('File "belt_internalAVLtree.ml", line 385, characters 6-12');N(c);a=b;continue}else return 0}}function O(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.key;e=e.right;f=f!==null?O(f,d,c):d;c[f]=g;d=f+1|0;if(e!==null){b=d;a=e;continue}else return d}}function P(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.right;f=f!==null?P(f,d,c):d;c[f]=e.value;d=f+1|0;if(g!==null){b=d;a=g;continue}else return d}}function Q(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.key,h=e.right;f=f!==null?Q(f,d,c):d;c[f]=[g,e.value];d=f+1|0;if(h!==null){b=d;a=h;continue}else return d}}function oa(b){if(b!==null){var a=K(b);a=new Array(a);Q(b,0,a);return a}else return[]}function pa(b){if(b!==null){var a=K(b);a=new Array(a);O(b,0,a);return a}else return[]}function qa(b){if(b!==null){var a=K(b);a=new Array(a);P(b,0,a);return a}else return[]}function R(a,b,c){__p&&__p();if(c>3||c<0){var d=c/2|0,e=R(a,b,d),f=a[b-d|0];d=R(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f[0],f[1],d)}else switch(c){case 0:return null;case 1:e=a[b];return j(e[0],e[1]);case 2:f=a[b];d=a[b-1|0];c=d;e=f;return{key:c[0],value:c[1],height:2,left:j(e[0],e[1]),right:null};case 3:d=a[b];f=a[b-1|0];c=a[b-2|0];e=c;a=f;b=d;return{key:a[0],value:a[1],height:2,left:j(b[0],b[1]),right:j(e[0],e[1])}}}function S(a,b,c){__p&&__p();if(c>3||c<0){var d=c/2|0,e=S(a,b,d),f=a[b+d|0];d=S(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f[0],f[1],d)}else switch(c){case 0:return null;case 1:e=a[b];return j(e[0],e[1]);case 2:f=a[b];d=a[b+1|0];c=d;e=f;return{key:c[0],value:c[1],height:2,left:j(e[0],e[1]),right:null};case 3:d=a[b];f=a[b+1|0];c=a[b+2|0];e=c;a=f;b=d;return{key:a[0],value:a[1],height:2,left:j(b[0],b[1]),right:j(e[0],e[1])}}}function ra(a){return S(a,0,a.length)}function T(a,b,c,d){__p&&__p();var e=L(a),f=L(b);if(e===f){a=v(a,0);b=v(b,0);c=c;d=d;while(!0){var g=b,h=a;if(h&&g){var i=g[0],j=h[0],k=c(j.key,i.key);if(k===0){var l=d(j.value,i.value);if(l===0){b=v(i.right,g[1]);a=v(j.right,h[1]);continue}else return l}else return k}else return 0}}else if(e<f)return-1;else return 1}function sa(a,c,d,e){return T(a,c,d,b("bs_curry").__2(e))}function U(a,b,c,d){__p&&__p();var e=L(a),f=L(b);if(e===f){e=v(a,0);f=v(b,0);a=c;b=d;while(!0){c=f;d=e;if(d&&c){var g=c[0],h=d[0];if(a(h.key,g.key)===0&&b(h.value,g.value)){f=v(g.right,c[1]);e=v(h.right,d[1]);continue}else return!1}else return!0}}else return!1}function ta(a,c,d,e){return U(a,c,d,b("bs_curry").__2(e))}function ua(c,d,a){__p&&__p();while(!0){var e=c;if(e!==null){var f=e.key;f=a(d,f);if(f===0)return b("bs_js_primitive").some(e.value);else{c=f<0?e.left:e.right;continue}}else return void 0}}function va(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return d.value;else{b=e<0?d.left:d.right;continue}}else return void 0}}function wa(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return d.value;else{b=e<0?d.left:d.right;continue}}else throw new Error("getExn0")}}function xa(b,c,d,a){__p&&__p();while(!0){var e=b;if(e!==null){var f=e.key;f=a(c,f);if(f===0)return e.value;else{b=f<0?e.left:e.right;continue}}else return d}}function ya(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.key;e=a(c,e);if(e===0)return!0;else{b=e<0?d.left:d.right;continue}}else return!1}}function V(a){var b=a.left;a.left=b.right;b.right=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.left);d=a.height;b.height=(c>d?c:d)+1|0;return b}function W(a){var b=a.right;a.right=b.left;b.left=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.right);d=a.height;b.height=(c>d?c:d)+1|0;return b}function za(a){var b=W(a.left);a.left=b;return V(a)}function Aa(a){var b=V(a.right);a.right=b;return W(a)}function X(a){var b=g(a.left),c=g(a.right);a.height=(b>c?b:c)+1|0;return a}function Y(a){__p&&__p();var b=a.left,c=a.right,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.left;b=b.right;if(k(f,b))return X(V(a));else return X(za(a))}else if(e>(2+d|0)){f=c.left;b=c.right;if(k(b,f))return X(W(a));else return X(Aa(a))}else{a.height=(d>e?d:e)+1|0;return a}}function Z(b,c,d,a){__p&&__p();if(b!==null){var e=b.key;e=a(c,e);if(e===0){b.value=d;return b}else{var f=b.left,g=b.right;if(e<0){e=Z(f,c,d,a);b.left=e}else b.right=Z(g,c,d,a);return Y(b)}}else return j(c,d)}function Ba(c,a){__p&&__p();var d=c.length;if(d===0)return null;else{var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b[0],c[0])<0}),f;e>=0?f=S(c,0,e):(e=-e|0,f=R(c,e-1|0,e));for(var e=e,d=d-1|0;e<=d;++e){var g=c[e];f=Z(f,g[0],g[1],a)}return f}}function $(a,b){var c=b.right,d=b.left;if(d!==null){b.left=$(a,d);return Y(b)}else{a.key=b.key;return c}}var Ca=null;f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.updateValue=a;f.minKey=c;f.minKeyUndefined=d;f.maxKey=e;f.maxKeyUndefined=o;f.minimum=q;f.minUndefined=r;f.maximum=t;f.maxUndefined=aa;f.removeMinAuxWithRef=u;f.empty=Ca;f.isEmpty=ba;f.stackAllLeft=v;f.findFirstByU=w;f.findFirstBy=ca;f.forEachU=x;f.forEach=da;f.mapU=y;f.map=ea;f.mapWithKeyU=z;f.mapWithKey=fa;f.reduceU=A;f.reduce=ga;f.everyU=B;f.every=ha;f.someU=C;f.some=ia;f.join=F;f.concat=G;f.concatOrJoin=ja;f.keepSharedU=H;f.keepShared=ka;f.keepMapU=I;f.keepMap=la;f.partitionSharedU=J;f.partitionShared=ma;f.lengthNode=K;f.size=L;f.toList=na;f.checkInvariantInternal=N;f.fillArray=Q;f.toArray=oa;f.keysToArray=pa;f.valuesToArray=qa;f.fromSortedArrayAux=S;f.fromSortedArrayRevAux=R;f.fromSortedArrayUnsafe=ra;f.cmpU=T;f.cmp=sa;f.eqU=U;f.eq=ta;f.get=ua;f.getUndefined=va;f.getWithDefault=xa;f.getExn=wa;f.has=ya;f.fromArray=Ba;f.updateMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_MapDict",["bs_curry","bs_js_primitive","bs_belt_internalAVLtree"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(c,d,e,a){__p&&__p();if(c!==null){var f=c.key,h=a(d,f);if(h===0)return b("bs_belt_internalAVLtree").updateValue(c,e);else{var i=c.left,j=c.right;c=c.value;if(h<0)return b("bs_belt_internalAVLtree").bal(g(i,d,e,a),f,c,j);else return b("bs_belt_internalAVLtree").bal(i,f,c,g(j,d,e,a))}}else return b("bs_belt_internalAVLtree").singleton(d,e)}function h(c,d,e,a){__p&&__p();if(c!==null){var f=c.key,g=a(d,f);if(g===0){var i=e(b("bs_js_primitive").some(c.value));if(i!==void 0)return b("bs_belt_internalAVLtree").updateValue(c,b("bs_js_primitive").valFromOption(i));else{i=c.left;var j=c.right;if(i!==null)if(j!==null){var k=[j.key],l=[j.value],m=b("bs_belt_internalAVLtree").removeMinAuxWithRef(j,k,l);return b("bs_belt_internalAVLtree").bal(i,k[0],l[0],m)}else return i;else return j}}else{k=c.left;l=c.right;m=c.value;if(g<0){i=h(k,d,e,a);if(k===i)return c;else return b("bs_belt_internalAVLtree").bal(i,f,m,l)}else{j=h(l,d,e,a);if(l===j)return c;else return b("bs_belt_internalAVLtree").bal(k,f,m,j)}}}else{g=e(void 0);if(g!==void 0)return b("bs_belt_internalAVLtree").singleton(d,b("bs_js_primitive").valFromOption(g));else return c}}function a(c,d,e,a){return h(c,d,b("bs_curry").__1(e),a)}function i(c,d,a){__p&&__p();var e=c.left,f=c.key,g=c.right,h=a(d,f);if(h===0)if(e!==null)if(g!==null){var j=[g.key],k=[g.value],l=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,j,k);return b("bs_belt_internalAVLtree").bal(e,j[0],k[0],l)}else return e;else return g;else if(h<0)if(e!==null){j=i(e,d,a);if(j===e)return c;else return b("bs_belt_internalAVLtree").bal(j,f,c.value,g)}else return c;else if(g!==null){k=i(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLtree").bal(e,f,c.value,k)}else return c}function c(c,d,a){if(c!==null)return i(c,d,a);else return b("bs_belt_internalAVLtree").empty}function d(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=g(b,f[0],f[1],a)}return b}function j(c,d,e,a){__p&&__p();var f=c.left,g=c.key,h=c.value,i=c.right,k=a(d,g);if(k===0){e[0]=b("bs_js_primitive").some(h);return[f,i]}else if(k<0)if(f!==null){k=j(f,d,e,a);return[k[0],b("bs_belt_internalAVLtree").join(k[1],g,h,i)]}else return[b("bs_belt_internalAVLtree").empty,c];else if(i!==null){k=j(i,d,e,a);return[b("bs_belt_internalAVLtree").join(f,g,h,k[0]),k[1]]}else return[c,b("bs_belt_internalAVLtree").empty]}function e(c,d,a){if(c!==null){var e=[void 0];c=j(c,d,e,a);return[c,e[0]]}else return[[b("bs_belt_internalAVLtree").empty,b("bs_belt_internalAVLtree").empty],void 0]}function k(c,d,e,a){__p&&__p();if(c!==null)if(d!==null)if(c.height>=d.height){var f=c.left,g=c.key,h=c.value,i=c.right,l=[void 0],m=j(d,g,l,a);l=l[0];f=k(f,m[0],e,a);h=e(g,b("bs_js_primitive").some(h),l);l=k(i,m[1],e,a);return b("bs_belt_internalAVLtree").concatOrJoin(f,g,h,l)}else{i=d.left;m=d.key;f=d.value;g=d.right;h=[void 0];l=j(c,m,h,a);h=h[0];i=k(l[0],i,e,a);h=e(m,h,b("bs_js_primitive").some(f));f=k(l[1],g,e,a);return b("bs_belt_internalAVLtree").concatOrJoin(i,m,h,f)}else return b("bs_belt_internalAVLtree").keepMapU(c,function(a,c){return e(a,b("bs_js_primitive").some(c),void 0)});else if(d!==null)return b("bs_belt_internalAVLtree").keepMapU(d,function(a,c){return e(a,void 0,b("bs_js_primitive").some(c))});else return b("bs_belt_internalAVLtree").empty}function l(c,d,e,a){return k(c,d,b("bs_curry").__3(e),a)}function m(c,d,a){__p&&__p();var e=d.length;if(c!==null){c=c;d=d;var f=0;e=e;a=a;while(!0){var g=f,h=c;if(g<e){var j=d[g];j=i(h,j,a);if(j!==null){f=g+1|0;c=j;continue}else return j}else return h}}else return b("bs_belt_internalAVLtree").empty}var n=b("bs_belt_internalAVLtree").empty,o=b("bs_belt_internalAVLtree").isEmpty,p=b("bs_belt_internalAVLtree").has,q=b("bs_belt_internalAVLtree").cmpU,r=b("bs_belt_internalAVLtree").cmp,s=b("bs_belt_internalAVLtree").eqU,t=b("bs_belt_internalAVLtree").eq,u=b("bs_belt_internalAVLtree").findFirstByU,v=b("bs_belt_internalAVLtree").findFirstBy,w=b("bs_belt_internalAVLtree").forEachU,x=b("bs_belt_internalAVLtree").forEach,y=b("bs_belt_internalAVLtree").reduceU,z=b("bs_belt_internalAVLtree").reduce,A=b("bs_belt_internalAVLtree").everyU,B=b("bs_belt_internalAVLtree").every,C=b("bs_belt_internalAVLtree").someU,D=b("bs_belt_internalAVLtree").some,E=b("bs_belt_internalAVLtree").size,F=b("bs_belt_internalAVLtree").toList,G=b("bs_belt_internalAVLtree").toArray,H=b("bs_belt_internalAVLtree").fromArray,I=b("bs_belt_internalAVLtree").keysToArray,J=b("bs_belt_internalAVLtree").valuesToArray,K=b("bs_belt_internalAVLtree").minKey,L=b("bs_belt_internalAVLtree").minKeyUndefined,M=b("bs_belt_internalAVLtree").maxKey,N=b("bs_belt_internalAVLtree").maxKeyUndefined,O=b("bs_belt_internalAVLtree").minimum,P=b("bs_belt_internalAVLtree").minUndefined,Q=b("bs_belt_internalAVLtree").maximum,R=b("bs_belt_internalAVLtree").maxUndefined,S=b("bs_belt_internalAVLtree").get,T=b("bs_belt_internalAVLtree").getUndefined,U=b("bs_belt_internalAVLtree").getWithDefault,V=b("bs_belt_internalAVLtree").getExn,W=b("bs_belt_internalAVLtree").checkInvariantInternal,X=b("bs_belt_internalAVLtree").keepSharedU,Y=b("bs_belt_internalAVLtree").keepShared,Z=b("bs_belt_internalAVLtree").partitionSharedU,$=b("bs_belt_internalAVLtree").partitionShared,aa=b("bs_belt_internalAVLtree").mapU,ba=b("bs_belt_internalAVLtree").map,ca=b("bs_belt_internalAVLtree").mapWithKeyU,da=b("bs_belt_internalAVLtree").mapWithKey;f.empty=n;f.isEmpty=o;f.has=p;f.cmpU=q;f.cmp=r;f.eqU=s;f.eq=t;f.findFirstByU=u;f.findFirstBy=v;f.forEachU=w;f.forEach=x;f.reduceU=y;f.reduce=z;f.everyU=A;f.every=B;f.someU=C;f.some=D;f.size=E;f.toList=F;f.toArray=G;f.fromArray=H;f.keysToArray=I;f.valuesToArray=J;f.minKey=K;f.minKeyUndefined=L;f.maxKey=M;f.maxKeyUndefined=N;f.minimum=O;f.minUndefined=P;f.maximum=Q;f.maxUndefined=R;f.get=S;f.getUndefined=T;f.getWithDefault=U;f.getExn=V;f.checkInvariantInternal=W;f.remove=c;f.removeMany=m;f.set=g;f.updateU=h;f.update=a;f.mergeU=k;f.merge=l;f.mergeMany=d;f.keepU=X;f.keep=Y;f.partitionU=Z;f.partition=$;f.split=e;f.mapU=aa;f.map=ba;f.mapWithKeyU=ca;f.mapWithKey=da}),null);
__d("bs_belt_Map",["bs_curry","bs_belt_MapDict"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c[0];return{cmp:c,data:b("bs_belt_MapDict").fromArray(a,c)}}function c(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_MapDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp;c=c.data;c=b("bs_belt_MapDict").removeMany(c,d,a);return{cmp:a,data:c}}function e(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").set(c.data,d,e,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeMany(c.data,d,a)}}function h(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").updateU(c.data,d,e,a)}}function i(a,c,d){return h(a,c,b("bs_curry").__1(d))}function j(c,d){var a=c.cmp;c=b("bs_belt_MapDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function k(c,d,e){var a=c.cmp;return{cmp:a,data:b("bs_belt_MapDict").mergeU(c.data,d.data,e,a)}}function l(a,c,d){return k(a,c,b("bs_curry").__3(d))}function m(a){return{cmp:a[0],data:b("bs_belt_MapDict").empty}}function n(a){return b("bs_belt_MapDict").isEmpty(a.data)}function o(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,c)}function p(a,c){return b("bs_belt_MapDict").findFirstByU(a.data,b("bs_curry").__2(c))}function q(a,c){return b("bs_belt_MapDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_MapDict").forEachU(a.data,b("bs_curry").__2(c))}function s(a,c,d){return b("bs_belt_MapDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__3(d))}function u(a,c){return b("bs_belt_MapDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_MapDict").everyU(a.data,b("bs_curry").__2(c))}function w(a,c){return b("bs_belt_MapDict").someU(a.data,c)}function x(a,c){return b("bs_belt_MapDict").someU(a.data,b("bs_curry").__2(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__2(c))}function A(c,d){var a=c.cmp;c=b("bs_belt_MapDict").partitionU(c.data,d);return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__2(c))}function C(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapU(a.data,c)}}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,c){return{cmp:a.cmp,data:b("bs_belt_MapDict").mapWithKeyU(a.data,c)}}function F(a,c){return E(a,b("bs_curry").__2(c))}function G(a){return b("bs_belt_MapDict").size(a.data)}function H(a){return b("bs_belt_MapDict").toList(a.data)}function I(a){return b("bs_belt_MapDict").toArray(a.data)}function J(a){return b("bs_belt_MapDict").keysToArray(a.data)}function K(a){return b("bs_belt_MapDict").valuesToArray(a.data)}function L(a){return b("bs_belt_MapDict").minKey(a.data)}function M(a){return b("bs_belt_MapDict").minKeyUndefined(a.data)}function N(a){return b("bs_belt_MapDict").maxKey(a.data)}function O(a){return b("bs_belt_MapDict").maxKeyUndefined(a.data)}function P(a){return b("bs_belt_MapDict").minimum(a.data)}function Q(a){return b("bs_belt_MapDict").minUndefined(a.data)}function R(a){return b("bs_belt_MapDict").maximum(a.data)}function S(a){return b("bs_belt_MapDict").maxUndefined(a.data)}function T(a,c){return b("bs_belt_MapDict").get(a.data,c,a.cmp)}function U(a,c){return b("bs_belt_MapDict").getUndefined(a.data,c,a.cmp)}function V(a,c,d){return b("bs_belt_MapDict").getWithDefault(a.data,c,d,a.cmp)}function W(a,c){return b("bs_belt_MapDict").getExn(a.data,c,a.cmp)}function X(a,c){return b("bs_belt_MapDict").has(a.data,c,a.cmp)}function Y(a){return b("bs_belt_MapDict").checkInvariantInternal(a.data)}function Z(a,c,d){return b("bs_belt_MapDict").eqU(a.data,c.data,a.cmp,d)}function aa(a,c,d){return Z(a,c,b("bs_curry").__2(d))}function $(a,c,d){return b("bs_belt_MapDict").cmpU(a.data,c.data,a.cmp,d)}function ba(a,c,d){return $(a,c,b("bs_curry").__2(d))}function ca(a){return a.data}function da(a){a=a.cmp;return[a]}function ea(a,b){return{cmp:a[0],data:b}}var fa=0,ga=0,ha=0;f.Int=fa;f.$$String=ga;f.Dict=ha;f.make=m;f.isEmpty=n;f.has=X;f.cmpU=$;f.cmp=ba;f.eqU=Z;f.eq=aa;f.findFirstByU=o;f.findFirstBy=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.size=G;f.toArray=I;f.toList=H;f.fromArray=a;f.keysToArray=J;f.valuesToArray=K;f.minKey=L;f.minKeyUndefined=M;f.maxKey=N;f.maxKeyUndefined=O;f.minimum=P;f.minUndefined=Q;f.maximum=R;f.maxUndefined=S;f.get=T;f.getUndefined=U;f.getWithDefault=V;f.getExn=W;f.remove=c;f.removeMany=d;f.set=e;f.updateU=h;f.update=i;f.mergeMany=g;f.mergeU=k;f.merge=l;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.split=j;f.mapU=C;f.map=D;f.mapWithKeyU=E;f.mapWithKey=F;f.getData=ca;f.getId=da;f.packIdData=ea;f.checkInvariantInternal=Y}),null);
__d("bs_belt_internalMapString",["bs_curry","bs_js_primitive","bs_belt_SortArray","bs_caml_primitive","bs_belt_internalAVLtree"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);else{var f=a.value;if(c<e)return b("bs_belt_internalAVLtree").bal(g(a.left,c,d),e,f,a.right);else return b("bs_belt_internalAVLtree").bal(a.left,e,f,g(a.right,c,d))}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function a(a,c){__p&&__p();while(!0){var d=a;if(d!==null){var e=d.key;if(c===e)return b("bs_js_primitive").some(d.value);else{a=c<e?d.left:d.right;continue}}else return void 0}}function c(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return c.value;else{a=b<d?c.left:c.right;continue}}else return void 0}}function d(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return c.value;else{a=b<d?c.left:c.right;continue}}else throw new Error("getExn")}}function e(a,b,c){__p&&__p();while(!0){var d=a;if(d!==null){var e=d.key;if(b===e)return d.value;else{a=b<e?d.left:d.right;continue}}else return c}}function h(a,b){__p&&__p();while(!0){var c=a;if(c!==null){var d=c.key;if(b===d)return!0;else{a=b<d?c.left:c.right;continue}}else return!1}}function i(a,c){__p&&__p();if(a!==null){var d=a.left,e=a.key,f=a.right;if(c===e)if(d!==null)if(f!==null){var g=[f.key],h=[f.value],j=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(d,g[0],h[0],j)}else return d;else return f;else if(c<e)return b("bs_belt_internalAVLtree").bal(i(d,c),e,a.value,f);else return b("bs_belt_internalAVLtree").bal(d,e,a.value,i(f,c))}else return a}function j(a,c){__p&&__p();var d=c.left,e=c.key,f=c.value,g=c.right;if(a===e)return[d,b("bs_js_primitive").some(f),g];else if(a<e)if(d!==null){var h=j(a,d);return[h[0],h[1],b("bs_belt_internalAVLtree").join(h[2],e,f,g)]}else return[b("bs_belt_internalAVLtree").empty,void 0,c];else if(g!==null){h=j(a,g);return[b("bs_belt_internalAVLtree").join(d,e,f,h[0]),h[1],h[2]]}else return[c,void 0,b("bs_belt_internalAVLtree").empty]}function k(a,c){if(c!==null)return j(a,c);else return[b("bs_belt_internalAVLtree").empty,void 0,b("bs_belt_internalAVLtree").empty]}function l(a,c,d){__p&&__p();if(a!==null)if(a.height>=(c!==null?c.height:0)){var e=a.left,f=a.key,g=a.value,h=a.right,i=k(f,c);return b("bs_belt_internalAVLtree").concatOrJoin(l(e,i[0],d),f,d(f,b("bs_js_primitive").some(g),i[1]),l(h,i[2],d))}else e=1;else if(c!==null)e=1;else return b("bs_belt_internalAVLtree").empty;if(e===1)if(c!==null){f=c.left;g=c.key;h=c.value;i=c.right;e=k(g,a);return b("bs_belt_internalAVLtree").concatOrJoin(l(e[0],f,d),g,d(g,e[1],b("bs_js_primitive").some(h)),l(e[2],i,d))}else return 0}function m(a,c,d){return l(a,c,b("bs_curry").__3(d))}function n(a,c,d){__p&&__p();while(!0){var e=c,f=a;if(f&&e){var g=e[0],h=f[0],i=b("bs_caml_primitive").caml_string_compare(h.key,g.key);if(i===0){var j=d(h.value,g.value);if(j===0){c=b("bs_belt_internalAVLtree").stackAllLeft(g.right,e[1]);a=b("bs_belt_internalAVLtree").stackAllLeft(h.right,f[1]);continue}else return j}else return i}else return 0}}function o(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return n(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else if(e<f)return-1;else return 1}function p(a,c,d){return o(a,c,b("bs_curry").__2(d))}function q(c,d,a){__p&&__p();while(!0){var e=d,f=c;if(f&&e){var g=e[0],h=f[0];if(h.key===g.key&&a(h.value,g.value)){d=b("bs_belt_internalAVLtree").stackAllLeft(g.right,e[1]);c=b("bs_belt_internalAVLtree").stackAllLeft(h.right,f[1]);continue}else return!1}else return!0}}function r(c,d,a){var e=b("bs_belt_internalAVLtree").size(c),f=b("bs_belt_internalAVLtree").size(d);if(e===f)return q(b("bs_belt_internalAVLtree").stackAllLeft(c,0),b("bs_belt_internalAVLtree").stackAllLeft(d,0),a);else return!1}function s(a,c,d){return r(a,c,b("bs_curry").__2(d))}function t(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e){a.key=c;a.value=d;return a}else{var f=a.left,g=a.right;if(c<e){e=t(f,c,d);a.left=e}else a.right=t(g,c,d);return b("bs_belt_internalAVLtree").balMutate(a)}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function u(a){__p&&__p();var c=a.length;if(c===0)return b("bs_belt_internalAVLtree").empty;else{var d=b("bs_belt_SortArray").strictlySortedLengthU(a,function(a,b){return a[0]<b[0]}),e;d>=0?e=b("bs_belt_internalAVLtree").fromSortedArrayAux(a,0,d):(d=-d|0,e=b("bs_belt_internalAVLtree").fromSortedArrayRevAux(a,d-1|0,d));for(var d=d,c=c-1|0;d<=c;++d){var f=a[d];e=t(e,f[0],f[1])}return e}}var v=0,w=0,x=0;f.N=v;f.A=w;f.S=x;f.add=g;f.get=a;f.getUndefined=c;f.getExn=d;f.getWithDefault=e;f.has=h;f.remove=i;f.splitAux=j;f.split=k;f.mergeU=l;f.merge=m;f.compareAux=n;f.cmpU=o;f.cmp=p;f.eqAux=q;f.eqU=r;f.eq=s;f.addMutate=t;f.fromArray=u}),null);
__d("bs_belt_MapString",["bs_curry","bs_js_primitive","bs_belt_internalAVLtree","bs_belt_internalMapString"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e)return b("bs_belt_internalAVLtree").updateValue(a,d);else{var f=a.value;if(c<e)return b("bs_belt_internalAVLtree").bal(g(a.left,c,d),e,f,a.right);else return b("bs_belt_internalAVLtree").bal(a.left,e,f,g(a.right,c,d))}}else return b("bs_belt_internalAVLtree").singleton(c,d)}function h(a,c,d){__p&&__p();if(a!==null){var e=a.key;if(c===e){var f=d(b("bs_js_primitive").some(a.value));if(f!==void 0)return b("bs_belt_internalAVLtree").updateValue(a,b("bs_js_primitive").valFromOption(f));else{f=a.left;var g=a.right;if(f!==null)if(g!==null){var i=[g.key],j=[g.value],k=b("bs_belt_internalAVLtree").removeMinAuxWithRef(g,i,j);return b("bs_belt_internalAVLtree").bal(f,i[0],j[0],k)}else return f;else return g}}else{i=a.left;j=a.right;k=a.value;if(c<e){f=h(i,c,d);if(i===f)return a;else return b("bs_belt_internalAVLtree").bal(f,e,k,j)}else{g=h(j,c,d);if(j===g)return a;else return b("bs_belt_internalAVLtree").bal(i,e,k,g)}}}else{f=d(void 0);if(f!==void 0)return b("bs_belt_internalAVLtree").singleton(c,b("bs_js_primitive").valFromOption(f));else return a}}function a(a,c,d){return h(a,c,b("bs_curry").__1(d))}function i(a,c){__p&&__p();var d=a.left,e=a.key,f=a.right;if(c===e)if(d!==null)if(f!==null){var g=[f.key],h=[f.value],j=b("bs_belt_internalAVLtree").removeMinAuxWithRef(f,g,h);return b("bs_belt_internalAVLtree").bal(d,g[0],h[0],j)}else return d;else return f;else if(c<e)if(d!==null){g=i(d,c);if(g===d)return a;else return b("bs_belt_internalAVLtree").bal(g,e,a.value,f)}else return a;else if(f!==null){h=i(f,c);return b("bs_belt_internalAVLtree").bal(d,e,a.value,h)}else return a}function c(a,c){if(a!==null)return i(a,c);else return b("bs_belt_internalAVLtree").empty}function d(a,c){__p&&__p();var d=c.length;if(a!==null){a=a;c=c;var e=0;d=d;while(!0){var f=e,g=a;if(f<d){var h=c[f];h=i(g,h);if(h!==null){e=f+1|0;a=h;continue}else return h}else return g}}else return b("bs_belt_internalAVLtree").empty}function e(a,b){var c=b.length;a=a;for(var d=0,c=c-1|0;d<=c;++d){var e=b[d];a=g(a,e[0],e[1])}return a}var j=b("bs_belt_internalAVLtree").empty,k=b("bs_belt_internalAVLtree").isEmpty,l=b("bs_belt_internalMapString").has,m=b("bs_belt_internalMapString").cmpU,n=b("bs_belt_internalMapString").cmp,o=b("bs_belt_internalMapString").eqU,p=b("bs_belt_internalMapString").eq,q=b("bs_belt_internalAVLtree").findFirstByU,r=b("bs_belt_internalAVLtree").findFirstBy,s=b("bs_belt_internalAVLtree").forEachU,t=b("bs_belt_internalAVLtree").forEach,u=b("bs_belt_internalAVLtree").reduceU,v=b("bs_belt_internalAVLtree").reduce,w=b("bs_belt_internalAVLtree").everyU,x=b("bs_belt_internalAVLtree").every,y=b("bs_belt_internalAVLtree").someU,z=b("bs_belt_internalAVLtree").some,A=b("bs_belt_internalAVLtree").size,B=b("bs_belt_internalAVLtree").toList,C=b("bs_belt_internalAVLtree").toArray,D=b("bs_belt_internalMapString").fromArray,E=b("bs_belt_internalAVLtree").keysToArray,F=b("bs_belt_internalAVLtree").valuesToArray,G=b("bs_belt_internalAVLtree").minKey,H=b("bs_belt_internalAVLtree").minKeyUndefined,I=b("bs_belt_internalAVLtree").maxKey,J=b("bs_belt_internalAVLtree").maxKeyUndefined,K=b("bs_belt_internalAVLtree").minimum,L=b("bs_belt_internalAVLtree").minUndefined,M=b("bs_belt_internalAVLtree").maximum,N=b("bs_belt_internalAVLtree").maxUndefined,O=b("bs_belt_internalMapString").get,P=b("bs_belt_internalMapString").getUndefined,Q=b("bs_belt_internalMapString").getWithDefault,R=b("bs_belt_internalMapString").getExn,S=b("bs_belt_internalAVLtree").checkInvariantInternal,T=b("bs_belt_internalMapString").mergeU,U=b("bs_belt_internalMapString").merge,V=b("bs_belt_internalAVLtree").keepSharedU,W=b("bs_belt_internalAVLtree").keepShared,X=b("bs_belt_internalAVLtree").partitionSharedU,Y=b("bs_belt_internalAVLtree").partitionShared,Z=b("bs_belt_internalMapString").split,$=b("bs_belt_internalAVLtree").mapU,aa=b("bs_belt_internalAVLtree").map,ba=b("bs_belt_internalAVLtree").mapWithKeyU,ca=b("bs_belt_internalAVLtree").mapWithKey;f.empty=j;f.isEmpty=k;f.has=l;f.cmpU=m;f.cmp=n;f.eqU=o;f.eq=p;f.findFirstByU=q;f.findFirstBy=r;f.forEachU=s;f.forEach=t;f.reduceU=u;f.reduce=v;f.everyU=w;f.every=x;f.someU=y;f.some=z;f.size=A;f.toList=B;f.toArray=C;f.fromArray=D;f.keysToArray=E;f.valuesToArray=F;f.minKey=G;f.minKeyUndefined=H;f.maxKey=I;f.maxKeyUndefined=J;f.minimum=K;f.minUndefined=L;f.maximum=M;f.maxUndefined=N;f.get=O;f.getUndefined=P;f.getWithDefault=Q;f.getExn=R;f.checkInvariantInternal=S;f.remove=c;f.removeMany=d;f.set=g;f.updateU=h;f.update=a;f.mergeU=T;f.merge=U;f.mergeMany=e;f.keepU=V;f.keep=W;f.partitionU=X;f.partition=Y;f.split=Z;f.mapU=$;f.map=aa;f.mapWithKeyU=ba;f.mapWithKey=ca}),null);
__d("bs_belt_internalAVLset",["bs_curry","bs_js_primitive","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==null)return a.height;else return 0}function h(a){if(a!==null){var b=a.left,c=a.right;return{value:a.value,height:a.height,left:h(b),right:h(c)}}else return a}function i(a,b,c){var d=a!==null?a.height:0,e=c!==null?c.height:0;return{value:b,height:d>=e?d+1|0:e+1|0,left:a,right:c}}function j(a){return{value:a,height:1,left:null,right:null}}function k(a,b){if(b!==null)if(a!==null)return a.height>=b.height;else return!1;else return!0}function l(a,b,c){__p&&__p();var d=a!==null?a.height:0,e=c!==null?c.height:0;if(d>(e+2|0)){var f=a.left,g=a.value,h=a.right;if(k(f,h))return i(f,g,i(h,b,c));else{var j=h.left,l=h.value;h=h.right;return i(i(f,g,j),l,i(h,b,c))}}else if(e>(d+2|0)){f=c.left;g=c.value;j=c.right;if(k(j,f))return i(i(a,b,f),g,j);else{l=f.left;h=f.value;f=f.right;return i(i(a,b,l),h,i(f,g,j))}}else return{value:b,height:d>=e?d+1|0:e+1|0,left:a,right:c}}function m(a){while(!0){var b=a,c=b.left;if(c!==null){a=c;continue}else return b.value}}function a(a){if(a!==null)return b("bs_js_primitive").some(m(a))}function c(a){if(a!==null)return m(a)}function n(a){while(!0){var b=a,c=b.right;if(c!==null){a=c;continue}else return b.value}}function d(a){if(a!==null)return b("bs_js_primitive").some(n(a))}function e(a){if(a!==null)return n(a)}function o(a,b){var c=a.left,d=a.right;a=a.value;if(c!==null)return l(o(c,b),a,d);else{b[0]=a;return d}}function p(a){return a===null}function q(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d,c];a=d.left;continue}else return c}}function r(a,b){__p&&__p();while(!0){var c=a;if(c!==null){r(c.left,b);b(c.value);a=c.right;continue}else return 0}}function s(a,c){return r(a,b("bs_curry").__1(c))}function t(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e!==null){var f=e.left,g=e.value;e=e.right;b=c(t(f,d,c),g);a=e;continue}else return d}}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.value)&&v(c.left,b)){a=c.right;continue}else return!1;else return!0}}function w(a,c){return v(a,b("bs_curry").__1(c))}function x(a,b){__p&&__p();while(!0){var c=a;if(c!==null)if(b(c.value)||x(c.left,b))return!0;else{a=c.right;continue}else return!1}}function y(a,c){return x(a,b("bs_curry").__1(c))}function z(a,b){if(a!==null)return l(z(a.left,b),a.value,a.right);else return j(b)}function A(a,b){if(a!==null)return l(a.left,a.value,A(a.right,b));else return j(b)}function B(a,b,c){__p&&__p();if(a!==null)if(c!==null){var d=a.height,e=c.height;if(d>(e+2|0))return l(a.left,a.value,B(a.right,b,c));else if(e>(d+2|0))return l(B(a,b,c.left),c.value,c.right);else return i(a,b,c)}else return A(a,b);else return z(c,b)}function C(a,b){if(a!==null)if(b!==null){var c=[b.value],d=o(b,c);return B(a,c[0],d)}else return a;else return b}function D(a,b){__p&&__p();if(a!==null){var c=a.value,d=D(a.left,b),e=d[1];d=d[0];var f=b(c);a=D(a.right,b);b=a[1];a=a[0];if(f)return[B(d,c,a),C(e,b)];else return[C(d,a),B(e,c,b)]}else return[null,null]}function E(a,c){return D(a,b("bs_curry").__1(c))}function F(a){var b=a.left;a=a.right;b=b!==null?F(b):0;a=a!==null?F(a):0;return(1+b|0)+a|0}function G(a){if(a!==null)return F(a);else return 0}function H(a,b){while(!0){var c=b,d=a;if(d!==null){b=[d.value,H(d.right,c)];a=d.left;continue}else return c}}function I(a){return H(a,0)}function J(a){__p&&__p();while(!0){var b=a;if(b!==null){var c=b.left;b=b.right;var d=g(c)-g(b)|0;if(!(d<=2&&d>=-2))throw new Error('File "belt_internalAVLset.ml", line 302, characters 6-12');J(c);a=b;continue}else return 0}}function K(a,b,c){__p&&__p();while(!0){var d=b,e=a,f=e.left,g=e.value;e=e.right;f=f!==null?K(f,d,c):d;c[f]=g;d=f+1|0;if(e!==null){b=d;a=e;continue}else return d}}function L(a,b,c,d){__p&&__p();while(!0){var e=a,f=e.left,g=e.value;e=e.right;f!==null&&L(f,b,c,d);if(d(g)){f=b.forward;c[f]=g;b.forward=f+1|0}else{f=b.backward;c[f]=g;b.backward=f-1|0}if(e!==null){a=e;continue}else return 0}}function M(a,b,c,d){__p&&__p();while(!0){var e=b,f=a,g=f.left,h=f.value;f=f.right;g=g!==null?M(g,e,c,d):e;e=d(h)?(c[g]=h,g+1|0):g;if(f!==null){b=e;a=f;continue}else return e}}function N(b){if(b!==null){var a=F(b);a=new Array(a);K(b,0,a);return a}else return[]}function O(a,b,c){__p&&__p();if(c>3||c<0){var d=c/2|0,e=O(a,b,d),f=a[b-d|0];d=O(a,(b-d|0)-1|0,(c-d|0)-1|0);return i(e,f,d)}else switch(c){case 0:return null;case 1:return j(a[b]);case 2:e=a[b];f=a[b-1|0];return{value:f,height:2,left:j(e),right:null};case 3:d=a[b];c=a[b-1|0];f=a[b-2|0];return{value:c,height:2,left:j(d),right:j(f)}}}function P(a,b,c){__p&&__p();if(c>3||c<0){var d=c/2|0,e=P(a,b,d),f=a[b+d|0];d=P(a,(b+d|0)+1|0,(c-d|0)-1|0);return i(e,f,d)}else switch(c){case 0:return null;case 1:return j(a[b]);case 2:e=a[b];f=a[b+1|0];return{value:f,height:2,left:j(e),right:null};case 3:d=a[b];c=a[b+1|0];f=a[b+2|0];return{value:c,height:2,left:j(d),right:j(f)}}}function aa(a){return P(a,0,a.length)}function Q(a,b){__p&&__p();if(a!==null){var c=a.left,d=a.value,e=a.right,f=Q(c,b),g=b(d);b=Q(e,b);if(g)if(c===f&&e===b)return a;else return B(f,d,b);else return C(f,b)}else return null}function ba(a,c){return Q(a,b("bs_curry").__1(c))}function R(b,c){if(b!==null){var a=F(b);a=new Array(a);b=M(b,0,a,c);return P(a,0,b)}else return null}function ca(a,c){return R(a,b("bs_curry").__1(c))}function S(b,c){if(b!==null){var a=F(b),d=new Array(a),e=a-1|0,f={forward:0,backward:e};L(b,f,d,c);b=f.forward;return[P(d,0,b),O(d,e,a-b|0)]}else return[null,null]}function da(a,c){return S(a,b("bs_curry").__1(c))}function ea(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value;e=a(c,e);if(e===0)return!0;else{b=e<0?d.left:d.right;continue}}else return!1}}function T(a,b,c){__p&&__p();var d=G(a),e=G(b);if(d===e){a=q(a,0);b=q(b,0);c=c;while(!0){var f=b,g=a;if(g&&f){var h=f[0],i=g[0],j=c(i.value,h.value);if(j===0){b=q(h.right,f[1]);a=q(i.right,g[1]);continue}else return j}else return 0}}else if(d<e)return-1;else return 1}function fa(a,b,c){return T(a,b,c)===0}function U(b,c,a){__p&&__p();while(!0){var d=c,e=b;if(e!==null)if(d!==null){var f=e.left,g=e.value;e=e.right;var h=d.left,j=d.value;d=d.right;j=a(g,j);if(j===0)if(U(f,h,a)){c=d;b=e;continue}else return!1;else if(j<0)if(U(i(f,g,null),h,a)){b=e;continue}else return!1;else if(U(i(null,g,e),d,a)){b=f;continue}else return!1}else return!1;else return!0}}function ga(c,d,a){__p&&__p();while(!0){var e=c;if(e!==null){var f=e.value,g=a(d,f);if(g===0)return b("bs_js_primitive").some(f);else{c=g<0?e.left:e.right;continue}}else return void 0}}function ha(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value,f=a(c,e);if(f===0)return e;else{b=f<0?d.left:d.right;continue}}else return void 0}}function ia(b,c,a){__p&&__p();while(!0){var d=b;if(d!==null){var e=d.value,f=a(c,e);if(f===0)return e;else{b=f<0?d.left:d.right;continue}}else throw new Error("getExn0")}}function V(a){var b=a.left;a.left=b.right;b.right=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.left);d=a.height;b.height=(c>d?c:d)+1|0;return b}function W(a){var b=a.right;a.right=b.left;b.left=a;var c=g(a.left),d=g(a.right);a.height=(c>d?c:d)+1|0;c=g(b.right);d=a.height;b.height=(c>d?c:d)+1|0;return b}function ja(a){var b=W(a.left);a.left=b;return V(a)}function ka(a){var b=V(a.right);a.right=b;return W(a)}function X(a){var b=g(a.left),c=g(a.right);a.height=(b>c?b:c)+1|0;return a}function Y(a){__p&&__p();var b=a.left,c=a.right,d=g(b),e=g(c);if(d>(2+e|0)){var f=b.left;b=b.right;if(k(f,b))return X(V(a));else return X(ja(a))}else if(e>(2+d|0)){f=c.left;b=c.right;if(k(b,f))return X(W(a));else return X(ka(a))}else{a.height=(d>e?d:e)+1|0;return a}}function Z(a,b,c){__p&&__p();if(b!==null){var d=b.value;d=a(c,d);if(d===0)return b;else{var e=b.left,f=b.right;if(d<0){d=Z(a,e,c);b.left=d}else b.right=Z(a,f,c);return Y(b)}}else return j(c)}function la(c,a){__p&&__p();var d=c.length;if(d===0)return null;else{var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b,c)<0}),f;e>=0?f=P(c,0,e):(e=-e|0,f=O(c,e-1|0,e));for(var e=e,d=d-1|0;e<=d;++e)f=Z(a,f,c[e]);return f}}function $(a,b){var c=b.right,d=b.left;if(d!==null){b.left=$(a,d);return Y(b)}else{a.value=b.value;return c}}var ma=null;f.copy=h;f.create=i;f.bal=l;f.singleton=j;f.minimum=a;f.minUndefined=c;f.maximum=d;f.maxUndefined=e;f.removeMinAuxWithRef=o;f.empty=ma;f.isEmpty=p;f.stackAllLeft=q;f.forEachU=r;f.forEach=s;f.reduceU=t;f.reduce=u;f.everyU=v;f.every=w;f.someU=x;f.some=y;f.joinShared=B;f.concatShared=C;f.keepSharedU=Q;f.keepShared=ba;f.keepCopyU=R;f.keepCopy=ca;f.partitionSharedU=D;f.partitionShared=E;f.partitionCopyU=S;f.partitionCopy=da;f.lengthNode=F;f.size=G;f.toList=I;f.checkInvariantInternal=J;f.fillArray=K;f.toArray=N;f.fromSortedArrayAux=P;f.fromSortedArrayRevAux=O;f.fromSortedArrayUnsafe=aa;f.has=ea;f.cmp=T;f.eq=fa;f.subset=U;f.get=ga;f.getUndefined=ha;f.getExn=ia;f.fromArray=la;f.addMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_SetDict",["bs_belt_internalAVLset"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(c,d,a){__p&&__p();if(c!==null){var e=c.value,f=a(d,e);if(f===0)return c;else{var h=c.left,i=c.right;if(f<0){f=g(h,d,a);if(f===h)return c;else return b("bs_belt_internalAVLset").bal(f,e,i)}else{f=g(i,d,a);if(f===i)return c;else return b("bs_belt_internalAVLset").bal(h,e,f)}}}else return b("bs_belt_internalAVLset").singleton(d)}function h(c,d,a){__p&&__p();if(c!==null){var e=c.left,f=c.value,g=c.right,i=a(d,f);if(i===0)if(e!==null)if(g!==null){var j=[g.value],k=b("bs_belt_internalAVLset").removeMinAuxWithRef(g,j);return b("bs_belt_internalAVLset").bal(e,j[0],k)}else return e;else return g;else if(i<0){j=h(e,d,a);if(j===e)return c;else return b("bs_belt_internalAVLset").bal(j,f,g)}else{k=h(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLset").bal(e,f,k)}}else return c}function a(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=g(b,f,a)}return b}function c(b,c,a){var d=c.length;b=b;for(var e=0,d=d-1|0;e<=d;++e){var f=c[e];b=h(b,f,a)}return b}function i(a,c,d){__p&&__p();var e=c.left,f=c.value,g=c.right,h=a(d,f);if(h===0)return[e,g];else if(h<0)if(e!==null){h=i(a,e,d);return[h[0],b("bs_belt_internalAVLset").joinShared(h[1],f,g)]}else return[b("bs_belt_internalAVLset").empty,c];else if(g!==null){h=i(a,g,d);return[b("bs_belt_internalAVLset").joinShared(e,f,h[0]),h[1]]}else return[c,b("bs_belt_internalAVLset").empty]}function j(a,c,d,e){__p&&__p();var f=c.left,g=c.value,h=c.right,i=a(d,g);if(i===0){e[0]=!0;return[f,h]}else if(i<0)if(f!==null){i=j(a,f,d,e);return[i[0],b("bs_belt_internalAVLset").joinShared(i[1],g,h)]}else return[b("bs_belt_internalAVLset").empty,c];else if(h!==null){i=j(a,h,d,e);return[b("bs_belt_internalAVLset").joinShared(f,g,i[0]),i[1]]}else return[c,b("bs_belt_internalAVLset").empty]}function d(c,d,a){if(c!==null){var e=[!1];a=j(a,c,d,e);return[a,e[0]]}else return[[b("bs_belt_internalAVLset").empty,b("bs_belt_internalAVLset").empty],!1]}function k(c,d,a){__p&&__p();if(c!==null)if(d!==null){var e=c.height,f=d.height;if(e>=f)if(f===1)return g(c,d.value,a);else{f=c.left;var h=c.value,j=c.right,l=i(a,d,h);return b("bs_belt_internalAVLset").joinShared(k(f,l[0],a),h,k(j,l[1],a))}else if(e===1)return g(d,c.value,a);else{f=d.left;h=d.value;j=d.right;l=i(a,c,h);return b("bs_belt_internalAVLset").joinShared(k(l[0],f,a),h,k(l[1],j,a))}}else return c;else return d}function l(c,d,a){__p&&__p();if(c!==null&&d!==null){var e=c.left,f=c.value;c=c.right;var g=[!1];d=j(a,d,f,g);e=l(e,d[0],a);c=l(c,d[1],a);if(g[0])return b("bs_belt_internalAVLset").joinShared(e,f,c);else return b("bs_belt_internalAVLset").concatShared(e,c)}else return b("bs_belt_internalAVLset").empty}function m(c,d,a){__p&&__p();if(c!==null&&d!==null){var e=c.left,f=c.value,g=c.right,h=[!1];d=j(a,d,f,h);e=m(e,d[0],a);g=m(g,d[1],a);if(h[0])return b("bs_belt_internalAVLset").concatShared(e,g);else return b("bs_belt_internalAVLset").joinShared(e,f,g)}else return c}e=b("bs_belt_internalAVLset").empty;var n=b("bs_belt_internalAVLset").fromArray,o=b("bs_belt_internalAVLset").fromSortedArrayUnsafe,p=b("bs_belt_internalAVLset").isEmpty,q=b("bs_belt_internalAVLset").has,r=b("bs_belt_internalAVLset").subset,s=b("bs_belt_internalAVLset").cmp,t=b("bs_belt_internalAVLset").eq,u=b("bs_belt_internalAVLset").forEachU,v=b("bs_belt_internalAVLset").forEach,w=b("bs_belt_internalAVLset").reduceU,x=b("bs_belt_internalAVLset").reduce,y=b("bs_belt_internalAVLset").everyU,z=b("bs_belt_internalAVLset").every,A=b("bs_belt_internalAVLset").someU,B=b("bs_belt_internalAVLset").some,C=b("bs_belt_internalAVLset").keepSharedU,D=b("bs_belt_internalAVLset").keepShared,E=b("bs_belt_internalAVLset").partitionSharedU,F=b("bs_belt_internalAVLset").partitionShared,G=b("bs_belt_internalAVLset").size,H=b("bs_belt_internalAVLset").toList,I=b("bs_belt_internalAVLset").toArray,J=b("bs_belt_internalAVLset").minimum,K=b("bs_belt_internalAVLset").minUndefined,L=b("bs_belt_internalAVLset").maximum,M=b("bs_belt_internalAVLset").maxUndefined,N=b("bs_belt_internalAVLset").get,O=b("bs_belt_internalAVLset").getUndefined,P=b("bs_belt_internalAVLset").getExn,Q=b("bs_belt_internalAVLset").checkInvariantInternal;f.empty=e;f.fromArray=n;f.fromSortedArrayUnsafe=o;f.isEmpty=p;f.has=q;f.add=g;f.mergeMany=a;f.remove=h;f.removeMany=c;f.union=k;f.intersect=l;f.diff=m;f.subset=r;f.cmp=s;f.eq=t;f.forEachU=u;f.forEach=v;f.reduceU=w;f.reduce=x;f.everyU=y;f.every=z;f.someU=A;f.some=B;f.keepU=C;f.keep=D;f.partitionU=E;f.partition=F;f.size=G;f.toList=H;f.toArray=I;f.minimum=J;f.minUndefined=K;f.maximum=L;f.maxUndefined=M;f.get=N;f.getUndefined=O;f.getExn=P;f.split=d;f.checkInvariantInternal=Q}),null);
__d("bs_belt_Set",["bs_curry","bs_belt_SetDict"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){c=c[0];return{cmp:c,data:b("bs_belt_SetDict").fromArray(a,c)}}function c(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_SetDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var a=c.cmp,e=c.data;d=b("bs_belt_SetDict").add(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function e(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").mergeMany(c.data,d,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").removeMany(c.data,d,a)}}function h(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").union(c.data,d.data,a)}}function i(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").intersect(c.data,d.data,a)}}function j(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").diff(c.data,d.data,a)}}function k(c,d){var a=c.cmp;return b("bs_belt_SetDict").subset(c.data,d.data,a)}function l(c,d){var a=c.cmp;c=b("bs_belt_SetDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function m(a){return{cmp:a[0],data:b("bs_belt_SetDict").empty}}function n(a){return b("bs_belt_SetDict").isEmpty(a.data)}function o(a,c){var d=a.cmp;return b("bs_belt_SetDict").cmp(a.data,c.data,d)}function p(a,c){return b("bs_belt_SetDict").eq(a.data,c.data,a.cmp)}function q(a,c){return b("bs_belt_SetDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_SetDict").forEachU(a.data,b("bs_curry").__1(c))}function s(a,c,d){return b("bs_belt_SetDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c){return b("bs_belt_SetDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_SetDict").everyU(a.data,b("bs_curry").__1(c))}function w(a,c){return b("bs_belt_SetDict").someU(a.data,c)}function x(a,c){return b("bs_belt_SetDict").someU(a.data,b("bs_curry").__1(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_SetDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__1(c))}function A(a,c){c=b("bs_belt_SetDict").partitionU(a.data,c);a=a.cmp;return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__1(c))}function C(a){return b("bs_belt_SetDict").size(a.data)}function D(a){return b("bs_belt_SetDict").toList(a.data)}function E(a){return b("bs_belt_SetDict").toArray(a.data)}function F(a){return b("bs_belt_SetDict").minimum(a.data)}function G(a){return b("bs_belt_SetDict").minUndefined(a.data)}function H(a){return b("bs_belt_SetDict").maximum(a.data)}function I(a){return b("bs_belt_SetDict").maxUndefined(a.data)}function J(a,c){return b("bs_belt_SetDict").get(a.data,c,a.cmp)}function K(a,c){return b("bs_belt_SetDict").getUndefined(a.data,c,a.cmp)}function L(a,c){return b("bs_belt_SetDict").getExn(a.data,c,a.cmp)}function M(a,c){return b("bs_belt_SetDict").has(a.data,c,a.cmp)}function N(a,c){return{cmp:c[0],data:b("bs_belt_SetDict").fromSortedArrayUnsafe(a)}}function O(a){return a.data}function P(a){a=a.cmp;return[a]}function Q(a,b){return{cmp:a[0],data:b}}function R(a){return b("bs_belt_SetDict").checkInvariantInternal(a.data)}var S=0,T=0,U=0;f.Int=S;f.$$String=T;f.Dict=U;f.make=m;f.fromArray=a;f.fromSortedArrayUnsafe=N;f.isEmpty=n;f.has=M;f.add=d;f.mergeMany=e;f.remove=c;f.removeMany=g;f.union=h;f.intersect=i;f.diff=j;f.subset=k;f.cmp=o;f.eq=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.size=C;f.toArray=E;f.toList=D;f.minimum=F;f.minUndefined=G;f.maximum=H;f.maxUndefined=I;f.get=J;f.getUndefined=K;f.getExn=L;f.split=l;f.checkInvariantInternal=R;f.getData=O;f.getId=P;f.packIdData=Q}),null);
__d("bs_js_dict",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){delete a[b];return 0};function a(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function b(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0,c=c-1|0;e<=c;++e)d[e]=a[b[e]];return d}function c(a){__p&&__p();var b={};a=a;while(!0){var c=a;if(c){var d=c[0];b[d[0]]=d[1];a=c[1];continue}else return b}}function d(a){var b={},c=a.length;for(var d=0,c=c-1|0;d<=c;++d){var e=a[d];b[e[0]]=e[1]}return b}function e(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0,e=e-1|0;f<=e;++f){var g=d[f];c[g]=a(b[g])}return c}f.unsafeDeleteKey=g;f.entries=a;f.values=b;f.fromList=c;f.fromArray=d;f.map=e}),null);
__d("MessengerState.bs",["invariant","URI","FBID.bs","bs_array","bs_block","bs_curry","JSSet.bs","Utils.bs","FBJSON","Arbiter","gkx","bs_js_dict","bs_belt_Map","bs_belt_Set","bs_caml_obj","JSLogger","ThreadId.bs","FBIDCheck","immutable","bs_belt_Array","bs_caml_array","ChatConfig","LogHistory","MercuryIDs","bs_pervasives","bs_belt_Option","AsyncRequest","bs_js_primitive","MessagingTag","TypingStates","MercuryAssert","MercuryViewer","ParticipantId.bs","bs_belt_MapString","bs_caml_primitive","MercuryFilters.bs","ImmutableObject","MercuryLocalIDs","ChannelConstants","MessengerFolders.bs","MessengerMessage.bs","bs_js_null_undefined","MercuryActionType","MercuryAttachment","MercuryDispatcher","MercuryMessageIDs.bs","MercuryThreadInfo","MessengerPersonas.bs","XGroupsController","MercuryThreadIDMap","PageCommItemStatus","MercuryActionStatus","MessageRequestUtils","MercuryPayloadSource","MessengerThreadUtils.bs","MercuryLogMessageType","MercuryServerRequests","MercuryThreadInformer","MercurySyncEventsProxy","MercuryGlobalActionType","ThreadConnectivityStatus.bs","MercuryMessageClientState","MessengerGroupsSyncStatus","MercuryThreadlistConstants","MessageUnsendabilityStatus","setTimeoutAcrossTransitions","MessagingGenericAdminTextType","MessengerDesktopNotifications","ChatReliabilityInstrumentation","RemovedMessageTombstoneContent","RepliedToMessageStatusForGraphQL","XMercuryThreadLikeIconController","MessengerSharedMediaActionsLoader","MercuryDisplayTimeFilterMessageRenderer","MessengerPersistantViewerKeyedSubscriptionComponent.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return a[0]}function c(a){return a[1]}function d(a){return a[2]}function e(a){return a[3]}function h(a){return a[4]}function i(a){return a[5]}function j(a){return a[6]}function k(a){return a[8]}function l(a){return a[9]}function m(a){return a[10]}function aa(a){return a[11]}function n(a){return a[12]}function o(a){return a[13]}function p(a){return a[14]}function q(a){return a[15]}function r(a){return a[16]}function ba(a){return a[17]}function ca(a){return a[18]}function da(a){var c={};b("bs_belt_Map").forEach(a,function(a,b){c[a]=b;return 0});return c}function ea(a){return da(a[7])}function fa(a){b("ChatReliabilityInstrumentation").logMESSAGE_RECEIVED(b("FBJSON").stringify({otid:a.offline_threading_id,message_id:a.message_id,other_user_fbid:a.other_user_fbid}));return 0}function ga(a,c,d){d=d.reduce(b("bs_belt_Set").remove,c.reduce(b("bs_belt_Set").add,a[3]));if(d===a[3])return a;else return[a[0],a[1],a[2],d,a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]]}var ha=function(a,b){delete a[b];return 0};function ia(a,c,d){var e=b("bs_belt_MapString").get(a,c);if(e!==void 0){e=b("bs_js_primitive").valFromOption(e);var f=b("bs_belt_Map").get(e,d);if(f!==void 0)return b("bs_belt_MapString").set(a,c,b("bs_belt_Map").remove(e,d));else return a}else return a}function ja(a,c){__p&&__p();var d=c.thread_fbid;if(d==null)if(c.type==="typ"||c.type==="page_typing"){c=b("FBID.bs").ofString(c.from.toString());if(c!==void 0)return b("MercuryIDs").getThreadIDFromUserID(b("bs_js_primitive").valFromOption(c));else return null}else return null;else{c=b("MercuryThreadIDMap").getForFBID(a);return c.getClientIDFromServerIDNow(d.toString())}}var ka=b("MercuryFilters.bs").getSupportedFilters(0).concat([b("MercuryFilters.bs").all,b("MercuryFilters.bs").groups]),la=b("MessengerFolders.bs").getSupportedFolders(0).concat([b("MessagingTag").SPAM,b("MessagingTag").PAGE_BACKGROUND]);function ma(){var a={};la.forEach(function(b){var c={};ka.forEach(function(a){c[a]={threadlist:[],reachedEnd:!1,existingIDs:new Set()};return 0});a[b]=c;return 0});return a}function na(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.invalidatedThread(c);return 0}function s(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.updatedThread(c);return 0}function oa(a,c){a=b("MercuryThreadInformer").getForFBID(a);a.deletedThread(c);return 0}function pa(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.changedThreadReadState(c,d,e);return 0}function t(a,c){__p&&__p();var d=new Map();c.forEach(function(a,b){d.set(a,b);return 0});return c.sort(function(c,e){__p&&__p();var f=b("bs_belt_Map").get(a[7],c),g=b("bs_belt_Map").get(a[7],e);if(f!==void 0&&g!==void 0){g=b("bs_js_primitive").valFromOption(g).timestamp-b("bs_js_primitive").valFromOption(f).timestamp;if(g>0)return 1;else if(g<0)return-1;else return 0}else f=1;if(f===1){g=d.get(c);f=d.get(e);return b("bs_belt_Option").getExn(g==null?void 0:b("bs_js_primitive").some(g))-b("bs_belt_Option").getExn(f==null?void 0:b("bs_js_primitive").some(f))|0}})}function qa(a,b,c,d){__p&&__p();a=a[12][c];if(a!==void 0){var e=a[d];if(e!==void 0){b.forEach(function(a){if(e.existingIDs.has(a)){e.existingIDs["delete"](a);a=e.threadlist.indexOf(a);e.threadlist.splice(a,1);return 0}else return 0});return 0}else return 0}else return 0}function u(a,c,d,e){__p&&__p();a=a!==void 0?a:function(){return!0};var f=b("bs_belt_Map").get(c[7],d);if(f!==void 0){f=b("bs_js_primitive").valFromOption(f);if(b("bs_curry")._1(a,f)){a=b("ImmutableObject").set(f,e);f=b("bs_belt_Map").set(c[7],d,a);s(c[0],d);return[c[0],c[1],c[2],c[3],c[4],c[5],c[6],f,c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18]]}else return c}else return c}function ra(a,c,d){__p&&__p();var e=new Set(c.participants);Object.assign(c,{participants:Array.from(c.participants)});d.forEach(function(d){if(e.has(d))return 0;else{c.participants.push(d);if(b("bs_caml_obj").caml_equal(d,a)){Object.assign(c,{is_subscribed:!0,can_reply:!0,cannot_reply_reason:null});return 0}else return 0}});return 0}function sa(a,b,c,d){__p&&__p();la.forEach(function(e){if(e!==c)return qa(a,b,e,d);else return 0});var e=a[12][c];if(e!==void 0){e=e[d];e=e!==void 0?[e.threadlist,e.existingIDs]:[[],new Set()]}else e=[[],new Set()];var f=e[1],g=e[0];b.forEach(function(a){if(f.has(a))return 0;else{f.add(a);g.push(a);return 0}});return[t(a,g),f]}function ta(a,c,d){__p&&__p();if(d!==void 0){var e=a[16][c];if(e!==void 0){e.add(b("bs_js_primitive").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a[0]);e.updatedUnreadState();return 0}else{d=b("MercuryServerRequests").getForFBID(a[0]);d.fetchUnreadThreadIDs(c);return 0}}else return 0}var ua=b("MessengerFolders.bs").getSupportedFolders(0).filter(function(a){return a!==b("MessagingTag").ACTION_ARCHIVED});function va(a,c,d){__p&&__p();if(d!==void 0){var e=a[16][c];if(e!==void 0){e["delete"](b("bs_js_primitive").valFromOption(d));e=b("MercuryThreadInformer").getForFBID(a[0]);e.updatedUnreadState();return 0}else{d=b("MercuryServerRequests").getForFBID(a[0]);d.fetchUnreadThreadIDs(c);return 0}}else return 0}function wa(a,c,d){var e=b("MessengerFolders.bs").getFromMeta(c);if(d!==e){ua.includes(e)&&c.unread_count>0&&ta(a,e,b("bs_js_primitive").some(c.thread_id));if(ua.includes(d))return va(a,d,b("bs_js_primitive").some(c.thread_id));else return 0}else return 0}function xa(a,c){__p&&__p();var d=b("MessengerFolders.bs").getFromMeta(c);if(la.includes(d)){ka.forEach(function(e){var f=a[12][d][e],g=f.existingIDs.has(c.thread_id);sa(a,[c.thread_id],d,e);var h=b("bs_caml_obj").caml_equal(b("bs_caml_array").caml_array_get(f.threadlist,f.threadlist.length-1|0),c.thread_id);if(!f.reachedEnd&&!g&&h)return qa(a,[c.thread_id],d,e);else return 0});return 0}else return 0}function ya(a,c,d){__p&&__p();var e=b("bs_belt_Map").get(a[7],c);if(e!==void 0){e=b("bs_js_primitive").valFromOption(e);var f=b("MessengerFolders.bs").getFromMeta(e);if(f!==d){var g=e.comm_status;g=g==null?b("ImmutableObject").set(e,{folder:d}):d===b("MessagingTag").OTHER?b("ImmutableObject").set(e,{folder:d,comm_status:b("PageCommItemStatus").SPAM}):d===b("MessagingTag").INBOX?b("ImmutableObject").set(e,{folder:d,comm_status:b("PageCommItemStatus").TODO}):b("ImmutableObject").set(e,{folder:d});var h=e.other_user_fbid;h=h==null?[]:d===b("MessagingTag").OTHER?[b("MercuryIDs").getParticipantIDFromUserID(h)]:[];var i=e.other_user_fbid;d=i==null?[]:d===b("MessagingTag").OTHER?[]:[b("MercuryIDs").getParticipantIDFromUserID(i)];i=ga(a,h,d);h=b("bs_belt_Map").set(i[7],c,g);wa(i,g,f);xa(i,g);s(i[0],c);return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],h,i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15],i[16],i[17],i[18]]}else{xa(a,e);return a}}else return a}function za(c,a,d){__p&&__p();d=a.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(a):d!==void 0?d:a.body;var e=a.raw_attachments;e=!(e==null)&&e.length>0?b("MercuryAttachment").convertRaw(e):a.attachments;var f=a.removed_timestamp;if(f==null){f=a.log_message_type;d={snippet:d,snippet_attachments:e,snippet_sender:f==null?a.author:null}}else d={snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(a.author),snippet_attachments:null,snippet_sender:null};return Object.assign(c,d)}function Aa(a,c,d){var e=a.event_title,f=a.event_time;a=a.event_location_name;return{creator_id:null,latitude:null,location_address:null,longitude:null,note:"",related_event:{id:""},repeat_mode:null,seconds_to_notify_before:0,status:null,track_rsvp:c.track_rsvp,title:e==null?c.title:e,event_time:f==null?c.event_time:parseInt(f,10),location_name:a==null?c.location_name:a,event_members:d!==void 0?b("bs_js_primitive").valFromOption(d):c.event_members,oid:c.oid,event_type:c.event_type}}function v(b,a){var c={};Object.keys(b).forEach(function(a){c[a]=b[a];return 0});c[a.guest_id]=a.guest_status;return c}var Ba=function(a,b){delete a[b];return 0},w=function(a,b){delete a[b];return 0};function Ca(a){__p&&__p();var c=[-1],d=[null],e=Math.floor(Date.now()/1e3);b("bs_js_dict").entries(a).forEach(function(a){a=a[1];var b=a.event_time;if(b>e&&(c[0]<0||c[0]>b)){c[0]=b;d[0]=a;return 0}else return 0});return d[0]}function x(a,c,d){d=b("XMercuryThreadLikeIconController").getURIBuilder().setString("emoji",d).getURI();new(b("AsyncRequest"))(d).setHandler(function(d){var e=b("MercuryDispatcher").getForFBID(a);e.handleUpdate({actions:[{action_type:b("MercuryActionType").UPDATE_CUSTOM_LIKE,thread_id:c,custom_like:d.getPayload()}],from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANGE_CUSTOM_LIKE});return 0}).send();return 0}function Da(c,d,a,e){__p&&__p();a=a.log_message_data;if(a==null)return 0;else{var f=a.untypedData;if(a.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_NICKNAME){var g=d.custom_nickname;if(!(g==null)){g=b("bs_js_dict").fromArray(b("bs_js_dict").entries(g));var h=f.nickname;h.trim().length>0?g[f.participant_id]=h:b("bs_curry")._2(w,g,f.participant_id);Object.assign(d,{custom_nickname:g})}s(c,e)}else if(a.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_ICON)x(c,e,f.thread_icon);else if(a.message_type===b("MessagingGenericAdminTextType").CHANGE_THREAD_THEME){if(!b("ChatConfig").get("chat_tab_has_gradients")){h=f.theme_color;if(h==null)Object.assign(d,{solid_color:null,header_color:null,footer_color:null,gradient_colors:[]});else if(h.length>0){g="#"+h.slice(2);Object.assign(d,{solid_color:g,header_color:g,footer_color:g,gradient_colors:[g]})}else Object.assign(d,{solid_color:null,header_color:null,footer_color:null,gradient_colors:[]});s(c,e)}}else if(f!==void 0)if(a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE){var i={},j=f.event_creator_id;d.participants.forEach(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a==null)return 0;else{var c=b("bs_caml_obj").caml_equal(a,j);i[a]=c?"GOING":"INVITED";return 0}});h=b("bs_js_dict").fromArray(b("bs_js_dict").entries(d.lightweight_events));g=f.event_time;g={track_rsvp:f.event_track_rsvp,title:f.event_title,event_time:g==null?0:parseInt(g,10),location_name:f.event_location_name,event_members:i,oid:f.event_id,event_type:f.event_type};Object.assign(d,{lightweight_event:g});h[f.event_id]=Object.assign({},g);Object.assign(d,{lightweight_events:h});s(c,e)}else if(a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE||a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME||a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE||a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION){g=d.lightweight_event;if(!(g==null)){h=b("bs_js_dict").fromArray(b("bs_js_dict").entries(d.lightweight_events));g.oid===f.event_id&&Object.assign(d,{lightweight_event:Aa(f,g,b("bs_js_primitive").some(g.event_members))});g=h[f.event_id];g!==void 0&&(h[f.event_id]=Aa(f,g,void 0),Object.assign(d,{lightweight_events:h}))}s(c,e)}else if(a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP){g=b("bs_js_dict").fromArray(b("bs_js_dict").entries(d.lightweight_events));h=d.lightweight_event;if(!(h==null)&&h.oid===f.event_id){var k=v(h.event_members,f);Object.assign(d,{lightweight_event:Aa(f,h,b("bs_js_primitive").some(k))})}h=g[f.event_id];if(h!==void 0){k=v(h.event_members,f);g[f.event_id]=Aa(f,h,b("bs_js_primitive").some(k));Object.assign(d,{lightweight_events:g})}s(c,e)}else if(a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE||a.message_type===b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY){h=b("bs_js_dict").fromArray(b("bs_js_dict").entries(d.lightweight_events));b("bs_curry")._2(Ba,h,f.event_id);Object.assign(d,{lightweight_event:Ca(h),lightweight_events:h});s(c,e)}return 0}}function Ea(a,c,d,e){a=b("MercuryThreadInformer").getForFBID(a);a.updatedMessage(c,d,b("bs_js_null_undefined").fromOption(e));return 0}function Fa(c,a){c=b("MercuryThreadInformer").getForFBID(c);c.receivedMessage(a);return 0}function Ga(a,c,d){a=b("MercuryThreadInformer").getForFBID(a);a.reorderedMessages(c,d);return 0}var Ha=function(a,b){delete a[b];return 0};function y(a,c){var d=a[10].get(c);return b("bs_js_primitive").nullable_to_opt(a[9].get(b("bs_belt_Option").getWithDefault(d==null?void 0:b("bs_js_primitive").some(d),c)))}function Ia(a,c,d){a=a!==void 0?a:!1;d=b("bs_belt_Array").keepMap(d,function(a){return y(c,a)});if(a)return d.slice().reverse();else return d}function Ja(a,c){return b("bs_belt_Array").keepMap(c,function(b){return y(a,b)}).sort(function(a,c){return b("MessengerMessage.bs").compare(c,a)}).map(function(a){return a.message_id})}function Ka(a,b){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9].set(b[0],b[1]),a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]]}function La(b,a){b[10].set(a.message_id,a.message_id);return[b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15],b[16],b[17],b[18]]}var Ma=function(a,b){delete a[b];return 0};function Na(c,d){__p&&__p();var a=c[15];Object.keys(d).forEach(function(e){__p&&__p();var f=d[e];if(f!==void 0){var g=f[0],h=g[2],i=g[1];g=a.get(g[0]);if(g==null)return 0;else{g=g[1];if(g.length>=(i+h|0)){b("bs_curry")._2(Ma,d,e);return b("bs_curry")._1(f[1],Ia(!0,c,g.slice(i,i+h|0)))}else return 0}}else return 0});return 0}function Oa(d,c,e){__p&&__p();var a=e[1],f=e[0];b("MessengerMessage.bs").finalizeRanges(a);var g=a.offline_threading_id;if(!(g==null)&&g!==a.message_id){d[10].set(g,a.message_id);b("MercuryMessageIDs.bs").addServerID(g,a.message_id);g=a.threading_id;g==null||b("MercuryMessageIDs.bs").addServerID(g,a.message_id)}g=d[9].has(f);var h=d[0],i=d[1],j=d[2],k=d[3],l=d[4],m=d[5],aa=d[6],n=d[7],o=d[8],p=d[9].set(f,a),q=d[10],r=d[11],ba=d[12],ca=d[13],da=d[14],ea=d[15],fa=d[16],ga=d[17];d=d[18];h=[h,i,j,k,l,m,aa,n,o,p,q,r,ba,ca,da,ea,fa,ga,d];if(!g&&e[2]===1){i=b("MercuryIDs").isLocalThread(a.thread_id);j=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(b("bs_js_primitive").nullable_to_opt(a.thread_id),function(a){return b("bs_js_primitive").nullable_to_opt(ea.get(a))}),[i?1:0,[]]);k=a.thread_id;if(!(k==null)){l=Ja(h,[f].concat(j[1].filter(function(c){return b("bs_caml_obj").caml_notequal(c,a.offline_threading_id)})));ea.set(k,[j[0],l])}Na(h,c[3][0])}return h}function z(b,c,a){b[11].set(c,a);return[b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15],b[16],b[17],b[18]]}function Pa(a,c){var d=c[1];c=c[0];var e=a[11].get(c);b("bs_belt_Option").isSome(e==null?void 0:b("bs_js_primitive").some(e))||g(0,1777);a[11]["delete"](c);if(e==null)return b("bs_pervasives").failwith("Message must exist to update");else return Object.assign(e,{image_ids:d.image_ids,file_ids:d.file_ids,audio_ids:d.audio_ids,gif_ids:d.gif_ids,video_ids:d.video_ids,client_state:b("MercuryMessageClientState").SEND_TO_SERVER})}function Qa(a,c){__p&&__p();var d=c[0],e=a[15].get(d);if(e==null)return a;else{var f=b("bs_array").map(function(a){return a.message_id},b("bs_belt_Array").keepMap(c[1],function(b){return y(a,b)})),g=Ja(a,e[1].filter(function(a){return f.indexOf(a)===-1}));a[15].set(d,[e[0],g]);Ga(a[0],d,b("bs_js_null_undefined").fromOption(c[2]));return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]]}}function Ra(c,d){__p&&__p();var e={snippet:"...",snippet_attachments:null,snippet_sender:null};d=b("bs_belt_Option").flatMap(b("bs_js_primitive").nullable_to_opt(c[15].get(d)),function(a){return b("bs_belt_Array").get(Ia(void 0,c,a[1]),0)});if(d!==void 0){var a=b("bs_js_primitive").valFromOption(d);a=a.is_filtered_content?b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(a):a.body}else a=null;if(d!==void 0){d=b("bs_js_primitive").valFromOption(d);var f=d.removed_timestamp;if(f==null)if(a==null)return e;else{f=d.log_message_type;return{snippet:a,snippet_attachments:d.attachments,snippet_sender:f==null?d.author:null}}else return{snippet:b("RemovedMessageTombstoneContent").getTombstoneContentForSnippet(d.author),snippet_attachments:null,snippet_sender:null}}else return e}function Sa(a){__p&&__p();var c=a.attachments;if(c==null)return 0;else{c=b("bs_belt_Array").keepMap(c,function(a){if(b("MercuryAttachment").isPhotoAttachment(a)&&b("MercuryAttachment").isVideoAttachment(a)){a=a.metadata;if(a==null)return void 0;else return b("bs_js_primitive").nullable_to_opt(a.fbid)}});b("MessengerSharedMediaActionsLoader").deletePhotos(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id),c);return 0}}function Ta(a,c,d){__p&&__p();d=a[15].get(d);if(d==null)return a;else{d=d[1];var e=[!0];return b("bs_belt_Array").reduce(d,a,function(d,f){__p&&__p();if(e[0]){var g=d[10].get(f);g=b("bs_belt_Option").getWithDefault(g==null?void 0:b("bs_js_primitive").some(g),f);if(g===c){e[0]=!1;return d}else{var a=y(d,g);if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);var h=a.replied_to_message,i;if(h==null)i=void 0;else{h=h.message;if(h==null)i=void 0;else{h=d[10].get(h.message_id);i=b("bs_belt_Option").getWithDefault(h==null?void 0:b("bs_js_primitive").some(h),f)}}if(i!==void 0&&i===c){h={status:b("RepliedToMessageStatusForGraphQL").DELETED,message:null};f=Object.assign(Object.assign({},a),{replied_to_message:h});return Ka(d,[g,f])}else return d}else return d}}else return d})}}function Ua(d,c,e,f){__p&&__p();var g=e.client_message_id,h;if(g==null)h=d;else{var i=y(d,g);if(i!==void 0){i=b("bs_js_primitive").valFromOption(i);var j=e.message_id,k=e.status;if(b("bs_caml_obj").caml_equal(i.status,b("MercuryActionStatus").SUCCESS))h=d;else if(d[9].has(j)){var a=Object.assign(Object.assign({},i),e);Ea(d[0],a.thread_id,a.message_id,f);h=Ka(d,[j,a])}else{a=b("bs_caml_obj").caml_equal(e.status,b("MercuryActionStatus").SUCCESS);a=a?e.error_data:null;b("MercuryMessageIDs.bs").addServerID(g,j);d[10].set(g,j);i=Object.assign(Object.assign({},i),{status:k,error_data:a,timestamp:e.timestamp,log_message_data:e.log_message_data,ranges:e.ranges,attachments:e.attachments});b("MessengerMessage.bs").finalizeRanges(i);k=Ka(d,[j,i]);k[9].set(g,{});k[9]["delete"](g);a=i.thread_id;var l=k[15].get(a);if(!(l==null)){var m=Ja(k,l[1]);k[15].set(a,[l[0],m])}Ea(k[0],i.thread_id,i.message_id,f);a=b("MessengerMessage.bs").isTitanMessage(i);l=c[2].get(i.thread_id);a&&(l==null||c[2].set(i.thread_id,l-1|0));h=[k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10].set(g,j),k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]]}}else h=d}m={};f=e.log_message_type;if(f==null)Object.assign(m,{snippet_attachments:e.attachments});else{if(b("bs_caml_obj").caml_equal(f,b("MercuryLogMessageType").THREAD_IMAGE)){a=e.log_message_data;if(a==null)c=null;else{i=a.image;c=i==null?null:i.preview_url}Object.assign(m,{image_src:c});s(h[0],e.thread_id)}b("bs_caml_obj").caml_notequal(f,b("MercuryLogMessageType").SUBSCRIBE)&&b("bs_caml_obj").caml_notequal(f,b("MercuryLogMessageType").UNSUBSCRIBE)&&Object.assign(m,{snippet_attachments:e.attachments})}return u(void 0,h,e.thread_id,m)}function Va(c,a,d,e){__p&&__p();if(b("bs_caml_obj").caml_equal(d.action_type,b("MercuryActionType").SEND_MESSAGE))return Ua(c,a,d,e);else{var f=d.offline_threading_id;f=b("bs_belt_Option").flatMap(f==null?void 0:b("bs_js_primitive").some(f),function(a){return b("bs_js_primitive").nullable_to_opt(c[10].get(a))});var g=y(c,d.message_id);if(f!==void 0||g!==void 0)return c;else{f=b("bs_caml_obj").caml_equal(e,b("bs_js_primitive").some(b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))?La(c,d):c;g=b("bs_caml_obj").caml_equal(d.client_state,b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER);e=d.upload_id;g=g&&!(e==null)?z(f,e,d):f;e=b("MessengerMessage.bs").isErrorLogMessage(d);f=d.thread_id;e&&(f==null||(a[6][0][f]=!0));e=d.manual_retry_cnt;f=d.thread_id;e==null||!(f==null)&&e>0&&Ga(g[0],f,b("MercuryPayloadSource").CLIENT_SEND_MESSAGE);e=Oa(g,a,[d.message_id,d,1]);Fa(e[0],d);return e}}}function Wa(a,c,d,e){__p&&__p();if(c!==void 0){c=b("bs_caml_obj").caml_equal(b("bs_js_primitive").valFromOption(c),b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE);var f=d.thread_id;if(c&&!(f==null)){c=b("MercuryThreadInformer").getForFBID(a);return b("bs_curry")._3(e,c,f,d)}else return 0}else return 0}function Xa(a,b){var c=a.participants.indexOf(b);if(c>0){Object.assign(a,{participants:[b].concat(a.participants.slice(0,c),a.participants.slice(c+1|0))});return 0}else return 0}function Ya(a,c,d,e){__p&&__p();var f=c.thread_id;if(f==null)return a;else{var g=b("bs_belt_Map").get(a[7],f);if(g!==void 0){g=b("bs_js_primitive").valFromOption(g);var h={};!c.skip_bump_thread&&b("bs_caml_obj").caml_notequal(d,b("bs_js_primitive").some(b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO))&&(za(h,c,b("bs_js_primitive").nullable_to_opt(c.log_message_body)),c.timestamp>g.timestamp&&(Object.assign(h,{timestamp:c.timestamp}),c.is_unread&&Object.assign(h,{unread_count:g.unread_count+1|0})),Object.assign(h,{message_count:g.message_count+1|0,is_archived:!1}));d=0;e!==void 0?e||(d=1):d=1;d===1&&(c.timestamp>h.server_timestamp&&Object.assign(h,{server_timestamp:c.timestamp}));if(b("bs_caml_obj").caml_notequal(h,{}))return u(void 0,a,f,h);else return a}else return a}}function Za(a,c,d){__p&&__p();var e=new Set(d);Object.assign(c,{participants:c.participants.filter(function(a){return!e.has(a)})});d=b("bs_js_dict").fromArray(b("bs_js_dict").entries(c.admins));Object.assign(c,{admins:b("bs_array").fold_left(function(a,c){c=b("MercuryIDs").getUserIDFromParticipantID(c);if(!(c==null)){var d=a[c];d!==void 0&&b("bs_curry")._2(ha,a,c)}return a},d,b("JSSet.bs").values(e))});if(e.has(a)){Object.assign(c,{is_subscribed:!1});return 0}else return 0}function $a(c,a,d){a=a.specific_to_list;if(a==null){d=b("MercuryIDs").tokenize(d);if(d.type!=="user"||d.value.length===0)return[c];else return[b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(d.value)),c]}else return a}function A(c,a,d){var e=b("MercuryIDs").tokenize(d),f=e.type==="user",g=a.specific_to_list;g=f?!0:g==null?!1:b("MessengerThreadUtils.bs").isCanonicalFromInitialParticipants(c,g);if(g||f)c=$a(c,a,d);else{var h=a.specific_to_list;c=h==null?[]:h}return new(b("ImmutableObject"))({admins:{},admin_model_status:null,approval_mode:0,approval_queue_ids:[],associated_object:null,can_reply:!0,cannot_reply_reason:null,can_viewer_report:!1,comm_item_owners:null,comm_source_id:null,comm_status:null,custom_like_icon:null,custom_nickname:null,customization_enabled:!1,description:null,ephemeral_ttl_mode:0,footer_color:null,game_id:null,gradient_colors:[],group_approval_queue:null,work_associated_group:null,groups_sync_status:null,has_email_participant:!1,has_montage:!1,header_color:null,is_canonical_neo_user:!1,is_from_weak_entry_point:!1,is_pin_protected:!1,is_pinned:!1,is_thread_queue_enabled:!1,joinable_mode:{link:"",mode:0},last_message_timestamp:0,last_message_type:null,last_message_id:null,last_read_timestamp:0,lightweight_event:null,lightweight_events:{},marketplace_thread_data:null,mentions_mute_mode:0,mute_until:null,page_comm_item_id:null,page_thread_info:null,page_unsubscribe_status:!1,participant_add_mode:null,participants_event_status:null,reactions_mute_mode:0,read_only:!1,recipients_loadable:!0,rtc_call_data:null,server_timestamp:0,solid_color:null,subtitle:null,theme_id:null,thread_connectivity_data:null,thread_fbid:null,thread_type:null,thread_pin_timestamp:null,thread_id:d,participants:c,name:"",snippet:a.body,snippet_attachments:[],snippet_sender:a.author,unread_count:0,message_count:0,image_src:null,timestamp:a.timestamp,other_user_fbid:f?b("FBID.bs").ofStringExn(e.value):null,is_canonical_user:f,is_canonical:g,is_subscribed:!0,folder:b("MessagingTag").INBOX,is_archived:!1,is_page_follow_up:!1,is_page_unresponded_thread:!1,object_association_type:null,joinable_link:null,linked_mentorship_programs:null,thread_unsendability_status:null})}function ab(c,d,a,e){__p&&__p();e=b("MessengerMessage.bs").hasServerTimestamp(a,e);var f=a.thread_id;if(f==null)return void 0;else{b("MercuryAssert").isThreadID(f);d=b("bs_belt_Map").get(d,f);if(d!==void 0)return b("bs_js_primitive").some(b("bs_js_primitive").valFromOption(d));else if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE)&&!e)return b("bs_js_primitive").some(A(b("MercuryIDs").getParticipantIDFromUserID(c),a,f));else return void 0}}function bb(a,c){__p&&__p();var d=c.other_user_fbid;if(d==null){var e=c.thread_fbid;e=e==null?void 0:b("bs_js_primitive").some(b("MercuryIDs").getThreadIDFromThreadFBID(e))}else e=b("bs_js_primitive").some(b("MercuryIDs").getThreadIDFromUserID(d));d=c.thread_id;e=d==null?e:d==null?void 0:b("bs_js_primitive").some(d);d=c.thread_id;var f;if(d==null)f="";else{d=b("bs_belt_Map").get(a[7],d);f=d!==void 0?b("MessengerFolders.bs").getFromMeta(b("bs_js_primitive").valFromOption(d)):c.folder}ua.includes(f)&&((b("bs_caml_obj").caml_equal(c.action_type,b("MercuryActionType").USER_GENERATED_MESSAGE)||b("bs_caml_obj").caml_equal(c.action_type,b("MercuryActionType").LOG_MESSAGE))&&c.is_unread&&ta(a,f,e));return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]]}var cb=function(a,b){delete a[b];return 0};function db(a,c){__p&&__p();Object.keys(c).forEach(function(d){__p&&__p();var e=c[d];if(e!==void 0){var f=e[0],g=da(f.reduce(function(d,e){var c=b("bs_belt_Map").get(a,e);if(c!==void 0)return b("bs_belt_Map").set(d,e,b("bs_js_primitive").valFromOption(c));else return d},b("bs_belt_Map").make([b("ThreadId.bs").cmp])));if(Object.keys(g).length===f.length){b("bs_curry")._2(cb,c,d);return b("bs_curry")._1(e[1],g)}else return 0}else return 0});return 0}function eb(a,c,d,e,f){__p&&__p();d!==0&&pa(a,c.thread_id,f,d);if(c.timestamp===0){b("ChatReliabilityInstrumentation").logERROR("thread timestamp is 0");e.add(c.thread_id);return void 0}else{d=c.unread_count===0;if(d===f)return void 0;else{s(a,c.thread_id);return{unread_count:f?0:1}}}}function fb(a){var c=[b("MercuryFilters.bs").all];a.unread_count>0&&c.push(b("MercuryFilters.bs").unread);a.is_canonical||c.push(b("MercuryFilters.bs").groups);return c}function gb(a,c){c=c.is_archived?b("MessagingTag").ACTION_ARCHIVED:c.folder;a=a[12][c];if(a!==void 0)return c}function hb(c,a){__p&&__p();return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_js_primitive").undefined_to_opt(c[12][b("MessagingTag").INBOX]),function(a){return b("bs_js_primitive").undefined_to_opt(a[b("MercuryFilters.bs").all])}),function(d){__p&&__p();if(d.threadlist.length===0)if(b("bs_belt_Map").isEmpty(c[7]))return a[7][0];else return b("bs_belt_Map").reduce(c[7],0,function(a,d,e){d=gb(c,e);if(d!==void 0&&d===b("MessagingTag").INBOX&&e.timestamp>c[18])return a+1|0;else return a});else return d.threadlist.reduce(function(a,d){d=b("bs_belt_Map").get(c[7],d);if(d!==void 0&&b("bs_js_primitive").valFromOption(d).timestamp>c[18])return a+1|0;else return a},0)}),a[7][0])}function ib(c,a){__p&&__p();return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_js_primitive").undefined_to_opt(c[12][b("MessagingTag").INBOX]),function(a){return b("bs_js_primitive").undefined_to_opt(a[b("MercuryFilters.bs").all])}),function(d){__p&&__p();if(d.threadlist.length===0)if(b("bs_belt_Map").isEmpty(c[7]))return a[7][0];else return b("bs_belt_Map").reduce(c[7],0,function(a,d,e){__p&&__p();var f=gb(c,e);if(f!==void 0&&f===b("MessagingTag").INBOX&&e.timestamp>c[18]&&!b("MercuryThreadInfo").isMuted(e)){f=c[16][b("MessagingTag").INBOX];if(f!==void 0){e=f.has(d);if(e)return a+1|0;else return a}else return a}else return a});else return d.threadlist.reduce(function(a,d){__p&&__p();var e=b("bs_belt_Map").get(c[7],d);if(e!==void 0){e=b("bs_js_primitive").valFromOption(e);if(e.timestamp>c[18]&&!b("MercuryThreadInfo").isMuted(e)){e=c[16][b("MessagingTag").INBOX];if(e!==void 0){e=e.has(d);if(e)return a+1|0;else return a}else return a}else return a}else return a},0)}),a[7][0])}function jb(c,a,d){d=d===b("MessagingTag").PENDING;if(d)return[c[0],c[1],c[2],c[3],c[4],0,c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18]];else return[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],a]}function kb(a){var c=[b("MercurySyncEventsProxy").getArbiterTypeForFBID(a,"TYP")];b("FBIDCheck").isUser_deprecated(a)||c.push(b("ChannelConstants").getArbiterType("page_typing"));return c}function lb(a){return[a,b("bs_belt_MapString").empty,b("bs_belt_MapString").empty,b("bs_belt_Set").make([b("ParticipantId.bs").cmp]),b("bs_belt_Set").make([b("ParticipantId.bs").cmp]),0,b("bs_belt_MapString").empty,b("bs_belt_Map").make([b("ThreadId.bs").cmp]),new Set(),new Map(),new Map(),new Map(),ma(0),[],{},new Map(),{},{},0]}var B=[{}],C=[0],D=new Map(),E=[{}],mb=[0],nb=new Set(),ob=[{}],F=[0],G=[B,C,D,E,mb,nb,ob,F];function H(a,c){__p&&__p();var d=G;a=a;c=c;var e=[];c=b("bs_array").fold_left(function(f,g){__p&&__p();switch(g.tag|0){case 0:e.push(g[0].tag|0);break;case 1:case 2:break}switch(g.tag|0){case 0:var h=g[0];if(typeof h==="number"){var i=f,k=d;k[0][0]={};k[1][0]=k[1][0];k[6][0]={};k[2].clear();b("bs_belt_Map").keysToArray(i[7]).forEach(function(a){return na(i[0],a)});return[i[0],i[1],b("bs_belt_MapString").empty,i[3],i[4],i[5],i[6],b("bs_belt_Map").make([b("ThreadId.bs").cmp]),new Set(),new Map(),new Map(),i[11],ma(0),i[13],i[14],new Map(),i[16],i[17],i[18]]}else switch(h.tag|0){case 0:k=f;var l=h[0],m=[!1],aa=[k[1]];Object.keys(l).forEach(function(a){var c=l[a],d=b("bs_belt_Option").getWithDefault(b("bs_belt_MapString").get(aa[0],a),0);if(c>d){m[0]=!0;aa[0]=b("bs_belt_MapString").set(aa[0],a,c);return 0}else return 0});if(m[0])return[k[0],aa[0],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]];else return k;case 1:return ga(f,h[0],[]);case 2:k=f;var n=h[0],o=h[1];o=o.reduce(b("bs_belt_Set").remove,n.reduce(b("bs_belt_Set").add,k[4]));if(o===k[4])return k;else return[k[0],k[1],k[2],k[3],o,k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]];case 3:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("BlockedParticipantsRealtimeUpdate");n=f;o=h[0];k=o.reduce(function(a,c){if(b("bs_belt_Set").has(a,c))return b("bs_belt_Set").remove(a,c);else return b("bs_belt_Set").add(a,c)},n[4]);if(k===n[4])return n;else return[n[0],n[1],n[2],n[3],k,n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18]];case 4:o=f;k=h[0];n=k.reduce(function(c,d){var a=d.is_messenger_ignored;if(a==null)return c;else if(a)return b("bs_belt_Set").add(c,b("MercuryIDs").getParticipantIDFromUserID(d.fbid));else return b("bs_belt_Set").remove(c,b("MercuryIDs").getParticipantIDFromUserID(d.fbid))},o[3]);if(n===o[3])return o;else return[o[0],o[1],o[2],n,o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18]];case 5:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("SetInitialPendingFolderUnseenCount");k=f;n=h[0];return[k[0],k[1],k[2],k[3],k[4],n,k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]];case 6:o=f;n=h[0];k=ja(o[0],n);if(k==null)return o;else{var p=b("FBID.bs").ofString(n.from.toString());if(p!==void 0){p=b("bs_js_primitive").valFromOption(p);b("MessengerPersonas.bs").addPersona(n.persona);var q=n.persona,r=b("gkx")("678634");r=!(q==null)&&r?b("MercuryIDs").getParticipantIDFromUserID(q.id):b("MercuryIDs").getParticipantIDFromUserID(p);if(n.st===b("TypingStates").TYPING){q=b("bs_belt_MapString").get(o[6],k);if(q!==void 0)return[o[0],o[1],o[2],o[3],o[4],o[5],b("bs_belt_MapString").set(o[6],k,b("bs_belt_Map").set(b("bs_js_primitive").valFromOption(q),r,Date.now())),o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18]];else{p=b("bs_belt_Map").set(b("bs_belt_Map").make([b("ParticipantId.bs").cmp]),r,Date.now());return[o[0],o[1],o[2],o[3],o[4],o[5],b("bs_belt_MapString").set(o[6],k,p),o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18]]}}else if(n.st===b("TypingStates").INACTIVE){q=ia(o[6],k,r);if(q!==o[6])return[o[0],o[1],o[2],o[3],o[4],o[5],q,o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18]];else return o}else return o}else return o}case 7:p=f;var ba=h[0],fa=[!1],pa=[p[2]];Object.keys(ba).forEach(function(c){__p&&__p();Object.keys(ba[c]).forEach(function(d){__p&&__p();var a=b("bs_belt_MapString").get(pa[0],c);a=a!==void 0?b("bs_js_primitive").valFromOption(a):b("immutable").OrderedMap();var e=a.get(d),f=ba[c][d];if(e==null||f.watermark>e.watermark)e=1;else return 0;if(e===1){fa[0]=!0;pa[0]=b("bs_belt_MapString").set(pa[0],c,a.set(d,f));return 0}});var a=b("bs_belt_MapString").get(pa[0],c);if(a!==void 0){fa[0]=!0;pa[0]=b("bs_belt_MapString").set(pa[0],c,b("bs_js_primitive").valFromOption(a).sort(function(a,c){return b("bs_caml_primitive").caml_float_compare(a.watermark,c.watermark)}));return 0}else return 0});if(fa[0])return[p[0],p[1],pa[0],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15],p[16],p[17],p[18]];else return p;case 8:var t=f;n=d;k=h[0];if(k.length===0)return t;else{r=t[7];q=k.reduce(function(a,c){return b("bs_belt_Map").set(a,c.thread_id,new(b("ImmutableObject"))(c))},r);db(q,n[0][0]);k.forEach(function(a){return s(t[0],a.thread_id)});return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],q,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15],t[16],t[17],t[18]]}case 9:o=f;p=h[0];if(p.length===0)return o;else{var za=o[8],Aa=b("MercuryServerRequests").getForFBID(o[0]);p.forEach(function(a){__p&&__p();var b=a.thread_id;if(za.has(b)){za["delete"](b);if(a.unread_count>0){Aa.changeThreadReadStatus(b,!0,null,null,null,null);return 0}else return 0}else return 0});return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],za,o[9],o[10],o[11],o[12],o[13],o[14],o[15],o[16],o[17],o[18]]}case 10:var v=f,Ba=h[0];la.forEach(function(a){__p&&__p();ka.forEach(function(d){__p&&__p();var c=v,e=Ba,f=a,g=d,h=[];d=e.filter(function(c){var a=c.filter;a=a==null?b("MercuryFilters.bs").all:a;c=c.folder;c=c==null?f===b("MessagingTag").INBOX:c===f;if(c)return b("bs_caml_obj").caml_equal(a,g);else return!1});var i=[!1];d.forEach(function(a){a.thread_ids.forEach(function(a){h.push(a);return 0});var b=a.limit;if(a.thread_ids.length<b){i[0]=!0;return 0}else return 0});e=sa(c,h,f,g);d=c[12][f];c=d[g];c=c!==void 0?c.reachedEnd:!1;d[g]={reachedEnd:i[0]?i[0]:c,threadlist:e[0],existingIDs:e[1]};return 0});return 0});return[v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15],v[16],v[17],v[18]];case 11:var w=f;r=h[0];var Ca={};la.forEach(function(a){var b={};ka.forEach(function(a){b[a]=[];return 0});Ca[a]=b;return 0});r.forEach(function(c){__p&&__p();var d=b("bs_belt_Map").get(w[7],c.thread_id);if(d!==void 0){var e=b("bs_js_primitive").valFromOption(d);d=gb(w,e);if(d!==void 0){var a=d;fb(e).forEach(function(b){if(e.timestamp!==0){Ca[a][b].push(c.thread_id);return 0}else return 0});return 0}else return 0}else return 0});la.forEach(function(a){ka.forEach(function(b){var c=Ca[a][b];sa(w,c,a,b);return 0});return 0});return[w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15],w[16],w[17],w[18]];case 12:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdatePinnedThreads");var x=f,Fa=d;n=h[0];if(n.length>0){n.forEach(function(a){if(Fa[5].has(a))return 0;else{x[13].push(a);Fa[5].add(a);return 0}});k=b("MercuryThreadInformer").getForFBID(x[0]);k.updatedThreadlist();return[x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],x[8],x[9],x[10],x[11],x[12],x[13],x[14],x[15],x[16],x[17],x[18]]}else return x;case 13:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnSubscribeStatusUpdate");q=f;p=h[0];var Ia=h[1];return u(function(a){return a.page_unsubscribe_status!==Ia},q,p,{page_unsubscribe_status:Ia});case 14:o=f;r=h[0];n=h[1];return u(void 0,o,r,{can_reply:n});case 15:k=f;q=h[0];p=h[1];o=b("bs_belt_Map").get(k[7],q);if(o!==void 0){r=Object.assign({},b("bs_js_primitive").valFromOption(o));ra(b("MercuryIDs").getParticipantIDFromUserID(k[0]),r,p);return u(void 0,k,q,r)}else return k;case 16:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFlag");n=f;o=h[0];p=h[1];q=b("bs_belt_Map").get(n[7],o);if(q!==void 0){r=b("bs_js_primitive").valFromOption(q);k=r.page_thread_info;q=b("ImmutableObject").set(r,{page_thread_info:Object.assign(k==null?{}:k,{flagged:p})});r=b("bs_belt_Map").set(n[7],o,q);s(n[0],o);return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],r,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18]]}else return n;case 17:k=f;p=h[0];return u(function(a){return b("MessageRequestUtils").isMessageRequest(a)},k,p,{folder:b("MessagingTag").INBOX});case 18:q=f;o=h[0];r=h[1];return u(void 0,q,o,{custom_like_icon:r});case 19:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("PromoteGroupAdmins");n=f;k=h[0];p=h[1];q=b("bs_belt_Map").get(n[7],k);if(q!==void 0){o=b("bs_js_primitive").valFromOption(q);r=b("bs_js_dict").fromArray(b("bs_js_dict").entries(o.admins));q=b("ImmutableObject").set(o,{admins:b("bs_array").fold_left(function(a,b){a[b.admin_fbid]=b.admin_type;return a},r,p)});o=b("bs_belt_Map").set(n[7],k,q);s(n[0],k);return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],o,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18]]}else return n;case 20:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("RemoveGroupAdmins");r=f;p=h[0];q=h[1];k=b("bs_belt_Map").get(r[7],p);if(k!==void 0){o=b("bs_js_primitive").valFromOption(k);n=b("bs_js_dict").fromArray(b("bs_js_dict").entries(o.admins));k=b("ImmutableObject").set(o,{admins:b("bs_array").fold_left(function(d,c){var a=d[c];a!==void 0&&b("bs_curry")._2(ha,d,c);return d},n,q)});o=b("bs_belt_Map").set(r[7],p,k);s(r[0],p);return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],o,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15],r[16],r[17],r[18]]}else return r;case 21:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("JoinableMode");n=f;q=h[0];k=h[1];return u(void 0,n,q,{joinable_mode:k});case 22:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalMode");p=f;o=h[0];r=h[1];return u(void 0,p,o,{approval_mode:r});case 23:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ApprovalQueue");n=f;q=h[0];k=h[1];p=h[2];var La=h[3],Ma=h[4];o=b("bs_belt_Map").get(n[7],q);if(o!==void 0){r=b("bs_js_primitive").valFromOption(o);o=r.group_approval_queue;r={approval_queue_ids:r.approval_queue_ids.slice(),group_approval_queue:o==null?null:o.slice()};k==null||r.approval_queue_ids.indexOf(k)===-1&&Object.assign(r,{approval_queue_ids:r.approval_queue_ids.concat([k])});if(!(p==null)){o=r.group_approval_queue;o==null?Object.assign(r,{group_approval_queue:[p]}):o.map(function(a){return a.requester.id}).indexOf(p.requester.id)===-1&&Object.assign(r,{group_approval_queue:o.concat([p])})}La==null||Object.assign(r,{approval_queue_ids:r.approval_queue_ids.filter(function(a){return b("bs_caml_obj").caml_notequal(a,La)})});if(!(Ma==null)){k=r.group_approval_queue;Object.assign(r,{group_approval_queue:(k==null?[]:k).filter(function(a){return a.requester.id!==Ma})})}return u(void 0,n,q,r)}else return n;case 24:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("IsPinProtected");o=f;p=h[0];k=h[1];return u(void 0,o,p,{is_pin_protected:k});case 25:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateRtcCallData");q=f;r=h[0];n=h[1];o=h[2];p=h[3];k=b("bs_belt_Map").get(q[7],r);if(k!==void 0){if(n==null){k=b("bs_js_primitive").valFromOption(k).rtc_call_data;k=k==null?void 0:n}else k=n;return u(void 0,q,r,{rtc_call_data:new(b("ImmutableObject"))({call_state:o,server_info_data:p,initiator_fbid:k})})}else return q;case 26:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommStatus");n=f;r=h[0];o=h[1];return u(void 0,n,r,{comm_status:o});case 27:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateCommItemOwner");p=f;k=h[0];q=h[1];n=h[2];r=h[3];o=q==null?{nodes:[]}:{nodes:[{admin:{id:q,name:n,profile_picture:{uri:r}}}]};return u(void 0,p,k,{comm_item_owners:o});case 28:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("EventRsvpChanged");q=f;n=h[0];var Na=h[1];r=h[2];p=b("bs_belt_Map").get(q[7],n);if(p!==void 0){k=b("bs_js_primitive").valFromOption(p).participants_event_status;o=(k==null?[]:k).filter(function(a){return b("bs_caml_obj").caml_notequal(a.participant_id,Na)});o.push({participant_id:Na,event_status:r});return u(void 0,q,n,{participants_event_status:o})}else return q;case 29:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncStatusChanged");p=f;k=h[0];r=h[1];n=h[2];if(n==null||!b("bs_caml_obj").caml_equal(n,b("MessengerGroupsSyncStatus").OPT_IN))o=1;else return u(void 0,p,k,{groups_sync_status:r});if(o===1)return u(void 0,p,k,{groups_sync_status:r,work_associated_group:null});case 30:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("GroupsSyncMetadataUpdate");q=f;n=h[0];o=h[1];p=h[2];if(o==null)return u(void 0,q,n,{work_associated_group:null});else if(b("bs_caml_obj").caml_equal(o,b("MessengerGroupsSyncStatus").OPT_IN)){k=new(b("URI"))(document.URL);r=k.getDomain();o=b("XGroupsController").getURIBuilder().setString("idorvanity",p).getURI().setDomain(r==null?"":r.replace("messenger.com","facebook.com")).setPort(k.getPort()).setProtocol("https");return u(void 0,q,n,{work_associated_group:{id:p,url:o.toString(),group_saves:{count:0},group_events:{count:0}}})}else return u(void 0,q,n,{work_associated_group:null});case 31:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DescriptionChanged");r=f;k=h[0];p=h[1];return u(void 0,r,k,{description:p});case 32:o=f;q=h[0];n=h[1];return u(void 0,o,q,{solid_color:n.solid_color,header_color:n.header_color,footer_color:n.footer_color,gradient_colors:n.gradient_colors,theme_id:n.theme_id});case 33:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateJoinableLink");r=f;k=h[0];p=h[1];return u(void 0,r,k,{joinable_link:p});case 34:var z=f,$a=h[0];o=b("bs_belt_Map").toArray(z[7]).reduce(function(a,c){var d=c[1];c=c[0];if(d.folder===$a){s(z[0],c);return b("bs_belt_Map").set(a,c,b("ImmutableObject").set(d,{unread_count:0}))}else return a},z[7]);z[16][$a]=new Set();q=b("MercuryThreadInformer").getForFBID(z[0]);q.updatedUnreadState();return[z[0],z[1],z[2],z[3],z[4],z[5],z[6],o,z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15],z[16],z[17],z[18]];case 35:var A=f,ib=h[0];n=b("bs_belt_Map").remove(A[7],ib);A[15]["delete"](ib);A[9].forEach(function(a,c,d){__p&&__p();if(b("bs_caml_obj").caml_equal(a.thread_id,ib)){A[9]["delete"](a.message_id);c=a.offline_threading_id;if(!(c==null)){d=A[10].get(c);d==null||(A[9]["delete"](d),A[10]["delete"](c))}A[10]["delete"](a.message_id);return 0}else return 0});na(A[0],ib);return[A[0],A[1],A[2],A[3],A[4],A[5],A[6],n,A[8],A[9],A[10],A[11],A[12],A[13],A[14],A[15],A[16],A[17],A[18]];case 36:r=h[0];return Oa(f,d,[r.message_id,r,h[1]]);case 37:k=f;p=[h[0],h[1],h[2]];q=p[2];o=p[1];var kb=p[0];if(o.length!==0){n=Qa(k,[kb,o,q]);r=0;q!==void 0?b("bs_caml_obj").caml_equal(b("bs_js_primitive").valFromOption(q),b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)||(r=1):r=1;r===1&&b("MercuryServerRequests").getForFBID(n[0]).deleteMessages(kb,o);return b("bs_belt_Array").reduce(o,n,function(a,d){__p&&__p();d=y(a,d);var c=b("bs_belt_Map").get(a[7],kb);if(c!==void 0){c=b("bs_js_primitive").valFromOption(c);c=b("ImmutableObject").set(b("ImmutableObject").set(c,Ra(a,kb)),{message_count:c.message_count-1|0});c=b("bs_belt_Map").set(a[7],kb,c);s(a[0],kb);c=[a[0],a[1],a[2],a[3],a[4],a[5],a[6],c,a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]]}else c=a;d!==void 0&&Sa(b("bs_js_primitive").valFromOption(d));return c})}else return k;case 38:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeFolder");return ya(f,h[0],h[1]);case 39:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeMuteSettings");p=f;q=h[0];r=h[1];o=b("bs_belt_Map").get(p[7],q);if(o!==void 0){n=b("bs_js_primitive").valFromOption(o);var lb;switch(r.tag|0){case 0:lb=b("ImmutableObject").set(n,{reactions_mute_mode:r[0]?1:0});break;case 1:lb=b("ImmutableObject").set(n,{mentions_mute_mode:r[0]?1:0});break;case 2:k=r[0];o=k===0;lb=b("ImmutableObject").set(n,{mute_until:o?void 0:k});break}r=b("bs_belt_Map").set(p[7],q,lb);s(p[0],q);return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],r,p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15],p[16],p[17],p[18]]}else return p;case 40:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangeArchivedStatus");n=f;o=h[0];k=h[1];q=b("bs_belt_Map").get(n[7],o);if(q!==void 0){r=b("bs_js_primitive").valFromOption(q);if(r.is_archived!==k){p=b("MessengerFolders.bs").getFromMeta(r);q=r.comm_status;q=q==null?b("ImmutableObject").set(r,{is_archived:k}):b("ImmutableObject").set(r,{is_archived:k,comm_status:k?b("PageCommItemStatus").DONE:b("PageCommItemStatus").TODO});r=b("bs_belt_Map").set(n[7],o,q);wa(n,q,p);xa(n,q);s(n[0],o);return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],r,n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18]]}else return n}else return n;case 41:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePageFollowUpStatus");k=f;p=h[0];q=h[1];o=b("bs_belt_Map").get(k[7],p);if(o!==void 0){r=b("bs_js_primitive").valFromOption(o);if(r.is_page_follow_up!==q){n=b("ImmutableObject").set(r,{is_page_follow_up:q});o=b("bs_belt_Map").set(k[7],p,n);s(k[0],p);return[k[0],k[1],k[2],k[3],k[4],k[5],k[6],o,k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]]}else return k}else return k;case 42:r=f;q=h[0];n=h[1];p=h[2];o=h[3];k=h[4];var B=b("bs_belt_Map").get(r[7],q);if(B!==void 0){B=b("bs_js_primitive").valFromOption(B);p=eb(r[0],B,p,r[8],n);p=p!==void 0&&B.last_message_timestamp>B.last_read_timestamp?b("bs_js_primitive").some(Object.assign(b("bs_js_primitive").valFromOption(p),{last_read_timestamp:B.last_message_timestamp})):p;if(p!==void 0){p=b("ImmutableObject").set(B,b("bs_js_primitive").valFromOption(p));var C=b("bs_belt_Map").set(r[7],q,p);if(o){o=!B.read_only&&B.folder===b("MessagingTag").INBOX;var D=b("MercuryServerRequests").getForFBID(r[0]);D.changeThreadReadStatus(p.thread_id,n,k,p.last_read_timestamp,o,p.last_message_type)}D=C}else D=r[7];k=b("MessengerFolders.bs").getFromMeta(B);n?(qa(r,[q],k,b("MercuryFilters.bs").unread),va(r,k,b("bs_js_primitive").some(q))):(sa(r,[q],k,b("MercuryFilters.bs").unread),ta(r,k,b("bs_js_primitive").some(q)));return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],D,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15],r[16],r[17],r[18]]}else return r;case 43:var E=f,mb=h[0];o=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_js_primitive").nullable_to_opt(E[15].get(mb)),function(a){return[a[0],[]]}),[0,[]]);E[15].set(mb,o);p=b("bs_belt_Option").map(b("bs_belt_Map").get(E[7],mb),function(a){return b("ImmutableObject").set(a,{message_count:0})});if(p!==void 0){var nb=b("bs_js_primitive").valFromOption(p);C=b("bs_belt_Map").set(E[7],mb,nb);ka.forEach(function(a){return qa(E,[mb],b("MessengerFolders.bs").getFromMeta(nb),a)});B=C}else B=E[7];ua.forEach(function(a){a=E[16][a];if(a!==void 0){a["delete"](mb);return 0}else return 0});oa(E[0],mb);return[E[0],E[1],E[2],E[3],E[4],E[5],E[6],B,E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15],E[16],E[17],E[18]];case 44:n=f;k=d;q=[h[0],h[1],h[2]];D=Pa(n,[q[0],q[1]]);r=D.thread_id;o=Qa(n,[r,[D.message_id],q[2]]);p=k[2].get(r);p==null||k[2].set(r,Math.max(0,p-1|0));return o;case 45:C=f;B=[h[0],h[1]];n=Pa(C,[B[0],B[1]]);b("MercuryServerRequests").getForFBID(C[0]).sendNewMessage(Object.assign(n,{preview_attachments:void 0}));return C;case 46:D=f;q=[h[0],h[1],h[2],h[3]];k=q[2];r=q[1];p=q[0];o=y(D,p);if(o!==void 0){B=b("bs_js_primitive").valFromOption(o);n=b("bs_js_dict").map(function(a){return a},b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(B.reactions),{}));r!==void 0?n[k]=r:b("bs_curry")._2(Ha,n,k);C=Object.assign(Object.assign({},B),{reactions:n});o=B.thread_id;o==null||Ea(D[0],o,p,q[3]);return Ka(D,[p,C])}else return D;case 47:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontageDirectExpire");r=f;k=h[0];if(b("gkx")("676919")){n=y(r,k);if(n!==void 0){B=b("bs_js_primitive").valFromOption(n);o=B.attachments;if(o==null||o.length===0)return r;else{q=b("bs_caml_array").caml_array_get(o,0);p=q.share;if(p==null)return r;else{C=p.target;if(C==null)return r;else{D=C.message_state;if(D==null)return r;else{n=Object.assign(Object.assign({},B),{attachments:b("bs_caml_array").caml_array_set(b("bs_array").copy(o),0,Object.assign(Object.assign({},q),{share:Object.assign(Object.assign({},p),{target:Object.assign(Object.assign({},C),{message_state:"EXPIRED"})})}))});return Ka(r,[k,n])}}}}}else return r}else return r;case 48:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("LiveLocationUpdate");D=f;B=[h[0],h[1],h[2]];o=B[0];q=y(D,o);if(q!==void 0){p=b("bs_js_primitive").valFromOption(q);C=p.attachments;if(C==null||C.length===0)return D;else{k=b("bs_caml_array").caml_array_get(C,0);n=k.share;if(n==null)return D;else{r=n.target;if(r==null)return D;else{q=b("bs_array").copy(C);b("bs_caml_array").caml_array_set(q,0,Object.assign(Object.assign({},k),{share:Object.assign(Object.assign({},n),{target:Object.assign(Object.assign({},B[1]),{live_location_id:r.live_location_id})})}));C=Object.assign(Object.assign({},p),{attachments:q});k=p.thread_id;k==null||Ea(D[0],k,o,B[2]);return Ka(D,[o,C])}}}}else return D;case 49:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ReplaceMessage");n=f;r=h[0];q=h[1];var ob=r.replaced_message_id;if(ob==null)return n;else{p=y(n,ob);if(p!==void 0){k=r.message_id;B={timestamp:r.timestamp,profile_ranges:r.profile_ranges};o=b("bs_js_primitive").nullable_to_opt(r.status);o!==void 0&&(B.status=b("bs_js_primitive").valFromOption(o));C=b("bs_js_primitive").nullable_to_opt(r.log_message_data);C!==void 0&&(B.log_message_data=b("bs_js_primitive").valFromOption(C));D=b("bs_js_primitive").nullable_to_opt(r.meta_ranges);D!==void 0&&(B.meta_ranges=b("bs_js_primitive").valFromOption(D));o=b("bs_js_primitive").nullable_to_opt(r.ranges);o!==void 0&&(B.ranges=b("bs_js_primitive").valFromOption(o));C=b("bs_js_primitive").nullable_to_opt(r.raw_attachments);C!==void 0&&(B.raw_attachments=b("bs_js_primitive").valFromOption(C));D=b("bs_js_primitive").nullable_to_opt(r.attachments);D!==void 0&&(B.attachments=b("bs_js_primitive").valFromOption(D));o=b("bs_js_primitive").nullable_to_opt(r.body);o!==void 0&&(B.body=b("bs_js_primitive").valFromOption(o));C=b("bs_js_primitive").nullable_to_opt(r.platform_xmd);C!==void 0&&(B.platform_xmd=b("bs_js_primitive").valFromOption(C));D=B;o=Object.assign(Object.assign({},b("bs_js_primitive").valFromOption(p)),D);b("MercuryMessageIDs.bs").addServerID(k,k);var F=Ka(n,[k,o]);if(k!==ob){F[9]["delete"](ob);F[10].set(ob,k);C=b("bs_belt_Option").flatMap(b("bs_js_primitive").nullable_to_opt(r.thread_id),function(a){return b("bs_js_primitive").nullable_to_opt(F[15].get(a))});B=r.thread_id;if(C!==void 0&&!(B==null)){p=C;D=Ja(F,[k].concat(p[1].filter(function(a){return a!==ob})));F[15].set(B,[p[0],D])}}o=r.message_id;C=r.thread_id;C==null||(Ea(F[0],C,ob,q),Ea(F[0],C,o,q));return[F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],F[8],F[9],F[10],F[11],F[12],F[13],F[14],F[15],F[16],F[17],F[18]]}else return n}case 50:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateLocalTitanMessagesCount");k=f;B=d;p=[h[0],h[1]];D=p[0];r=y(k,p[1]);if(r!==void 0&&b("MessengerMessage.bs").isTitanMessage(b("bs_js_primitive").valFromOption(r))){C=B[2].get(D);C==null?B[2].set(D,1):B[2].set(D,1+C|0)}return k;case 51:return Ua(f,d,h[0],h[1]);case 52:o=f;q=d;n=h[0];p=h[1];r=h[2];B=Ya(o,n,p,r==null?void 0:b("bs_js_primitive").some(r));Wa(B[0],p,n,function(a,b,c){a.informNewMessage(b,c);return 0});D=B[0];C=b("MercuryIDs").getParticipantIDFromUserID(D);if(n.folder===b("MessagingTag").PENDING&&b("bs_caml_obj").caml_equal(p,b("bs_js_primitive").some(b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)))k=[B[0],B[1],B[2],B[3],B[4],B[5]+1|0,B[6],B[7],B[8],B[9],B[10],B[11],B[12],B[13],B[14],B[15],B[16],B[17],B[18]];else if(n.folder===b("MessagingTag").INBOX){o=n.thread_id;k=o==null?B:ya(B,o,n.folder)}else{o=n.thread_id;if(o==null)k=B;else{r=ab(B[0],B[7],n,r);if(r!==void 0){r=b("bs_js_primitive").valFromOption(r);var G=B[0],H=B[1],I=B[2],J=B[3],pb=B[4],K=B[5],L=B[6],M=b("bs_belt_Map").set(B[7],r.thread_id,r),qb=B[8],N=B[9],rb=B[10],O=B[11],P=B[12],sb=B[13],Q=B[14],R=B[15],S=B[16],T=B[17],U=B[18];G=[G,H,I,J,pb,K,L,M,qb,N,rb,O,P,sb,Q,R,S,T,U];if(b("bs_caml_obj").caml_equal(p,b("bs_js_primitive").some(b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE))){H=n.offline_threading_id;H==null?Object.assign(n,{folder:r.folder}):b("bs_caml_obj").caml_equal(b("bs_js_primitive").nullable_to_opt(rb.get(H)),H)?Object.assign(n,{client_message_id:n.offline_threading_id,status:b("MercuryActionStatus").SUCCESS,action_type:b("MercuryActionType").SEND_MESSAGE}):Object.assign(n,{folder:r.folder})}xa(G,r);I=Object.assign({},r);I.unread_count===0&&b("bs_caml_obj").caml_equal(n.author,C)&&n.timestamp>=I.last_read_timestamp&&!b("gkx")("702170")&&Object.assign(I,{last_read_timestamp:n.timestamp});J=n.offline_threading_id;if(!(J==null)&&J!==n.message_id){Object.assign(I,{last_message_timestamp:n.timestamp});pb=n.comm_status;pb==null||Object.assign(I,{last_message_id:n.message_id})}K=n.comm_status;L=I.comm_status;K==null||!(L==null)&&b("bs_caml_obj").caml_notequal(L,b("PageCommItemStatus").FOLLOW_UP)&&Object.assign(I,{comm_status:K});M=n.creator_info;M==null||b("bs_caml_obj").caml_equal(M.pageID,D)&&Object.assign(I,{folder:n.folder});Xa(I,n.author);k=u(void 0,G,o,I)}else k=B}}qb=Va(k,q,n,p);N=bb(qb,n);O=N;P=n;sb=b("bs_caml_obj").caml_notequal(P.author,b("MercuryViewer").getID());Q=P.thread_id;if(sb&&!(Q==null)){R=ia(O[6],Q,P.author);if(R!==O[6])return[O[0],O[1],O[2],O[3],O[4],O[5],R,O[7],O[8],O[9],O[10],O[11],O[12],O[13],O[14],O[15],O[16],O[17],O[18]];else return O}else return O;case 53:S=f;T=d;U=h[0];rb=h[1];H=h[2];r=b("bs_caml_obj").caml_notequal(H==null?void 0:b("bs_js_primitive").some(H),!1);C=b("bs_caml_obj").caml_equal(H==null?void 0:b("bs_js_primitive").some(H),!0);J=S[0];pb=b("MercuryIDs").getParticipantIDFromUserID(J);L=Va(S,T,U,rb);Wa(L[0],rb,U,function(a,b,c){a.informNewLogMessage(b,c);return 0});K=Ya(L,U,rb,H==null?void 0:b("bs_js_primitive").some(H));M=U.thread_id;if(M==null)D=K;else{G=b("bs_belt_Map").get(K[7],M);if(G!==void 0){o=Object.assign({},b("bs_js_primitive").valFromOption(G));xa(K,o);o.last_message_timestamp<U.timestamp&&Object.assign(o,{last_message_timestamp:U.timestamp});I=U.log_message_type;if(!(I==null))if(b("bs_caml_obj").caml_equal(I,b("MercuryLogMessageType").SUBSCRIBE)&&!C){B=U.log_message_data;if(B==null)k=[];else{q=B.added_participants;k=q==null?[]:q}ra(pb,o,k);s(J,M)}else if(b("bs_caml_obj").caml_equal(I,b("MercuryLogMessageType").UNSUBSCRIBE)&&!C){p=U.log_message_data;if(p==null)qb=[];else{N=p.removed_participants;qb=N==null?[]:N}Za(pb,o,qb);s(J,M)}else if(b("bs_caml_obj").caml_equal(I,b("MercuryLogMessageType").THREAD_IMAGE)){if(!r){n=U.log_message_data;if(n==null)sb=null;else{Q=n.image;sb=Q==null?null:Q.preview_url}Object.assign(o,{image_src:sb})}}else if(b("bs_caml_obj").caml_equal(I,b("MercuryLogMessageType").THREAD_NAME)){P=U.log_message_data;if(!(P==null)){R=P.name;!(R==null)&&o.name===R||s(J,M);Object.assign(o,{name:P.name})}}else b("bs_caml_obj").caml_equal(I,b("MercuryLogMessageType").GENERIC_ADMIN_TEXT)&&Da(J,o,U,M);D=u(void 0,K,M,o)}else D=K}return bb(D,U);case 54:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("ChangePinnedStatus");O=f;S=d;T=h[0];L=h[1];rb=h[2];H=b("bs_belt_Map").get(O[7],T);G=!1;if(L&&!S[5].has(T))O[13].push(T),S[5].add(T),G=!0;else if(!L&&S[5].has(T)){B=O[13].indexOf(T);B>-1&&O[13].splice(B,1);S[5]["delete"](T);G=!0}if(H!==void 0){q=b("bs_js_primitive").valFromOption(H);if(q.is_pinned!==L){k=b("ImmutableObject").set(q,{is_pinned:L,thread_pin_timestamp:rb});C=b("bs_belt_Map").set(O[7],T,k);s(O[0],T);G=!0;p=C}else p=O[7]}else p=O[7];if(G)return[O[0],O[1],O[2],O[3],O[4],O[5],O[6],p,O[8],O[9],O[10],O[11],O[12],O[13],O[14],O[15],O[16],O[17],O[18]];else return O;case 55:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InvalidateMontageState");N=f;pb=h[0];qb=b("bs_js_dict").fromArray(b("bs_js_dict").entries(N[14]));qb[pb]=[];return[N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],qb,N[15],N[16],N[17],N[18]];case 56:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("NewMontageMessage");r=f;n=h[0];Q=b("bs_js_dict").fromArray(b("bs_js_dict").entries(r[14]));sb=n.actor.id;R=Q[sb];R!==void 0?(R.push(n),Q[sb]=R):Q[sb]=[n];return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],Q,r[15],r[16],r[17],r[18]];case 57:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("InstantiateMontageThread");P=f;I=h[0];J=b("bs_js_dict").fromArray(b("bs_js_dict").entries(P[14]));M=J[I];M===void 0&&(J[I]=[]);return[P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],J,P[15],P[16],P[17],P[18]];case 58:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeleteMontageMessage");o=f;var tb=h[0],ub=b("bs_js_dict").fromArray(b("bs_js_dict").entries(o[14]));K=Object.keys(ub);K.forEach(function(b){var a=ub[b];if(a!==void 0){a=a.filter(function(a){return a.id!==tb.messageFBID});ub[b]=a;return 0}else return 0});return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],ub,o[15],o[16],o[17],o[18]];case 59:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("AddFetchedAllHistoryMarkers");var V=f;D=[h[0],h[1]];var vb=D[1];D[0].forEach(function(b){var a=V[15].get(b);a==null?V[15].set(b,[1,[]]):V[15].set(b,[1,a[1]]);return Ga(V[0],b,vb)});return[V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],V[8],V[9],V[10],V[11],V[12],V[13],V[14],V[15],V[16],V[17],V[18]];case 60:var W=f;U=h[0];U.forEach(function(c){__p&&__p();var a=c.folder;if(ua.includes(a)){c=c.thread_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromThreadFBID(a)}).concat(c.other_user_fbids.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(a)}));W[16][a]=new Set(c);a=b("MercuryThreadInformer").getForFBID(W[0]);a.updatedUnreadState();return 0}else return 0});return[W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15],W[16],W[17],W[18]];case 61:var X=f,wb=d;B=h[0];var c=[X[18]];B.forEach(function(a){X[17][a.folder]=a.unread_count;a.unread_count===0&&(X[16][a.folder]=new Set());a.folder===b("MessagingTag").INBOX&&(c[0]=b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.seen_timestamp),c[0]),wb[7][0]=a.unseen_count);a=b("MercuryThreadInformer").getForFBID(X[0]);a.updatedUnreadState();a.updatedUnseenState();return 0});return[X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15],X[16],X[17],c[0]];case 62:var Y=f,xb=h[0];ua.forEach(function(c){__p&&__p();var a=Y[16][c];if(a!==void 0){b("bs_js_dict").entries(xb).forEach(function(b){var c=b[0];if(a.has(c)){a.add(b[1]);a["delete"](c);return 0}else return 0});return 0}else return 0});return[Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15],Y[16],Y[17],Y[18]];case 63:S=f;H=h[0];q=h[1];L=h[2];rb=y(S,H);if(rb!==void 0){k=b("bs_js_primitive").valFromOption(rb);Sa(k);T=b("MessengerMessage.bs").makeFakeMessage(k.message_id,k.thread_id,k.author,k.action_type,k.timestamp,{removed_timestamp:q,message_unsendability_status:b("MessageUnsendabilityStatus").DENY_TOMBSTONE_MESSAGE,attachments:k.attachments});C=Ka(S,[H,T]);G=k.thread_id;if(G==null)return C;else{p=Ta(C,H,G);Ea(p[0],G,H,L);O=b("bs_belt_Map").get(p[7],G);if(O!==void 0){pb=b("ImmutableObject").set(b("bs_js_primitive").valFromOption(O),Ra(p,G));qb=b("bs_belt_Map").set(p[7],G,pb);s(p[0],G);return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],qb,p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15],p[16],p[17],p[18]]}else return p}}else return S;case 64:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UpdateConnectivityStatus");N=f;R=h[0];sb=h[1];n=b("ThreadConnectivityStatus.bs").toGraphQLValue(sb);Q=b("bs_belt_Map").get(N[7],R);if(Q!==void 0){r=b("bs_js_primitive").valFromOption(Q);M=r.thread_connectivity_data;I=M==null?b("ImmutableObject").set(r,{thread_connectivity_data:{connectivity_status:n,first_sender_id:null}}):b("ImmutableObject").set(r,{thread_connectivity_data:{connectivity_status:n,first_sender_id:M.first_sender_id}});return[N[0],N[1],N[2],N[3],N[4],N[5],N[6],b("bs_belt_Map").set(N[7],R,I),N[8],N[9],N[10],N[11],N[12],N[13],N[14],N[15],N[16],N[17],N[18]]}else return N;case 65:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("DeltaMarkFolderSeen");J=f;var yb=h[0];return b("bs_belt_Array").reduceU(yb.folders,J,function(c,a){a=b("MessagingTag").IRIS_MAPPING[a];if(a!==void 0)return jb(c,Number(yb.timestamp),a);else return c});case 66:P=f;K=[h[0],h[1],h[2],h[3]];var zb=K[2];o=K[0];D=y(P,o);if(D!==void 0){U=b("bs_js_primitive").valFromOption(D);B=K[1].concat(U.tags).filter(function(a){return zb.indexOf(a)===-1});rb=Object.assign(Object.assign({},U),{tags:B});q=U.thread_id;q==null||Ea(P[0],q,o,K[3]);return Ka(P,[o,rb])}else return P}case 1:T=g[0];if(typeof T==="number")if(T===0){k=f;var Ab=[];b("bs_belt_MapString").forEach(k[6],function(a,c){return b("bs_belt_Map").forEach(c,function(b,c){if(c<Date.now()-3e4){Ab.push([a,b]);return 0}else return 0})});if(Ab.length===0)return k;else{var a=[k[6]];Ab.forEach(function(b){a[0]=ia(a[0],b[0],b[1]);return 0});return[k[0],k[1],k[2],k[3],k[4],k[5],a[0],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15],k[16],k[17],k[18]]}}else{C=f;H=d;if(hb(C,H)>0){L=b("MercuryServerRequests").getForFBID(C[0]);L.markSeen();return jb(C,L.getLastActionTimestamp(),b("MessagingTag").INBOX)}else return C}else switch(T.tag|0){case 0:var Z=f,Bb=d;O=T[0];pb=T[1];G=T[2];qb=T[3];var Cb=Z[7],Db=[];p=da(O.reduce(function(c,d){var a=b("bs_belt_Map").get(Cb,d);if(a!==void 0)return b("bs_belt_Map").set(c,d,b("bs_js_primitive").valFromOption(a));else{Db.push(d);return c}},b("bs_belt_Map").make([b("ThreadId.bs").cmp])));if(Db.length===0){b("bs_curry")._1(G,p);return Z}else{S=Bb[1];sb=S[0].toString();Bb[1][0]=S[0]+1|0;Bb[0][0][sb]=[O,G];Q=b("MercuryServerRequests").getForFBID(Z[0]);r=Db.reduce(function(a,d){__p&&__p();var e=b("MercuryIDs").tokenize(d),f=e.type;e=e.value;if(f==="user"){f=b("MercuryIDs").getParticipantIDFromUserID(b("FBID.bs").ofStringExn(e));e=b("MercuryIDs").getParticipantIDFromUserID(Z[0]);var c=b("bs_caml_obj").caml_equal(f,e);c=b("MessengerThreadUtils.bs").createNewLocalThread(e,d,c?[e]:[e,f],null);e=b("bs_belt_Map").set(a,d,c);db(e,Bb[0][0]);return e}else return a},Z[7]);Q.fetchThreadData(Db,qb);b("bs_curry")._1(pb,sb);if(r===Z[7])return Z;else return[Z[0],Z[1],Z[2],Z[3],Z[4],Z[5],Z[6],r,Z[8],Z[9],Z[10],Z[11],Z[12],Z[13],Z[14],Z[15],Z[16],Z[17],Z[18]]}case 1:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("UnsubscribeThread");n=d[0][0];b("bs_curry")._2(cb,n,T[0]);d[0][0]=n;return f;case 2:var $=f;M=T[0];R=b("bs_belt_Array").keepMap(M,function(a){a=y($,a);if(a!==void 0)return b("bs_js_primitive").nullable_to_opt(b("bs_js_primitive").valFromOption(a).offline_threading_id)});R.forEach(function(a){$[10]["delete"](a);return 0});return[$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15],$[16],$[17],$[18]];case 3:b("ChatReliabilityInstrumentation").logPROCESS_DELTA("MontagePollStickerVoted");I=f;var Eb=T[0];N=b("bs_js_dict").fromArray(b("bs_js_dict").entries(I[14]));J=Eb.montageActorID;h=N[J];if(h!==void 0){D=h.map(function(a){__p&&__p();var c=b("bs_caml_obj").caml_equal(Eb.montageMessageID,a.id);if(c){c=a;var d=Eb,e=c.montage_overlays.map(function(a){__p&&__p();if(b("bs_caml_obj").caml_equal(a.poll.id,d.pollID)){var c=a.poll.poll_options.map(function(a,c){c=c===d.optionVotedIndex;if(c)return new(b("ImmutableObject"))({text:a.text,vote_count:a.vote_count+1|0});else return a});c=new(b("ImmutableObject"))({can_viewer_vote:a.poll.can_viewer_vote,id:a.poll.id,poll_options:c,viewer_vote_index:d.optionVotedIndex});return b("ImmutableObject").set(new(b("ImmutableObject"))(a),{poll:c})}else return a});return b("ImmutableObject").set(new(b("ImmutableObject"))(c),{montage_overlays:e})}else return a});N[J]=D}return[I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],N,I[15],I[16],I[17],I[18]];case 4:B=b("bs_belt_Map").set(f[7],T[0],T[1]);return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],B,f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15],f[16],f[17],f[18]];case 5:b("MercuryServerRequests").getForFBID(f[0]).updateLastActionTimestamp(T[0]);return f}case 2:U=g[0];switch(U.tag|0){case 0:b("bs_curry")._1(U[0],{blocked_ids:f[4]});break;case 1:b("bs_curry")._1(U[1],b("bs_belt_Map").get(f[7],U[0]));break;case 2:b("bs_curry")._1(U[0],f[13].concat([]));break;case 3:b("bs_curry")._2(U[0],f,d);break}return f}},c,a);e.length>0&&b("LogHistory").getInstance("messenger_state").debug("actions",b("bs_belt_Option").getWithDefault(b("bs_js_primitive").undefined_to_opt(JSON.stringify(e)),""));return c}function I(c,a){__p&&__p();var d=function(c){b("bs_curry")._1(a,[b("bs_block").__(0,[b("bs_block").__(6,[c])])]);b("setTimeoutAcrossTransitions")(function(){return b("bs_curry")._1(a,[b("bs_block").__(1,[0])])},3e4);return 0};b("Arbiter").subscribe(kb(c),function(a,b){a=b.obj;b=a.to;if(!(b==null)&&b.toString()!==c)return 0;else{d(a);return 0}});b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(d,e){__p&&__p();d=function(d,a){__p&&__p();var f={};b("bs_belt_MapString").toArray(d[2]).forEach(function(a){var b={};a[1].forEach(function(c,d,a){b[d]=c.watermark;return 0});f[a[0]]=b;return 0});a="read_receipts:"+c;e[a]=f;return 0};return b("bs_curry")._1(a,[b("bs_block").__(2,[b("bs_block").__(3,[d])])])});return 0}B=b("MessengerPersistantViewerKeyedSubscriptionComponent.bs").Make([lb,H,I,"MessengerStateProvider"]);var J=B[1];function pb(a,c){return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(0,[c])])])}function K(a,c){b("MercuryAssert").isThreadID(c);var d=[void 0],e=function(a){d[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(1,[c,e])])]);return b("bs_js_null_undefined").fromOption(d[0])}function L(a,c,d,e){__p&&__p();if(c.length===0){b("bs_curry")._1(d,{});return null}else{b("MercuryAssert").allThreadID(c);var f=[null],g=function(a){f[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[b("bs_block").__(0,[c,g,d,e])])]);return f[0]}}function M(a,c,d,e){return L(a,[c],function(a){return b("bs_curry")._1(d,a[c])},e)}function qb(a,c,d,e){__p&&__p();var f=[void 0],g=function(a){f[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(1,[c,g])])]);g=f[0];if(g!==void 0)return b("bs_js_primitive").valFromOption(g);else{g=b("MessengerThreadUtils.bs").createNewLocalThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[b("bs_block").__(4,[c,g])])]);return g}}function N(a){var c=b("MercuryLocalIDs").generateThreadID(null);qb(a,c,[],null);return c}function rb(a,c,d,e){__p&&__p();var f=[void 0],g=function(a){f[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(1,[c,g])])]);g=f[0];if(g!==void 0)return b("bs_js_primitive").valFromOption(g);else{g=b("MessengerThreadUtils.bs").createNewLocalGroupGeneralThread(b("MercuryIDs").getParticipantIDFromUserID(a),c,d,e);b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[b("bs_block").__(4,[c,g])])]);return g}}function O(a,c,d){var e=b("MercuryLocalIDs").generateThreadID(null);rb(a,e,c,d);return e}function P(a,c){var d=[void 0],e=function(a){d[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(1,[c,e])])]);a=d[0];if(a!==void 0)return b("MercuryThreadInfo").isEmptyLocalThread(b("bs_js_primitive").valFromOption(a));else return!1}function sb(a,c){var d=[void 0],e=function(a){d[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(1,[c,e])])]);a=d[0];if(a!==void 0)return b("MercuryThreadInfo").isNewEmptyLocalThread(b("bs_js_primitive").valFromOption(a));else return!1}function Q(c){var a=[[]],d=function(b){a[0]=b;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(c),[b("bs_block").__(2,[b("bs_block").__(2,[d])])]);return a[0]}function R(a,c){return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[b("bs_block").__(1,[c])])])}function S(a){__p&&__p();var c=a.payload_source;if(c==null)return!1;else if(b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_CHANGE_ARCHIVED_STATUS)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_SEND_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_SEND_MESSAGE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_FETCH_THREADLIST_INFO)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_THREAD_SYNC)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)||b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").CLIENT_UPDATE_COMM_STATUS))return!0;else if(b("bs_caml_obj").caml_equal(c,b("MercuryPayloadSource").SERVER_INITIAL_DATA)){c=a.ordered_threadlists;return!(c==null)}else return!1}function T(a,c){c=b("bs_block").__(1,[b("bs_block").__(3,[c])]);return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[c])}function U(a,c){return b("bs_curry")._2(J,a==null?void 0:b("bs_js_primitive").some(a),c)}function tb(a){__p&&__p();var c=[],d=!1;if(!(a==null)){var e=a.payload_source;e==null||b("bs_caml_obj").caml_equal(e,b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE)&&(d=!0);e=a.newlyAddedClientIDs;e==null||c.push(b("bs_block").__(0,[b("bs_block").__(62,[e])]));e=a.delivery_receipts;e==null||c.push(b("bs_block").__(0,[b("bs_block").__(0,[e])]));e=a.message_ignored_ids;e==null||c.push(b("bs_block").__(0,[b("bs_block").__(1,[e])]));e=a.threads;if(!(e==null)){var f=a.payload_source;f==null||(b("bs_caml_obj").caml_equal(f,b("MercuryPayloadSource").SERVER_FETCH_THREAD_INFO)&&c.push(b("bs_block").__(0,[b("bs_block").__(9,[e])])),b("bs_caml_obj").caml_equal(f,b("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE)&&(e.length>0&&c.unshift(b("bs_block").__(0,[b("bs_block").__(35,[b("bs_caml_array").caml_array_get(e,0).thread_id])]))));c.push(b("bs_block").__(0,[b("bs_block").__(8,[e])]))}f=a.participants;if(!(f==null)){c.push(b("bs_block").__(0,[b("bs_block").__(4,[f])]));var g=[],h=[];f.forEach(function(a){if(a.is_messenger_blocked){g.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid));return 0}else{h.push(b("MercuryIDs").getParticipantIDFromUserID(a.fbid));return 0}});(g.length>0||h.length>0)&&c.push(b("bs_block").__(0,[b("bs_block").__(2,[g,h])]))}e=a.message_blocked_ids;e==null||e.length>0&&c.push(b("bs_block").__(0,[b("bs_block").__(2,[e,[]])]));f=a.pending_folder_unseen_count;f==null||c.push(b("bs_block").__(0,[b("bs_block").__(5,[f])]));e=a.global_actions;e==null||e.forEach(function(a){if(b("bs_caml_obj").caml_equal(a.action_type,b("MercuryGlobalActionType").MARK_ALL_READ)){c.push(b("bs_block").__(0,[b("bs_block").__(34,[a.folder])]));return 0}else return 0});if(S(a)){f=a.ordered_threadlists;e=0;!(f==null)&&f.length>0?c.push(b("bs_block").__(0,[b("bs_block").__(10,[f])])):e=1;if(e===1){f=a.threads;e=a.payload_source;f==null||!(e==null)&&f.length>0&&e!==b("MercuryPayloadSource").SERVER_CHANGE_PINNED_STATUS&&c.push(b("bs_block").__(0,[b("bs_block").__(11,[f])]))}}e=a.pinned_thread_ids;e==null||e.length>0&&S(a)&&c.push(b("bs_block").__(0,[b("bs_block").__(12,[e])]));f=a.roger;f==null||c.push(b("bs_block").__(0,[b("bs_block").__(7,[f])]));e=a.montage_delete_message_delta;e==null||c.push(b("bs_block").__(0,[b("bs_block").__(58,[e])]));f=a.montage_new_message_delta;f==null||c.push(b("bs_block").__(0,[b("bs_block").__(56,[f])]));e=a.montage_poll_sticker_vote;e==null||e.forEach(function(a){c.push(b("bs_block").__(1,[b("bs_block").__(3,[a])]));return 0});f=a.current_montage_thread;if(!(f==null)){e=f.user;if(!(e==null)){f=e.messenger_montage_thread;f==null||(c.push(b("bs_block").__(0,[b("bs_block").__(57,[e.id])])),f.montage_messages.edges.forEach(function(a){c.push(b("bs_block").__(0,[b("bs_block").__(56,[a.node])]));return 0}))}}e=a.unread_thread_fbids;e==null||c.push(b("bs_block").__(0,[b("bs_block").__(60,[e])]));f=a.message_counts;f==null||c.push(b("bs_block").__(0,[b("bs_block").__(61,[f])]));e=a.actions;if(!(e==null)){var i=a.payload_source,j=i==null?void 0:b("bs_js_primitive").some(i);e.forEach(function(d){__p&&__p();var e=d.action_type,f=0;i==null?f=1:i.startsWith("server")||(f=1);f===1&&c.push(b("bs_block").__(1,[b("bs_block").__(5,[d.timestamp])]));if(b("bs_caml_obj").caml_equal(j,b("bs_js_primitive").some(b("MercuryPayloadSource").SERVER_SEARCH))){c.push(b("bs_block").__(0,[b("bs_block").__(36,[d,0])]));return 0}else if(b("bs_caml_obj").caml_equal(b("bs_js_primitive").nullable_to_opt(d.client_state),b("bs_js_primitive").some(b("MercuryMessageClientState").SEND_TO_SERVER))){c.push(b("bs_block").__(0,[b("bs_block").__(36,[d,0])]));return 0}else{f=d.thread_id;var g=d.upload_id,h=d.upload_data,k=d.message_ids;fa(d);if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DELETE_MESSAGES))if(!(f==null)&&!(k==null)){c.push(b("bs_block").__(0,[b("bs_block").__(37,[f,k,j])]));return 0}else return 0;else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_FOLDER)){k=d.new_folder;if(!(f==null)&&!(k==null)){c.push(b("bs_block").__(0,[b("bs_block").__(38,[f,k])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_ARCHIVED_STATUS))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(40,[f,d.archived])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_MUTE_SETTINGS)){k=d.reactions_mute_mode;var l=d.mentions_mute_mode,m=d.mute_until;l=k==null?l==null?m==null?void 0:b("bs_block").__(2,[m]):m==null?b("bs_block").__(1,[l===1]):void 0:!(l==null)||!(m==null)?void 0:b("bs_block").__(0,[k===1]);if(!(f==null)&&l!==void 0){c.push(b("bs_block").__(0,[b("bs_block").__(39,[f,l])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_READ_STATUS))if(f==null)return 0;else{m=a.from_client;c.push(b("bs_block").__(0,[b("bs_block").__(42,[f,d.mark_as_read,d.timestamp,m==null?!1:m,d.source])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_PAGE_FOLLOW_UP_STATUS))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(41,[f,d.is_page_follow_up])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").BLOCK_STATUS_CHANGED)){c.push(b("bs_block").__(0,[b("bs_block").__(3,[b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(d.message_blocked_ids),[])])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DELETE_THREAD))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(43,[f])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REACTION_UPDATE)){k=d.messageId;l=d.userId;if(!(k==null)&&!(l==null)){c.push(b("bs_block").__(0,[b("bs_block").__(46,[k,b("bs_js_primitive").nullable_to_opt(d.reaction),l,j])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MONTAGE_DIRECT_EXPIRE)){m=d.messageId;if(m==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(47,[m,j])]));return 0}}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").LIVE_LOCATION_UPDATE)){k=d.messageId;l=d.liveLocation;if(!(k==null)&&!(l==null)){c.push(b("bs_block").__(0,[b("bs_block").__(48,[k,l,j])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REPLACE_MESSAGE)){c.push(b("bs_block").__(0,[b("bs_block").__(49,[d,j])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER))if(!(g==null)&&!(h==null)){c.push(b("bs_block").__(0,[b("bs_block").__(45,[g,h])]));return 0}else return 0;else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER))if(!(g==null)&&!(h==null)){c.push(b("bs_block").__(0,[b("bs_block").__(44,[g,h,j])]));return 0}else return 0;else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").SEND_MESSAGE)){c.push(b("bs_block").__(0,[b("bs_block").__(51,[d,j])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").USER_GENERATED_MESSAGE)){c.push(b("bs_block").__(0,[b("bs_block").__(52,[d,j,a.from_client])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").LOG_MESSAGE))if(b("MessengerMessage.bs").isLocalMessage(d))return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(53,[d,j,a.from_client])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_PINNED_STATUS))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(54,[f,d.is_pinned,d.thread_pin_timestamp])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REMOVE_MESSAGE)){m=d.messageId;k=d.removed_timestamp;if(!(m==null)&&!(k==null)){c.push(b("bs_block").__(0,[b("bs_block").__(63,[m,k,j])]));b("MessengerDesktopNotifications").removeNotification(m);return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UNSUBSCRIBE_STATUS_UPDATE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(13,[f,d.page_unsubscribe_status])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").BLOCK_STATUS_CHANGED))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(14,[f,d.canViewerReply])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").ADD_PARTICIPANTS))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(15,[f,d.participants])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").CHANGE_FLAG))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(16,[f,d.mark_as_flag])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MOVE_PENDING_TO_INBOX))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(17,[f])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_CUSTOM_LIKE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(18,[f,d.custom_like])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").PROMOTE_GROUP_ADMINS)){l=d.promoted_admins;if(!(f==null)&&!(l==null)){c.push(b("bs_block").__(0,[b("bs_block").__(19,[f,l])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").REMOVE_GROUP_ADMINS)){g=d.removed_admin_ids;if(!(f==null)&&!(g==null)){c.push(b("bs_block").__(0,[b("bs_block").__(20,[f,g])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").JOINABLE_MODE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(21,[f,d.joinable_mode])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").APPROVAL_MODE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(22,[f,d.approval_mode])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").APPROVAL_QUEUE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(23,[f,d.added_id,d.added_group_id,d.removed_id,d.removed_group_id])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").IS_PIN_PROTECTED))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(24,[f,d.is_pin_protected])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_RTC_CALL_DATA))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(25,[f,d.initiator_fbid,d.call_state,d.server_info_data])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_COMM_STATUS))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(26,[f,d.comm_status])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_COMM_ITEM_OWNER))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(27,[f,d.id,d.name,d.profile_pic_uri])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").EVENT_RSVP_CHANGED))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(28,[f,d.actor_fbid,d.rsvp_status])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_CONNECTIVITY_STATUS)){h=d.thread_connectivity_status;if(!(f==null)&&!(h==null)){c.push(b("bs_block").__(0,[b("bs_block").__(64,[f,h])]));return 0}else return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").GROUPS_SYNC_STATUS_CHANGED))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(29,[f,d.groups_sync_action,d.groups_sync_status_string])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").GROUPS_SYNC_METADATA_UPDATE))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(30,[f,d.groups_sync_action,d.fb_group_id])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").DESCRIPTION_CHANGED))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(31,[f,d.group_thread_description_string])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_THREAD_THEME))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(32,[f,{solid_color:d.solid_color,header_color:d.header_color,footer_color:d.footer_color,gradient_colors:d.gradient_colors,theme_id:d.theme_id}])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").UPDATE_JOINABLE_LINK))if(f==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(33,[f,d.joinable_link])]));return 0}else if(b("bs_caml_obj").caml_equal(e,b("MercuryActionType").MUTATE_TAGS)){k=d.tags_to_add;m=k==null?[]:k;l=d.tags_to_delete;g=l==null?[]:l;h=d.messageId;if(h==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(66,[h,m,g,j])]));return 0}}else return 0}});b("Utils.bs").isTruthy(a.from_client)&&e.forEach(function(d){var a=d.thread_id;if(a==null)return 0;else{c.push(b("bs_block").__(0,[b("bs_block").__(50,[a,d.message_id])]));return 0}})}f=a.end_of_history;f==null||c.push(b("bs_block").__(0,[b("bs_block").__(59,[f,a.payload_source])]))}d&&c.unshift(b("bs_block").__(0,[0]));return c}function ub(c,d){var a=[[]],e=function(b,c){c=b[15].get(d);if(c==null)return 0;else{a[0]=Ia(!0,b,c[1]);return 0}};b("bs_curry")._2(J,b("bs_js_primitive").some(c),[b("bs_block").__(2,[b("bs_block").__(3,[e])])]);return a[0]}function V(c,d){var a=[d],e=function(b,c){c=b[10].get(d);if(c==null)return 0;else{a[0]=c;return 0}};b("bs_curry")._2(J,b("bs_js_primitive").some(c),[b("bs_block").__(2,[b("bs_block").__(3,[e])])]);return a[0]}function vb(a,c){var d=[void 0],e=function(a,b){d[0]=a;return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[e])])]);a=d[0];if(a!==void 0)return Ia(!1,a,c);else return[]}function W(a,c,d){__p&&__p();var e=[!1],f=function(a,b){__p&&__p();b=a[15].get(c);if(b==null)return 0;else{a=b[0];b=b[1].length;if(a){e[0]=!0;return 0}else{e[0]=b>=d;return 0}}};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[f])])]);return e[0]}function X(a,c){__p&&__p();var d=[!1],e=function(a,b){__p&&__p();b=a[15].get(c);if(b==null)return 0;else{a=b[0];if(a){d[0]=!0;return 0}else{d[0]=!1;return 0}}};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[e])])]);return d[0]}function wb(a,c){return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[b("bs_block").__(2,[c])])])}function Y(a,c,d,e){__p&&__p();var f=[],g=function(g,h){__p&&__p();h=g[15].get(c);if(h==null)return 0;else{h=h[1];for(var i=d,j=d+e|0;i<=j;++i){var a=b("bs_belt_Option").flatMap(b("bs_belt_Array").get(h,i),function(a){return y(g,a)});a!==void 0&&f.push(b("bs_js_primitive").valFromOption(a))}return 0}};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[g])])]);return f}var xb=[void 0];function yb(a,c,d,e,f,g,h){__p&&__p();var i=function(j,i){__p&&__p();xb[0]=[c,d,e];var k=j[15].get(c);k=k==null?[[],void 0]:[k[1],k[0]];var l=k[0];if(b("Utils.bs").isSomeTrue(b("bs_js_primitive").undefined_to_opt(i[6][0][c]))){xb[0]=void 0;i[6][0][c]=!1;return 0}else{var m=i[2];m=l.length-b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(m.get(c)),0)|0;m>0&&b("ChatReliabilityInstrumentation").logERROR("fetch made with message in flight");var aa=m-d|0;aa=e-aa|0;if(aa>0&&b("bs_caml_obj").caml_notequal(k[1],1)){k=b("MercuryServerRequests").getForFBID(a);var n=b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(b("bs_belt_Option").flatMap(b("bs_belt_Array").get(l,m-1|0),function(a){return y(j,a)}),function(a){return a.timestamp})),o=i[4][0];i[4][0]=o+1|0;i[3][0][String(o)]=[[c,d,e],f];if(b("bs_caml_obj").caml_equal([c,d,e],xb[0])){k.fetchThreadMessages(c,m,aa,n,g,h);return 0}else return 0}else return b("bs_curry")._1(f,b("bs_belt_Array").keepMap(l,function(a){return y(j,a)}).slice(d,e))}};return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[i])])])}function zb(a,b,c,d,e,f,g){if(X(a,b))return 0;else return yb(a,b,c,d,e,f,g)}function Ab(a){var c=[0],d=function(d,a){c[0]=b("bs_caml_primitive").caml_int_min(ib(d,a),b("MercuryThreadlistConstants").MAX_UNSEEN_COUNT);return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[d])])]);return c[0]}function Z(a){var c=[0],d=function(b,a){c[0]=ib(b,a);return 0};b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(2,[b("bs_block").__(3,[d])])]);return c[0]}function Bb(a){return b("bs_curry")._2(J,b("bs_js_primitive").some(a),[b("bs_block").__(1,[1])])}C=B[0];D=[B[0]];f.fbid=a;f.deliveryReceipts=c;f.readReceiptsPerThread=d;f.ignoredIds=e;f.blockedIds=h;f.pendingFolderUnseenCount=i;f.typing=j;f.pendingReadStatusThreads=k;f.messages=l;f.localIDsMap=m;f.messagesWithUploadsInFlight=aa;f.threadlistOrderMap=n;f.pinnedThreads=o;f.montage=p;f.orderedMessageLists=q;f.unreadCounts=r;f.initialUnreadCounts=ba;f.unseenTimestamp=ca;f.threads=ea;f.send=J;f.compute=pb;f.getThreadMetaNow=K;f.getMultiThreadMeta=L;f.getThreadMeta=M;f.createNewLocalThread=qb;f.createNewLocalThreadGenerateID=N;f.createNewLocalGroupGeneralThreadGenerateID=O;f.isEmptyLocalThread=P;f.isNewEmptyLocalThread=sb;f.getPinnedThreadlist=Q;f.unsubscribeThread=R;f.sendJS=U;f.invalidateSearchedMessages=wb;f.hasLoadedNMessages=W;f.hasLoadedAllMessages=X;f.getCurrentlyLoadedMessages=ub;f.getServerMessageID=V;f.getMessagesFromIDs=vb;f.getThreadMessagesRange=yb;f.getThreadMessagesRangeNow=Y;f.fetchMoreMessages=zb;f.processPollStickerVoted=T;f.getUnseenUnreadCount=Ab;f.getUnseenUnreadCountRaw=Z;f.markAsSeen=Bb;f.processJSActions=tb;f.Provider=D;f.jsComponent=C}),null);
__d("MercuryDelayedDispatcher",["MercuryDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=b("MercuryThreadIDMap").getForFBID(this.$1),this.$4=b("MercuryDispatcher").getForFBID(this.$1),this.$5=b("MercuryServerRequests").getForFBID(this.$1),this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$4.subscribe("model-update-completed",function(a,b){return this.$7()}.bind(this))}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.handleUpdateWaitForThread=function(a,b){var c=this.$3.getClientIDFromServerIDNow(b);if(c){this.$8(a);return}this.$3.getClientIDFromServerID(b,function(){return this.$2.push({thread_fbid:b,payload:a})}.bind(this));this.$5.ensureThreadIsFetched(b)};a.prototype.$7=function(){if(this.$2&&this.$2.length){var a=this.$2.shift(),b=a.thread_fbid;a=a.payload;this.handleUpdateWaitForThread(a,b)}};a.prototype.$8=function(a){a.from_client?this.$4.handleUpdate(a):this.$6.handleUpdate(a)};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryDispatcher",["invariant","ArbiterMixin","LogHistory","MercuryActionType","MercuryPayloadSource","MercurySingletonProvider","MercuryThreadInformer","MessengerParticipants.bs","MessengerState.bs","isEmpty","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("LogHistory").getInstance("mercury_dispatcher");c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));h=c&&c.prototype;a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};function a(a){h.constructor.call(this),this.$MercuryDispatcher1=a}a.prototype.handlePreprocessedUpdate=function(a){a.preprocessed=!0,this.handleUpdate(a)};a.prototype.handleUpdate=function(a){__p&&__p();this.$MercuryDispatcher2(a),!!a.from_client!==!!a.preprocessed||g(0,5757),delete a.preprocessed,b("isEmpty")(a)||b("MercuryThreadInformer").getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){__p&&__p();a.payload_source===b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE&&(this.inform("invalidate-global-state",{}),b("MessengerParticipants.bs").reset());if(a.payload_source===b("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE){var c=a.threads&&a.threads.length>0&&a.threads[0]&&a.threads[0].thread_id;c&&this.inform("invalidate-thread-state",c)}b("MessengerParticipants.bs").addParticipants(a);b("MessengerState.bs").sendJS(this.$MercuryDispatcher1,b("MessengerState.bs").processJSActions(a));this.inform("update-threadlist",a);this.inform("update-messages",a);this.inform("model-update-completed",null)}.bind(this))};a.prototype.$MercuryDispatcher2=function(a){__p&&__p();var c=a.payload_source;if(c===b("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS||c===b("MercuryPayloadSource").CLIENT_MARK_THREAD_SEEN)return;var d={from_client:a.from_client,messages:null};if(a.actions){a=a.actions.filter(function(a){return a.action_type===b("MercuryActionType").USER_GENERATED_MESSAGE||a.action_type===b("MercuryActionType").LOG_MESSAGE}).map(function(a){return{action_type:a.action_type,other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,message_id:a.message_id}});a.length&&(d.messages=a)}i.debug("update:"+c,JSON.stringify(d))};var j=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySendErrorLogger",["Banzai","BanzaiLogger"],(function(a,b,c,d,e,f){var g=b("BanzaiLogger").create({retry:!0}),h=b("Banzai").isEnabled("mercury_send_error_logging");a={log:function(a){if(!h)return;a={message_id:a.message_id,timestamp_client:Date.now(),error_type:a.error_data.type,error_code:a.error_data.code,error_description:a.error_data.description,is_transient:a.error_data.is_transient};g.log("MercurySendErrorLoggerConfig",a)}};e.exports=a}),null);
__d("MercuryServerPayloadPreprocessor",["invariant","MercuryActionStatus","MercuryActionType","MercuryAttachment","MercuryDispatcher","MercuryIDs","MercurySendErrorLogger","MercurySingletonProvider","MercuryThreadIDMap","MessengerEnvironment","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercuryDispatcher").getForFBID(this.$1)}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};a.prototype.handleUpdate=function(a){__p&&__p();var c={};a.from_client&&g(0,2150);(a.threads||[]).forEach(function(a){this.$4(a,c);var b=this.$2.getServerIDFromClientIDNow(a.thread_id);d(["MercuryServerRequests"],function(c){c=c.getForFBID(this.$1);c.markThreadFetched(a.thread_id);b&&c.markThreadFetched(b);c.updateLastActionTimestamp(a.timestamp)}.bind(this))}.bind(this));a.pinned_thread_ids=(a.pinned_thread_ids||[]).map(function(a){return this.$2.getClientIDFromServerIDNow(a)}.bind(this));(a.ordered_threadlists||[]).forEach(function(a){var b=a.thread_fbids||[];b=b.concat(a.other_user_fbids||[]);a.thread_ids=b.map(function(a){return this.$2.getClientIDFromServerIDNow(a.toString())}.bind(this))}.bind(this));if(a.delivery_receipts){var e={};for(var f=a.delivery_receipts,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=j.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(j.other_user_fbid):this.$2.getClientIDFromServerIDNow(j.thread_fbid);k&&(e[k]=j.time)}a.delivery_receipts=e}a.actions=a.actions||[];a.actions.forEach(function(e){e.action_type===b("MercuryActionType").SEND_MESSAGE&&e.status===b("MercuryActionStatus").ERROR&&b("MercurySendErrorLogger").log(e);var f=null,h=null;e.other_user_fbid?(h=b("MercuryIDs").getThreadIDFromUserID(e.other_user_fbid),f=e.other_user_fbid):e.thread_fbid?(h=b("MercuryIDs").getThreadIDFromThreadFBID(e.thread_fbid),f=e.thread_fbid):e.thread_id?(h=b("MercuryIDs").getThreadIDFromThreadFBID(e.thread_id),f=e.thread_id):e.status&&e.status!=b("MercuryActionStatus").SUCCESS&&e.client_thread_id?h=e.client_thread_id:g(0,2151,e.action_type,e.status);f=f&&f.toString();e.thread_id=this.$2.hasClientIDForServerID(f)?this.$2.getClientIDFromServerIDNow(f):h;e.action_type==b("MercuryActionType").SEND_MESSAGE&&e.client_thread_id&&f&&(e.thread_id=e.client_thread_id,this.$2.forceSetServerIDToClientID(f,e.client_thread_id),c[f]=e.client_thread_id);e.thread_id||g(0,2152,e.action_type);(!a.payload_source||!a.payload_source.startsWith("server"))&&d(["MercuryServerRequests"],function(a){a.getForFBID(this.$1).updateLastActionTimestamp(e.timestamp)}.bind(this))}.bind(this));this.$5(a);this.$6(a);if(a.end_of_history){k=[];for(var j=0;j<a.end_of_history.length;j++){i=a.end_of_history[j];i.type=="user"?k.push("user:"+i.fbid):i.type=="thread"&&this.$2.hasClientIDForServerID(i.fbid)&&k.push(this.$2.getClientIDFromServerIDNow(i.fbid))}a.end_of_history=k}if(a.roger){var l={};Object.keys(a.roger).forEach(function(c){__p&&__p();var d=Object.keys(a.roger[c]),e;c?e=this.$2.getClientIDFromServerIDNow(c):d.length===1&&(e=b("MercuryIDs").getThreadIDFromUserID(d[0]));if(e){d=a.roger[c];l[e]={};for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){c=b("MercuryIDs").getParticipantIDFromUserID(f);l[e][c]=d[f]}}}.bind(this));a.roger=l}a.newlyAddedClientIDs=c;a.preprocessed=!0;this.$3.handleUpdate(a)};a.prototype.$4=function(a,c){var d=a.other_user_fbid?a.other_user_fbid:a.thread_fbid;d||g(0,2153);var e=this.$2.getClientIDFromServerIDNow(d);e||(e=a.other_user_fbid?b("MercuryIDs").getThreadIDFromUserID(a.other_user_fbid):b("MercuryIDs").getThreadIDFromThreadFBID(a.thread_fbid),this.$2.setServerIDToClientID(d,e),this.$2.setDeprecatedServerIDToClientID(a.thread_id,e),c[d]=e);a.thread_id=e};a.prototype.$5=function(a){a.actions.forEach(function(a){a.action_type===b("MercuryActionType").USER_GENERATED_MESSAGE&&(a.attachments=a.attachments||[],a.attachments.forEach(function(a){if(b("MercuryAttachment").isShareAttachment(a)&&a.share&&b("MessengerEnvironment").messengerui){var c=new(b("URI"))(a.share.uri);c.getDomain()||(a.share.uri=c.setDomain("facebook.com").setSubdomain(b("URI").getRequestURI().getSubdomain()).setProtocol("https").toString())}}))})};a.prototype.$6=function(a){__p&&__p();a.actions.forEach(function(a){__p&&__p();if(a.action_type!==b("MercuryActionType").USER_GENERATED_MESSAGE)return;a=a;if(!a.has_attachment||!a.attachments)return;for(var c=a.attachments.length-1;c>=0;c-=1){var d=a.attachments[c];if(!d.share||!d.share.style_list||d.share.style_list[0]!="genie_message")continue;d.share.target.genie_id&&(a.author=b("MercuryIDs").getParticipantIDFromUserID(d.share.target.genie_id));d.share.target&&!d.share.target.attachment&&(a.attachments.splice(c,1),a.has_attachment=a.attachments.length>0)}})};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryErrorType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SERVER:1,TRANSPORT:2,TIMEOUT:3})}),null);
__d("MercuryServerSendMessageQueueOptions",[],(function(a,b,c,d,e,f){function a(a,b,c,d,e,f){"use strict";this.success_handler=a,this.error_handler=b,this.transport_error_handler=c,this.timeout_handler=d,this.timeout=e,this.connection_retries=f}e.exports=a}),null);
__d("MercurySourceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_LIGHT_SPEED:"source:chat:light_speed",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",WHATSAPP_CALLBACK:"source:wa_callback",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MARKETPLACE_BOT:"source:marketplace:bot",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_INBOX:"source:internal:test_inbox",INTERNAL_TEST_PENDING:"source:internal:test_pending",INTERNAL_TEST_OTHER:"source:internal:test_other",INTERNAL_TEST_ML_ONLY:"source:internal:test_ml_only",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",PAGES_COMPOSER:"source:pages:composer",PTX:"source:ptx",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",GEMSTONE:"source:gemstone",WATCH_PARTY:"source:watch_party",WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT:"source:work:activation_card_general_group_chat",SCHOOL_COMMUNITY:"source:school_community",SCHOOL_COMMUNITY_COURSE:"source:school_community_course",BELL_RESEARCH:"source:bell_research",BELL_MESSENGER_LINKED:"source:bell_messenger_linked",BELL_MESSENGER_UNLINKED:"source:bell_messenger_unlinked",BELL_MESSENGER_ONBOARD:"source:bell_messenger_onboard",PROFILE_MEET_NEW_FRIENDS:"source:profile_meet_new_friends",PROFILE_MEET_NEW_FRIENDS_REPLY:"source:profile_meet_new_friends_reply",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",FRIENDVERSARY_BUMP:"source:messenger_growth:friendversary_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",MESSENGER_BROADCASTFLOW:"source:messenger:broadcastflow",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES_GAME_UPDATE:"source:instant_games_game_updates",INSTANT_GAMES_MATCH_MAKING:"source:instant_games_match_making",INSTANT_GAMES_GROUP_CREATION:"source:instant_games_group_creation",MOBILE_GAME_SHARE:"source:games_app:mobile_game_share",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",GROUPSYNC_THREAD_INFO_SYNC_FROM_FB:"source:groupsync:thread_info_sync",WORK_GROUP_SYNCED_CHAT_CREATION:"source:work:groupchat:creation",WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION:"source:work:defaultgroupchat:creation",WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC:"source:work:groupchat:member_sync",WORK_GROUP_SYNCED_CHAT_DESCRIPTION_SYNC:"source:work:groupchat:description_sync",WORK_GROUP_SYNCED_CHAT_NAME_SYNC:"source:work:groupchat:name_sync",PAGE_PQI_MESSAGE:"source:pages:pqi_message",PAGE_PLUGIN_MESSAGE:"source:pages:page_plugin_message",WORKPLACE_CHAT_DESKTOP:"source:workchat:desktop",CREATOR_STUDIO:"source:creator_studio",FB_GROUP_ADMINSHIP_SYNC:"source:fbgroup:adminship_sync",FB_GROUP_CHAT_MUTE_MEMBER:"source:fbgroup:mute_member",MESSENGER_ADS_PARTIAL_AUTOMATED_REMINDER:"source:ads_partial_automated:reminder",MENTORSHIP:"source:mentorship",VOD_CONVERSATION:"source:vod_conversation",LOCAL_SEARCH_SERVICES:"source:local_search_services",YOUTH_VAULT:"source:youth_vault",MESSENGER_KIDS:"source:messenger_kids",STORY_REPLY:"source:story_reply"})}),null);
__d("MercurySyncConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER"});e.exports=a}),null);
__d("MercurySyncDeltaHolder",["MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$2=new Map(),this.$3=[],this.$1=0}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.peek=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3[0]};a.prototype.getTop=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3.reverse()[0]};a.prototype.pop=function(){this.$3=this.$3.sort(function(a,b){return a-b});if(this.$3.length===0)return void 0;var a=this.$3.shift(),b=this.$2.get(a);this.$2["delete"](a);return{seqID:a,delta:b}};a.prototype.push=function(a,b){if(this.$2.has(a))return;this.$2.set(a,b);this.$3.push(a)};a.prototype.getLastSeqID=function(){return this.$1};a.prototype.updateLastSeqID=function(a){this.$1=a};a.prototype.updateLastSeqIDAndClearHistory=function(a){this.$2=new Map(),this.$3=[],this.$1=a};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("XMercuryUnseenThreadIDsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/unseen_thread_ids/",{})}),null);
__d("XMessagingChangeMentionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_mentions_mute_thread/",{})}),null);
__d("XMessagingChangeReactionsMuteModeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/change_reactions_mute_thread/",{})}),null);
__d("MercuryServerRequests",["errorCode","invariant","Promise","Arbiter","AsyncResponse","BanzaiODS","Bootloader","ChannelConstants","ChatReliabilityInstrumentation","CurrentUser","EventProfiler","FBJSON","LogHistory","MercuryActionStatus","MercuryActionType","MercuryAPIArgsSource","MercuryAssert","MercuryDispatcher","MercuryErrorType","MercuryGlobalActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageClientState","MercuryMessageIDs.bs","MercuryPayloadSource","MercurySendErrorLogger","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercuryServerRequestsConfig","MercuryServerSendMessageQueueOptions","MercuryServerSendMessageQueueRouter","MercuryServerURIs","MercurySingletonProvider","MercurySourceType","MercurySyncConstants","MercurySyncDeltaHolder","MercuryThreadIDMap","MessagingConfig","MessagingTag","XMercuryUnseenThreadIDsController","XMessagingChangeMentionsMuteModeController","XMessagingChangeReactionsMuteModeController","createObjectFrom","gkx","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LogHistory").getInstance("mercury_server"),j=b("MercuryAPIArgsSource").MERCURY,k=30*1e3,l=!0;function m(a){return a.getError()?"_"+a.getError():""}function n(a,c){__p&&__p();var d=babelHelpers["extends"]({},a),e;if(c.threads){d.threads||(d.threads={});for(e in c.threads)d.threads[e]=Object.keys(b("createObjectFrom")((d.threads[e]||[]).concat(c.threads[e]||[])))}if(c.messages){d.messages||(d.messages={});for(e in c.messages){d.messages[e]||(d.messages[e]={});for(var f in c.messages[e])d.messages[e][f]?d.messages[e][f]=r(d.messages[e][f],c.messages[e][f]):d.messages[e][f]=c.messages[e][f]}}d.client=a.client||c.client;return d}function o(a,c){var d=Object.assign(b("createObjectFrom")(a.folders,!0),b("createObjectFrom")(c.folders,!0));a=a.client||c.client;return{folders:Object.keys(d),client:a}}function p(a,b){for(var c in b)if(a[c]&&typeof a[c]==="object")a[c]=r(a[c],b[c]);else if(b[c]&&typeof b[c]==="object"){var d={};Object.assign(d,b[c]);a[c]=d}return a}function q(a,b){return b}function r(a,b){var c=Math.max(a.limit,b.limit),d;!a.timestamp?d=b.timestamp:!b.timestamp?d=a.timestamp:d=Math.min(a.timestamp,b.timestamp);return{limit:c,timestamp:d}}function s(a,b){var c=a.client||b.client;c={ids:{},client:c};Object.assign(c.ids,a.ids,b.ids);return c}function t(a,c){__p&&__p();var d={},e,f=a.client||c.client;delete a.client;delete c.client;for(e in a)Object.assign(d,b("createObjectFrom")(a[e],e));for(e in c)Object.assign(d,b("createObjectFrom")(c[e],e));a={client:f};for(var g in d)e=d[g],a[e]||(a[e]=[]),a[e].push(g);return a}function u(a,c){var d=a.client||c.client;a=b("createObjectFrom")(a.ids,!0);c=b("createObjectFrom")(c.ids,!0);a=Object.assign(a,c);return{ids:Object.keys(a),client:d}}function v(a){this.$1=a,this.$2=0,this.$3={},this.$4={},this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1),this.$5=b("MercuryDispatcher").getForFBID(this.$1),this.$6=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$7=new(b("MercuryServerSendMessageQueueOptions"))(function(a,b){this.__handleUpdate(a,b)}.bind(this),function(a){return this.$9(a)}.bind(this),function(a){this.$10(a)}.bind(this),function(a){return this.$11(a)}.bind(this),b("MercuryServerRequestsConfig").sendMessageTimeout,b("MessagingConfig").SEND_CONNECTION_RETRIES),this.$8=b("MercurySyncDeltaHolder").getForFBID(this.$1),this.$12()}v.getForFBID=function(a){return w.getForFBID(a)};v.get=function(){return w.get()};v.prototype.fetchThreadlistInfo=function(a,c,d,e,f,g){d===void 0&&(d=b("MessagingTag").INBOX);f===void 0&&(f=j);l&&(l=!1,b("EventProfiler").tagCurrentActiveInteractionsAs("FirstMercuryThreadFetch"));var h=e?b("MercuryServerDispatcher").IMMEDIATE:null;f={client:f};f[d]={offset:a,limit:c,filter:e,before:g};this.__sendRequest(b("MercuryServerURIs").THREADLIST_INFO,f,h)};v.prototype.fetchPinnedThreadlistInfo=function(){var a={};a.onlyPinnedThreads=!0;this.__sendRequest(b("MercuryServerURIs").THREADLIST_INFO,a,null)};v.prototype.fetchUnseenThreadIDs=function(a,c){a===void 0&&b("MessagingTag").INBOX,c===void 0&&(c=j),this.__sendRequest(b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString(),{})};v.prototype.fetchUnreadThreadIDs=function(a,c){c===void 0&&(c=j),this.__sendRequest(b("MercuryServerURIs").UNREAD_THREADS,{folders:[a],client:c})};v.prototype.fetchThreadData=function(a,c){__p&&__p();c===void 0&&(c=j);b("MercuryAssert").allThreadID(a);var d={threads:{},client:c},e=[],f=[];a.forEach(function(a){__p&&__p();if(this.$3[a])return;this.$3[a]=!0;var c=this.__threadIDMap.getServerIDFromClientIDNow(a);a=b("MercuryIDs").tokenize(a);if(a.type=="user")e.push(a.value),d.threads.user_ids=e;else if(a.type=="thread")c?f.push(c):f.push(a.value),d.threads.thread_fbids=f;else if(a.type=="root")c&&(f.push(c),d.threads.thread_fbids=f);else if(a.type!="pending")throw new Error("Unknown thread type",a)}.bind(this));d.threads.user_ids&&d.threads.user_ids.forEach(function(a){a||(i.error("empty user id",JSON.stringify(e)),b("ChatReliabilityInstrumentation").logERROR("Invalid user ID sent to thread_info.php: "+JSON.stringify(e)))});d.threads.thread_fbids&&d.threads.thread_fbids.forEach(function(c){c||b("ChatReliabilityInstrumentation").logERROR("Invalid FBID sent to thread_info.php: "+JSON.stringify(a))});for(var g in d.threads){this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,d);break}};v.prototype.ensureThreadIsFetched=function(a,c){__p&&__p();c===void 0&&(c=j);if(!this.__threadIDMap.getClientIDFromServerIDNow(a)&&!this.$3[a]){if(!a){b("ChatReliabilityInstrumentation").logERROR("Ensure invalid FBID sent to thread_info.php");i.error("attempting to fetch empty thread_fbid. Bad idea!");return}this.$3[a]=!0;this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,{threads:{thread_fbids:[a]},client:c})}};v.prototype.fetchThreadMessages=function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=j);b("MercuryAssert").isThreadID(a);var h;c=b("MercuryIDs").tokenize(a);var i=this.__threadIDMap.getServerIDFromClientIDNow(a),k=!1;if(i)i=i,h=c.type=="user"?"user_ids":"thread_fbids";else{i=c.value;switch(c.type){case"user":h="user_ids";k=!0;break;case"thread":h="thread_fbids";break}}var l={messages:{},threads:{},client:g};h?(l.messages[h]={},l.messages[h][i]={timestamp:e,limit:d},k&&(l.threads[h]=[i]),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,l,f)):this.__threadIDMap.getServerIDFromClientID(a,function(a){l.messages.thread_fbids={},l.messages.thread_fbids[a]={timestamp:e,limit:d},this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,l,f)}.bind(this))};v.prototype.handleThreadInfoError=function(a,c){__p&&__p();var d=a.getData();a=[];if(d.messages){for(var e in d.messages.thread_fbids){var f=this.__threadIDMap.getClientIDFromServerIDNow(e);f&&a.push(this.$13(f))}for(var g in d.messages.user_ids)a.push(this.$13("user:"+g));for(var h in d.messages.group_ids)a.push(this.$13("group:"+h))}a.length&&this.$5.handleUpdate({actions:a,from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE});if(d.threads&&(d.threads.user_ids||d.threads.thread_fbids||d.threads.group_ids||d.threads.thread_ids)){f=5;a=!0;!d.retry_count?(d.retry_count=0,d.messages&&delete d.messages):d.retry_count>=f&&(!c||!b("gkx")("678666"))&&(a=!1,(d.threads.thread_ids||[]).concat(d.threads.thread_fbids||[]).forEach(function(a){a in this.$3&&delete this.$3[a]},this));if(a){c=Math.pow(2,Math.min(d.retry_count,f))*1e3;b("setTimeoutAcrossTransitions")(function(){i.log("retry_thread","{}"),this.__sendRequest(b("MercuryServerURIs").THREAD_INFO,d)}.bind(this),c);d.retry_count++}}};v.prototype.markFolderAsRead=function(a){this.__sendRequest(b("MercuryServerURIs").MARK_FOLDER_READ,{folder:a});a=[{action_type:b("MercuryGlobalActionType").MARK_ALL_READ,folder:a}];this.$5.handleUpdate({global_actions:a,from_client:!0,payload_source:b("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS})};v.prototype.changeThreadReadStatus=function(a,c,d,e,f,g){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(h){var j;j={ids:(j={},j[h]=c,j),source:d,watermarkTimestamp:e,shouldSendReadReceipt:f,commerce_last_message_type:g};i.log("initiate_change_read_status",JSON.stringify({thread_id:a,thread_fbid:h,mark_as_read:c,watermarkTimestamp:e}));this.__sendRequest(b("MercuryServerURIs").CHANGE_READ_STATUS,j)}.bind(this))};v.prototype.changeThreadArchivedStatus=function(a,c,d){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={ids:{},source:d};e.ids[a]=c;this.__sendRequest(b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS,e)}.bind(this))};v.prototype.changeThreadPinnedStatus=function(a,c,d){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={ids:{},source:d};e.ids[a]=c;this.__sendRequest(b("MercuryServerURIs").CHANGE_PINNED_STATUS,e)}.bind(this))};v.prototype.changeThreadPageFollowUpStatus=function(a,c,d){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){var e={ids:{},source:d};e.ids[a]=c;this.__sendRequest(b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS,e)}.bind(this))};v.prototype.changeThreadFolder=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){var d={};d[c]=[a];this.__sendRequest(b("MercuryServerURIs").MOVE_THREAD,d)}.bind(this))};v.prototype.changeMutingOnThread=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){this.__sendRequest(b("MercuryServerURIs").CHANGE_MUTE_THREAD,{thread_fbid:a,mute_settings:c,payload_source:j})}.bind(this))};v.prototype.changeMentionsMutingOnThread=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){this.__sendRequest(b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,mentions_mute_mode:c,payload_source:j})}.bind(this))};v.prototype.changeReactionsMutingOnThread=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){this.__sendRequest(b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI(),{thread_fbid:a,reactions_mute_mode:c,payload_source:j})}.bind(this))};v.prototype.markThreadSpam=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){this.__sendRequest(b("MercuryServerURIs").MARK_SPAM,{id:a,source:c})}.bind(this))};v.prototype.unmarkThreadSpam=function(a,c){b("MercuryAssert").isThreadID(a),this.__threadIDMap.getServerIDFromClientID(a,function(a){this.__sendRequest(b("MercuryServerURIs").UNMARK_SPAM,{id:a,source:c})}.bind(this))};v.prototype.deleteThread=function(a,b){this.deleteThreads([a],b)};v.prototype.deleteThreads=function(a,c){b("promiseDone")(b("Promise").all(a.map(function(a){b("MercuryAssert").isThreadID(a);return new(b("Promise"))(function(b){return this.__threadIDMap.getServerIDFromClientID(a,b)}.bind(this))}.bind(this))).then(function(a){this.__sendRequest(b("MercuryServerURIs").DELETE_THREAD,{ids:a,source:c})}.bind(this)))};v.prototype.deleteMessages=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(c||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELETE_MESSAGES,{message_ids:a})}.bind(this))};v.prototype.sendDeliveryReceipts=function(a,c){b("MercuryMessageIDs.bs").getServerIDs(a||[],function(a){this.__sendRequest(b("MercuryServerURIs").DELIVERY_RECEIPTS,{message_ids:a,thread_ids:c})}.bind(this))};v.prototype.sendNewMessage=function(a,c){__p&&__p();c===void 0&&(c=j);a.offline_threading_id||b("BanzaiODS").bumpEntityKey("chat.web","missing_otid_on_send");if(a.client_state&&a.client_state!==b("MercuryMessageClientState").SEND_TO_SERVER)return;var d=b("MercuryIDs").tokenize(a.thread_id),e=d.type,f=babelHelpers["extends"]({},a);f.thread_id=null;e=="user"?(f.other_user_fbid=d.value,this.$14(f,c)):e=="thread"?(f.thread_fbid=d.value,this.$14(f,c)):e=="root"&&d.value==f.offline_threading_id?(f.client_thread_id=a.thread_id,this.$14(f,c)):(b("MercuryIDs").isLocalThread(a.thread_id)||h(0,5587,a.thread_id),this.__threadIDMap.getServerIDFromClientID(a.thread_id,function(a){f.thread_fbid=a,this.$14(f,c)}.bind(this)));b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){b.markerStart(c.SEND_MESSAGE,a.offline_threading_id)},"MercuryServerRequests")};v.prototype.$14=function(a,c){b("Arbiter").inform(b("ChannelConstants").ATTEMPT_RECONNECT),this.$4[a.message_id]=Date.now(),b("MercuryServerSendMessageQueueRouter").getForFBID(this.$1).enqueue(a.other_user_fbid||a.thread_fbid||a.client_thread_id,this.$7,c,a)};v.prototype.__getSendMessageQueueOptions=function(){return this.$7};v.prototype.markSeen=function(){var a=this.$2;this.__sendRequest(b("MercuryServerURIs").MARK_SEEN,{seen_timestamp:a})};v.prototype.$15=function(a,c,d,e){__p&&__p();a=a.getData();a=a.message_batch||[a];i.debug("handle_send_message_error_common",JSON.stringify({reliability_error_status:d,request_error_status:c,error_data:e,message_list:a}));b("ChatReliabilityInstrumentation").logERROR("send_message_fail");var f=a.map(function(a){a={action_type:b("MercuryActionType").SEND_MESSAGE,other_user_fbid:a.other_user_fbid,thread_fbid:a.thread_fbid,client_message_id:a.message_id,message_id:a.message_id,client_thread_id:a.client_thread_id,status:c,error_data:e};return a});f.forEach(function(a){a.action_type===b("MercuryActionType").SEND_MESSAGE&&a.status===b("MercuryActionStatus").ERROR&&this.__logMercurySendError(a)},this);d={actions:f,payload_source:b("MercuryPayloadSource").CLIENT_HANDLE_ERROR};b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(a,b){f.map(function(c){a.markerEnd(b.SEND_MESSAGE,"FAIL",c.client_message_id)})},"MercuryServerRequests");this.$6.handleUpdate(d)};v.prototype.handleSendMessageError=function(a){var c=a.getPayload(),d=null,e=null;c&&c.error_payload?(d=b("MercuryActionStatus").UNCONFIRMED,e="send_error"):(d=b("MercuryActionStatus").ERROR,e="request_error"+m(a));c=a.error;c===1404102?b("AsyncResponse").verboseErrorHandler(a):c===1545052&&b("AsyncResponse").defaultErrorHandler(a);c=/<.*>/.test(a.getErrorDescription())?a.getErrorSummary():a.getErrorDescription();this.$15(a.getRequest(),d,e,{type:b("MercuryErrorType").SERVER,code:a.getError(),description:c,is_transient:a.isTransient()})};v.prototype.handleSendMessageTransportError=function(a){this.$15(a.getRequest(),b("MercuryActionStatus").ERROR,"transport_error"+m(a),{type:b("MercuryErrorType").TRANSPORT,code:a.getError(),is_transient:!0})};v.prototype.handleSendMessageTimeout=function(a){this.$15(a,b("MercuryActionStatus").ERROR,"transport_timeout",{type:b("MercuryErrorType").TIMEOUT,is_transient:!0})};v.prototype.getLastActionTimestamp=function(){return this.$2};v.prototype.__logMercurySendError=function(a){b("MercurySendErrorLogger").log(a)};v.prototype.updateLastActionTimestamp=function(a){var b=Date.now()-1e3*60*60*24;a&&a>b&&(this.$2=Math.max(this.$2,a))};v.prototype.markThreadFetched=function(a){delete this.$3[a]};v.prototype.$13=function(a){return{action_type:b("MercuryActionType").LOG_MESSAGE,thread_id:a,message_id:a,timestamp:Date.now(),is_unread:!1,source:b("MercurySourceType").UNKNOWN,log_message_body:"",log_message_type:b("MercuryLogMessageType").SERVER_ERROR,log_message_data:{}}};v.prototype.__getForAsyncRequest=function(a){a=a.getData();a=a.request_user_id?a.request_user_id:b("CurrentUser").getID();return v.getForFBID(a)};v.prototype.__handleUpdate=function(a,c){a.payload_source===b("MercuryPayloadSource").SERVER_SEND_MESSAGE&&b("Bootloader").loadModules(["QuickPerformanceLogger","MessengerWebQuickLogModule"],function(b,c){var d=a.actions&&a.actions[0]&&a.actions[0].client_message_id;d&&b.markerEnd(c.SEND_MESSAGE,"SUCCESS",d)},"MercuryServerRequests"),this.__getForAsyncRequest(c).$6.handleUpdate(a)};v.prototype.$16=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a)};v.prototype.$17=function(a){var b=this.__getForAsyncRequest(a);b.handleThreadInfoError(a,!0)};v.prototype.$9=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageError(a)};v.prototype.$10=function(a){var b=this.__getForAsyncRequest(a.getRequest());b.handleSendMessageTransportError(a)};v.prototype.$11=function(a){var b=this.__getForAsyncRequest(a);b.handleSendMessageTimeout(a)};v.prototype.$12=function(){__p&&__p();var a,c=null;b("MercuryServerRequestsConfig").msgrRegion&&(c={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});a=(a={},a[b("MercuryServerURIs").THREAD_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_DEFERRED_MULTI,customHeader:c,batch_function:n,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this),error_handler:function(a){return this.$16(a.getRequest())}.bind(this),timeout_handler:function(a){return this.$17(a)}.bind(this),timeout:k},a[b("MercuryServerURIs").MARK_FOLDER_READ]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").CHANGE_READ_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){this.__handleUpdate(a,b);b=(a.threads||[]).map(function(a){return a&&a.thread_id});i.log("response_change_read_status",JSON.stringify({threads:b}))}.bind(this)},a[b("MercuryServerURIs").MARK_SEEN]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:q,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").THREADLIST_INFO]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:c,batch_function:p,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").MARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").UNMARK_SPAM]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").UNREAD_THREADS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE_UNIQUE,customHeader:c,batch_function:o,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").CHANGE_ARCHIVED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:s,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").CHANGE_PINNED_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:s,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").CHANGE_PAGE_FOLLOW_UP_STATUS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:s,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").DELETE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:u,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").DELETE_MESSAGES]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").DELIVERY_RECEIPTS]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").MOVE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").BATCH_SUCCESSIVE,customHeader:c,batch_function:t,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a[b("MercuryServerURIs").CHANGE_MUTE_THREAD]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)},a);var d=b("XMercuryUnseenThreadIDsController").getURIBuilder().getURI().toString();a[d]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)};d=b("XMessagingChangeMentionsMuteModeController").getURIBuilder().getURI().toString();a[d]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)};d=b("XMessagingChangeReactionsMuteModeController").getURIBuilder().getURI().toString();a[d]={request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:c,handler:function(a,b){return this.__handleUpdate(a,b)}.bind(this)};b("MercuryServerDispatcher").registerEndpoints(a)};v.prototype.__sendRequest=function(a,c,d){if(this.$8)switch(a){case b("MercuryServerURIs").THREADLIST_INFO:case b("MercuryServerURIs").THREAD_INFO:c.cachius_min_seq_id=this.$8.getLastSeqID();break;default:break}b("MercuryServerDispatcher").trySend(a,c,d,this.$1)};v.prototype.__getFBID=function(){return this.$1};var w=new(b("MercurySingletonProvider"))(v);e.exports=v}),null);
__d("MercuryThreadIDMap",["KeyedCallbackManager","MercuryAssert","MercuryIDs","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=new(b("KeyedCallbackManager"))(),this.$3=new(b("KeyedCallbackManager"))()}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.setServerIDToClientID=function(a,b){var c=this.getClientIDFromServerIDNow(a);if(c){c!==b;return}this.forceSetServerIDToClientID(a,b)};a.prototype.forceSetServerIDToClientID=function(a,b){this.$2.setResource(a,b),this.$3.setResource(b,a)};a.prototype.setDeprecatedServerIDToClientID=function(a,b){a&&this.$2.setResource(a,b)};a.prototype.getClientIDFromServerIDNow=function(a){return this.$2.getResource(a)};a.prototype.getClientIDFromServerID=function(a,b){this.$2.executeOrEnqueue(a,b),d(["MercuryServerRequests"],function(b){b.getForFBID(this.$1).ensureThreadIsFetched(a)}.bind(this))};a.prototype.getServerIDFromClientIDNow=function(a){return this.$3.getResource(a)};a.prototype.getServerIDFromClientID=function(a,c){b("MercuryAssert").isThreadID(a);var e=this.$3.executeOrEnqueue(a,c);d(["MercuryServerRequests"],function(c){var d=this.$3.getUnavailableResources(e),f=b("MercuryIDs").tokenize(a);d.length&&f.type!="root"&&c.getForFBID(this.$1).fetchThreadData(d)}.bind(this))};a.prototype.hasClientIDForServerID=function(a){return!!this.getClientIDFromServerIDNow(a)};a.prototype.convertThreadIDIfAvailable=function(a){var b=this.getClientIDFromServerIDNow(a);return b||a};a.prototype.canLinkExternally=function(a){b("MercuryAssert").isThreadID(a);var c=b("MercuryIDs").tokenize(a);return c.type=="user"||!!this.getServerIDFromClientIDNow(a)};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryLoggingHelper",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){return Array.from(a).slice(0,6).join("")}a={obfuscateThread:function(a){var b=babelHelpers["extends"]({},a);a&&a.snippet&&a.snippet.length>9&&(b.snippet=g(a.snippet)+"...");return b},obfuscateMessage:function(a){var b=babelHelpers["extends"]({},a);a&&a.body&&a.body.length>9&&(b.body=g(a.body)+"...");return b}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueSimulatedError",["AsyncRequest","AsyncResponse"],(function(a,b,c,d,e,f){var g=9999;a={create:function(a){a=new(b("AsyncRequest"))(this.endpoint_uri).setData({message_batch:[a],client:this.client});var c=new(b("AsyncResponse"))(a,{});Object.assign(c,{error:g,silentError:!1,transientError:!0,request:a});return c}};e.exports=a}),null);
__d("MessengerAttachmentTransformerForSend.bs",["bs_array","bs_caml_array","MercuryAttachmentType","MessengerMessageTransformer.bs","MessengerAttachmentTransformer.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d,e){__p&&__p();c=c.node;if(c==null)return{attach_type:b("MercuryAttachmentType").ERROR};else{if(c.__typename==="ExtensibleMessageAttachment"){var f=c.story_attachment,g=c.genie_attachment,h;if(g==null)h=null;else{g=g.genie_message;var i;if(g==null)i=null;else{g=g.story_attachment;i={story_attachment:g==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(g)}}h={genie_message:i}}g={legacy_attachment_id:c.legacy_attachment_id,story_attachment:f==null?null:b("MessengerMessageTransformer.bs").unsafeCastExtensibleAttachment(f),genie_attachment:h}}else g=null;i=c.__typename==="Sticker"?c:null;f=c.__typename;var j;switch(f){case"MessageAnimatedImage":case"MessageAudio":case"MessageFile":case"MessageImage":case"MessageVideo":j=[c];break;default:j=null}h=b("MessengerMessageTransformer.bs").unsafeCastBlobAttachments({blob_attachments:j});f=b("MessengerAttachmentTransformer.bs").transformAttachment(a,{extensible_attachment:g,blob_attachments:h,sticker:i},d,e);if(f.length!==0)return b("bs_caml_array").caml_array_get(f,0);else return{}}}function a(a,c,d,e){return b("bs_array").map(function(b){return g(a,b,d,e)},c)}f._transform=g;f.transform=a}),null);
__d("XMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/send/",{})}),null);
__d("MercuryServerSendMessageQueue",["fbt","BanzaiODS","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryIDs","MercuryLoggingHelper","MercuryServerDispatcher","MercuryServerRequestsConfig","MercuryServerSendMessageQueueSimulatedError","MercurySyncDeltaHandler","MessengerAttachmentTransformerForSend.bs","MessengerObjectAssociationType","MessengerState.bs","Run","XMessagingSendController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("mercury_server_send_message_queue");function a(a,c,d,e){__p&&__p();this.pending_message=null;this.queue=[];this.$6=function(){return this.queue.length||this.pending_message?g._("You haven't sent your message yet. Do you want to leave without sending?"):void 0}.bind(this);this.sender_id=a;this.queue_id=c;this.$2=d.success_handler;this.$1=d.error_handler;this.$4=d.transport_error_handler;this.$3=d.timeout_handler;this.$5=b("MercurySyncDeltaHandler").getForFBID(this.sender_id);this.client=e;b("Run").onBeforeUnload(this.$6,!1);a=null;b("MercuryServerRequestsConfig").msgrRegion&&(a={name:"X-MSGR-Region",value:b("MercuryServerRequestsConfig").msgrRegion});c=this.__getSendURI();c=(e={},e[c]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:b("MercuryServerDispatcher").IMMEDIATE,customHeader:a,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:d.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:d.connection_retries},e);b("MercuryServerDispatcher").registerEndpoints(c)}a.prototype.__getSendURI=function(){return b("XMessagingSendController").getURIBuilder().getURI().toString()};a.prototype.__preparePayload=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.replied_to_message)!=null?(c=c.message)!=null?c.message_id:c:c:c;var d=null,e=a.client_thread_id;if(b("MercuryIDs").isLocalThread(e)){e=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),e);if(e&&e.message_count===1&&e.object_association_type===b("MessengerObjectAssociationType").GENERAL_CHAT){d=(e=e)!=null?(e=e.associated_object)!=null?e.id:e:e}}e=c?b("MessengerState.bs").getServerMessageID(b("CurrentUser").getID(),c):null;return{client:this.client,action_type:a.action_type,app_id:a.app_id,audio_ids:a.audio_ids,body:a.body,client_thread_id:a.client_thread_id,ephemeral_ttl_mode:a.ephemeral_ttl_mode,file_ids:a.file_ids,gif_ids:a.gif_ids,has_attachment:a.has_attachment,image_ids:a.image_ids,location_attachment:a.location_attachment,lightweight_action_attachment:a.lightweight_action_attachment,log_message_data:a.log_message_data,log_message_type:a.log_message_type,message_id:a.message_id,message_source_data:a.message_source_data,montage_reply_data:a.montage_reply_data,offline_threading_id:a.offline_threading_id,other_user_fbid:a.other_user_fbid,photo_fbids:a.photo_fbids,shareable_attachment:a.shareable_attachment,signature_id:a.signatureID,source:a.source,specific_to_list:a.specific_to_list,sticker_id:a.sticker_id,tags:a.tags,thread_fbid:a.thread_fbid,timestamp:a.timestamp,ui_push_phase:a.ui_push_phase,video_ids:a.video_ids,platform_xmd:a.platform_xmd,profile_xmd:a.profile_xmd,replied_to_message_id:e,work_synced_group_id:d}};a.prototype.enqueue=function(a){this.queue.push(a),this.$7()};a.prototype.$7=function(){__p&&__p();if(this.pending_message||!this.queue.length){this.pending_message&&this.$8();return}this.pending_message=this.queue.shift();var a=this.__preparePayload(this.pending_message);for(var c in a)(a[c]===void 0||a[c]===null)&&delete a[c];if(!a.action_type){var d=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller");h.debug("missing_action_type",JSON.stringify(d))}if(!a.message_id){d=b("MercuryLoggingHelper").obfuscateMessage(a);b("ChatReliabilityInstrumentation").logERROR("missing action type before sending to send controller"+JSON.stringify(d));h.debug("missing_message_id",JSON.stringify(d))}this.$9();b("MercuryServerDispatcher").trySend(this.__getSendURI(),a,null,this.sender_id,this.queue_id)};a.prototype.$10=function(){while(this.queue.length)this.$11(this.queue.shift())};a.prototype.$11=function(a){this.$1(b("MercuryServerSendMessageQueueSimulatedError").create(a)),h.error("mark_as_failed",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,message:b("MercuryLoggingHelper").obfuscateMessage(a)}))};a.prototype.handleSuccess=function(a,c){__p&&__p();this.pending_message=null;var d=(a.actions||[]).map(function(a){__p&&__p();var c=babelHelpers["extends"]({},a);if(a.graphql_payload&&a.graphql_payload.length>0){var d=b("MessengerAttachmentTransformerForSend.bs").transform(this.sender_id,a.graphql_payload,a.message_id,a.for_page);c=Object.assign(c,{attachments:d})}d=(d=a)!=null?(d=d.log_message_data)!=null?d.graphql_image:d:d;if(d){d=b("MessengerAttachmentTransformerForSend.bs").transform(this.sender_id,[d],a.message_id,a.for_page);c=Object.assign(c,{log_message_data:{image:d[0]}})}return c}.bind(this));a.actions=d;this.resumeAfterSuccess(a,c)};a.prototype.resumeAfterSuccess=function(a,b){this.$2(a,b),this.$12(),this.$7()};a.prototype.handleError=function(a){this.pending_message=null,this.$12(),this.$1(a),this.$10()};a.prototype.handleTransportError=function(a){this.pending_message=null,this.$12(),this.$4(a),this.$10()};a.prototype.handleTimeout=function(a){this.pending_message=null,this.$12(),this.$3(a),this.$10()};a.prototype.$9=function(){this.$5.pause()};a.prototype.$12=function(){this.$5.resume()};a.prototype.$8=function(){h.debug("maybe_send_next_pending_message",JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,pending_message:b("MercuryLoggingHelper").obfuscateMessage(this.pending_message),queue:this.queue.map(function(a){return b("MercuryLoggingHelper").obfuscateMessage(a)})}));var a="send_queue.delayed.queue_length."+this.queue.length.toString();b("BanzaiODS").bumpEntityKey("chat.web",a)};e.exports=a}),null);
__d("MercurySingletonMixin",["CurrentUser"],(function(a,b,c,d,e,f){a={_getInstances:function(){this._instances||(this._instances={});return this._instances},get:function(){return this.getForFBID(b("CurrentUser").getID())},getForFBID:function(a){var b=this._getInstances();b[a]||(b[a]=new this(a));return b[a]}};e.exports=a}),null);
__d("MercuryServerSendMessageQueueRouter",["BanzaiODS","LogHistory","MercuryServerSendMessageQueue","MercurySingletonMixin"],(function(a,b,c,d,e,f){__p&&__p();var g=b("LogHistory").getInstance("mercury_server_send_message_queue_router"),h="chat.web.send_queue_router";b("BanzaiODS").setEntitySample(h,.1);function a(a){"use strict";this.queues=new Map(),this.fbid=a}a.prototype.enqueue=function(a,c,d,e){"use strict";var f=this.queues.get(a);f===void 0&&(f=new(b("MercuryServerSendMessageQueue"))(this.fbid,a,c,d),this.queues.set(a,f),g.debug("added queue",JSON.stringify({fbid:this.fbid,queue_id:a})),b("BanzaiODS").bumpEntityKey(h,"new_queue"));f.enqueue(e)};Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MercurySyncDataFetcherImpl",["invariant","Promise","AsyncResponse","Bootloader","CurrentUser","FBIDCheck","MercuryConfig","MercuryPayloadSource","MercuryThreadlistConstants","MessagingConfig","QE2Logger","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=null,i=null,j=null,k={limit:b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT+1,folder:"inbox",tags:["INBOX"],timestamp:null,filter:null,includeDeliveryReceipts:!1,includeSeqID:!0},l={};function a(a){return new(b("Promise"))(function(b,c){m(a,b,c,0)})}function m(a,c,d,e){__p&&__p();if(!b("CurrentUser").isLoggedInNow()||e>b("MessagingConfig").syncFetchRetries){b("clearTimeout")(l[a]);d();return}var f=e===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,e);b("UserActivity").isOnTab()||(b("QE2Logger").logExposureForUser("mercury_dff_fetch_delay",a),f+=b("MercuryConfig").DFFD*Math.random());b("clearTimeout")(l[a]);l[a]=b("setTimeoutAcrossTransitions")(function(){__p&&__p();var f=!1,n=function(h){__p&&__p();if(f)return;if(h.errors&&h.errors.length>0){var k=h.errors[0].message;if(k){var l=function(){j&&i||g(0,3650),new j().setErrorMessage(k).setEvent(i.DFF_FAILURE).setQueryParams(a).log()};j&&i?l():b("Bootloader").loadModules(["MessengerWebGraphQLTypedLogger","MessengerWebGraphQLEvent"],function(a,b){j=a,i=b,l()},"MercurySyncDataFetcherImpl")}}f=!0;m(a,c,d,e+1)},o=function(){if(!b("CurrentUser").isLoggedInNow())return;h||g(0,3651);h.fetchAll(a,[k],!b("FBIDCheck").isUser_deprecated(a),"dff").then(function(d){f=!0,c(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},d,{payload_source:b("MercuryPayloadSource").SERVER_INVALIDATE_GLOBAL_STATE}))),b("clearTimeout")(l[a])},n)};h?o():b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs"],function(a){h=a,o()},"MercurySyncDataFetcherImpl")},f)}function c(a,c,d){return new(b("Promise"))(function(b,e){n(a,c,d,b,e,0)})}function n(a,c,d,e,f,g){__p&&__p();if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;n(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerThreadDFFFetcher.bs"],function(f){return f.fetch(a,{id:c,limit:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a,{payload_source:b("MercuryPayloadSource").SERVER_INVALIDATE_THREAD_STATE})))},i)},"MercurySyncDataFetcherImpl")},h)}function d(a,c,d){return new(b("Promise"))(function(b,e){o(a,c,d,b,e,0)})}function o(a,c,d,e,f,g){__p&&__p();if(g>b("MessagingConfig").syncFetchRetries){f();return}var h=g===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,g);b("setTimeoutAcrossTransitions")(function(){var h=!1,i=function(b){if(h)return;h=!0;o(a,c,d,e,f,g+1)};b("Bootloader").loadModules(["MessengerMessageDFFFetcher.bs"],function(f){return f.fetch(a,{thread_id:c,message_id:d},!b("FBIDCheck").isUser_deprecated(a)).then(function(a){h=!0,e(new(b("AsyncResponse"))(null,babelHelpers["extends"]({},a)))},i)},"MercurySyncDataFetcherImpl")},h)}e.exports={fetchThreadlistFromGraphQL:a,fetchThreadFromGraphQL:c,fetchMessageFromGraphQL:d}}),null);
__d("MercurySyncDataFetcher",["Promise","LogHistory","MercurySyncDataFetcherImpl","MessagingConfig","WebGraphQLConfig","clearTimeout","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LogHistory").getInstance("mercury_sync_data_fetcher");function a(){var a=0;for(var c=0;c<b("MessagingConfig").syncFetchRetries;c++){var d=c===0?0:b("MessagingConfig").syncFetchInitialTimeoutMs*Math.pow(b("MessagingConfig").syncFetchTimeoutMultiplier,c);a+=d+b("MessagingConfig").syncFetchRequestTimeoutMs}return a}var h=a();function c(a){var c=null;return new(b("Promise"))(function(d,e){var f=function(a){g.error("fetch_threadlist_graphql_timeout",JSON.stringify({timeout:h})),b("clearTimeout")(c),e(a)};c=b("setTimeoutAcrossTransitions")(f,Math.max(h,b("WebGraphQLConfig").timeout*b("MessagingConfig").syncFetchRetries));b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadlistFromGraphQL(a),function(a){b("clearTimeout")(c),d(a)},f)})}function d(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_thread_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchThreadFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}function f(a,c,d){return new(b("Promise"))(function(e,f){var i=function(a){g.error("fetch_message_graphql_timeout",JSON.stringify({timeout:h})),f(a)},j=b("setTimeoutAcrossTransitions")(i,h);b("promiseDone")(b("MercurySyncDataFetcherImpl").fetchMessageFromGraphQL(a,c,d),function(a){b("clearTimeout")(j),e(a)},i)})}e.exports={fetchThreadlistFromGraphQL:c,fetchThreadFromGraphQL:d,fetchMessageFromGraphQL:f,getMaxTimeoutMs:a}}),null);
__d("MercurySyncDFFDataFetcher",["Promise","CurrentUser","MercurySingletonProvider","MercurySyncDataFetcher","MercuryThreadIDMap","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a,this.__threadIDMap=b("MercuryThreadIDMap").getForFBID(this.$1)}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.fetchInvalidateGlobalStateForGraphQL=function(){return this.$1&&this.$1!=="0"&&b("CurrentUser").isLoggedIn()?b("MercurySyncDataFetcher").fetchThreadlistFromGraphQL(this.$1):new(b("Promise"))(function(a,b){return b(!0)})};a.prototype.fetchInvalidateThreadState=function(a,c){var d=11,e=3;a=a||c;c=this.__threadIDMap.getClientIDFromServerIDNow(a);if(!c)return b("Promise").resolve({getPayload:function(){return{}}});e=e+b("MessengerState.bs").getCurrentlyLoadedMessages(this.$1,c).length;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchThreadFromGraphQL(this.$1,a,Math.max(e,d))};a.prototype.fetchInvalidateMessage=function(a,c,d){a=a||c;return!a?b("Promise").resolve({getPayload:function(){return{}}}):b("MercurySyncDataFetcher").fetchMessageFromGraphQL(this.$1,a,d)};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","LogHistory","MercurySingletonProvider","MercurySyncDeltaTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ChannelConstants").getArbiterType(b("ChannelConstants").FAKE_DFF),h=b("LogHistory").getInstance("dff_sender");a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}a.prototype.sendGlobalDFF=function(){h.debug("sendGlobalDFF",JSON.stringify({fbid:this.$1})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch},queue:this.$1}})};a.prototype.sendThreadDFF=function(a,c){h.debug("sendThreadDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c}},queue:this.$1}})};a.prototype.sendMessageDFF=function(a,c,d){h.debug("sendMessageDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:c,messageID:d})),b("Arbiter").inform(g,{obj:{delta:{"class":b("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:c},messageId:d},queue:this.$1}})};var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncChannelMonitor",["Arbiter","ChannelConstants","CurrentUser","MercurySingletonProvider","MercurySyncFakeDFFSender","MessengerMQTTGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.handleAwfulChannelEvent=function(){if(!b("CurrentUser").isLoggedInNow()){this.killSubscriptions();return}b("MercurySyncFakeDFFSender").getForFBID(this.$1).sendGlobalDFF()}.bind(this),this.$1=a,this.$2=!1}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.setupSubscriptions=function(){if(b("MessengerMQTTGating").isEnabled())return;this.$2||(this.$4=b("Arbiter").subscribe(b("ChannelConstants").JUMPSTART,this.handleAwfulChannelEvent),this.$3=b("Arbiter").subscribe(b("ChannelConstants").THROTTLED,this.handleAwfulChannelEvent),this.$2=!0)};a.prototype.killSubscriptions=function(){this.$2&&(b("Arbiter").unsubscribe(this.$4),b("Arbiter").unsubscribe(this.$3),this.$2=!1)};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncTopicType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"})}),null);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("TimeSlice").guard(function(){return b("Run").onAfterLoad(function(){b("requestIdleCallback")(a)})},"delayed after load",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};e.exports=a}),null);
__d("MercurySyncDeltaHandler",["invariant","Arbiter","Bootloader","ChatReliabilityInstrumentation","CurrentUser","LogHistory","MercuryDelayedDispatcher","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MercurySyncChannelMonitor","MercurySyncConstants","MercurySyncDeltaHolder","MercurySyncDeltaTypes","MercurySyncEventsProxy","MercurySyncForcedFetchHandler","MercurySyncHolesTypedLogger","MercurySyncTopicType","MessengerDeltaTransformer.bs","gkx","onAfterLoadSafe","promiseDone","requireCond"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("mercury_sync_delta_handler");a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){__p&&__p();this.$1=a,this.$2=b("MercurySyncForcedFetchHandler").getForFBID(this.$1),this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.__delayedDispatcher=b("MercuryDelayedDispatcher").getForFBID(this.$1),this.$3=b("MercurySyncDeltaHolder").getForFBID(this.$1),this.$4=0,this.$10=b("MercurySyncChannelMonitor").getForFBID(this.$1),this.$5=[],this.$13=b("MercurySyncEventsProxy").getForFBID(this.$1),h.debug("constructor",JSON.stringify({fbid:this.$1})),b("Arbiter").subscribe(b("MercurySyncEventsProxy").Events.INIT,function(a,c){__p&&__p();h.debug("initSeqID",JSON.stringify(c));a=c&&c.seqID;c=c&&c.fbid;if(!c)return;if(c!==this.$1)return;a?this.$3.updateLastSeqID(a):this.$3.updateLastSeqID(0);this.$15();this.$14=b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){this.$16(!0),this.$7&&b("Arbiter").unsubscribe(this.$7),this.$17(),this.$15()}.bind(this));b("gkx")("678667")&&b("onAfterLoadSafe")(function(){b("Bootloader").loadModules(["MessengerSyncSeqIDSanityCheck"],function(a){a.getForFBID(this.$1).init()}.bind(this),"MercurySyncDeltaHandler")}.bind(this))}.bind(this))}a.prototype.$17=function(){this.$7=b("Arbiter").subscribe(this.$13.getArbiterType(b("MercurySyncEventsProxy").Events.FLOW),function(a,b){this.$12||this.$15()}.bind(this))};a.prototype.$15=function(){__p&&__p();h.debug("setUpSubscriptionsToRealTimeUpdates",JSON.stringify({fbid:this.$1})),this.$6=b("Arbiter").subscribe(this.$13.getArbiterType(b("MercurySyncEventsProxy").Events.DELTA),function(a,c){__p&&__p();a=c&&c.obj&&c.obj.queue;if(a&&a.toString()!==this.$1)return;a=c&&c.obj&&c.obj.delta;c=c&&c.obj&&c.obj.iseq;if(!a||!c)return;this.$18(c,b("MercurySyncTopicType").DELTA);this.$19(c,a);this.$3.push(c,a);this.$20()}.bind(this)),this.$11=b("Arbiter").subscribe(this.$13.getArbiterType(b("MercurySyncEventsProxy").Events.FLOW_REJECT),function(a,b){a=b&&b.obj&&b.obj.queue;if(a&&a.toString()!==this.$1)return;this.$12&&this.$16()}.bind(this)),this.$8=b("Arbiter").subscribe(this.$13.getArbiterType(b("MercurySyncEventsProxy").Events.FAKE_DFF),function(a,b){__p&&__p();a=b&&b.obj&&b.obj.queue;if(a&&a.toString()!==this.$1)return;a=b&&b.obj&&b.obj.delta;if(!a)return;if(this.$21(a))if(this.$5.some(function(a){return this.$21(a)}.bind(this)))return;else this.$5.push(a);else this.$5.push(a);this.$20()}.bind(this)),this.$10.setupSubscriptions(),this.$12=!0};a.prototype.$21=function(a){return a["class"]===b("MercurySyncDeltaTypes").ForcedFetch&&!a.threadKey&&!a.messageId};a.prototype.$20=function(){__p&&__p();if(this.$4>0)return;if(this.$5.length>0){var a=this.$5.shift();this.$22(this.$3.getLastSeqID(),a);this.$20()}a=this.$3.peek();if(!a)return;a=a-this.$3.getLastSeqID();if(a===1){var b=this.$3.pop();if(!b)return;var c=b.seqID;b=b.delta;this.$22(c,b);this.$20()}else a>1?this.$23():(this.$3.pop(),this.$20())};a.prototype.$22=function(a,c){this.$3.updateLastSeqID(a),c["class"]===b("MercurySyncDeltaTypes").ForcedFetch?(h.debug("DFF",JSON.stringify(c)),c.threadKey!==void 0&&c.messageId===void 0?this.$24(a,c):c.threadKey!==void 0&&c.messageId!==void 0?this.$25(a,c):(b("ChatReliabilityInstrumentation").logDFF_DELTA_INIT(JSON.stringify(c)),this.$26(a))):b("MessengerDeltaTransformer.bs").transform(this.$1,c)};a.prototype.$23=function(){var a=JSON.stringify({$27:this.$3.getLastSeqID(),nextSeqID:this.$3.peek()});h.warn("hole",a);var c=this.$3.peek();!c&&g(0,5132);c=c-1;b("ChatReliabilityInstrumentation").logDFF_HOLE_INIT(a);this.$26(c)};a.prototype.$28=function(a,c,d,e){this.$4&&g(0,5134),this.$4++,h.debug("_scheduleDataFetch:start",JSON.stringify({seqID:a})),b("promiseDone")(c(),function(b){h.debug("_scheduleDataFetch:success",JSON.stringify({seqID:a})),this.$4--,d(a,b),this.$20()}.bind(this),function(b){h.error("_scheduleDataFetch:failure",JSON.stringify({seqID:a})),this.$4--,e(a,b),this.$20()}.bind(this))};a.prototype.emergencyDFF=function(a,b){this.$26(0,a,b)};a.prototype.$26=function(a,c,d){__p&&__p();if(!b("CurrentUser").isLoggedInNow())return;this.$28(void 0,function(){return this.$2.processGlobalDFFForGraphQL()}.bind(this),function(a,d){a=d.getPayload();this.__payloadPreprocessor.handleUpdate(a);a.sequence_id&&(h.debug("_initiateGlobalDFF:success",JSON.stringify({seqID:a.sequence_id})),b("gkx")("678668")?this.$3.updateLastSeqIDAndClearHistory(a.sequence_id):this.$3.updateLastSeqID(a.sequence_id));b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER);c&&c(a.sequence_id)}.bind(this),function(e,f){h.error("_initiateGlobalDFF:failure",""),f?(this.$12&&this.$16(),d&&d()):(b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY),h.debug("_initiateGlobalDFF:retry",""),this.$26(a,c,d))}.bind(this))};a.prototype.$24=function(a,b){this.$28(a,function(){return this.$2.processThreadDFF(a,b.threadKey,b.isLazy)}.bind(this),function(a,b){this.__payloadPreprocessor.handleUpdate(b.getPayload()),this.$3.updateLastSeqID(a)}.bind(this),function(){h.error("_initiateThreadDFF:failure",JSON.stringify(b));var c=babelHelpers["extends"]({},b);delete c.threadKey;this.$3.updateLastSeqID(a-1);this.$3.push(a,c)}.bind(this))};a.prototype.$25=function(a,c){__p&&__p();this.$28(a,function(){return this.$2.processMessageDFF(a,c.threadKey,c.messageId,c.isLazy)}.bind(this),function(a,c){c=c.getPayload();var d=c.other_user_fbid?c.other_user_fbid:c.thread_fbid;c=[babelHelpers["extends"]({},c)];var e=b("MercuryPayloadSource").CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:c,payload_source:e},d);this.$3.updateLastSeqID(a)}.bind(this),function(){h.error("_initiateMessageDFF:failure",JSON.stringify(c));var b=babelHelpers["extends"]({},c);delete b.messageId;this.$3.updateLastSeqID(a-1);this.$3.push(a,b)}.bind(this))};a.prototype.$18=function(a,c){var d=a-this.$3.getLastSeqID();if(d!==1&&d!==0){if(!b("CurrentUser").isEmployee())return;new(b("MercurySyncHolesTypedLogger"))().setSeqID(a).setDifference(d).setTopicType(c).log()}};a.prototype.$19=function(a,c){switch(c["class"]){case b("MercurySyncDeltaTypes").NewMessage:h.debug("message_delta",JSON.stringify({seqID:a,threadKey:c.messageMetadata.threadKey,messageId:c.messageMetadata.messageId}));break;case b("MercurySyncDeltaTypes").ReadReceipt:h.debug("read_receipt_delta",JSON.stringify({seqID:a,threadKey:c.threadKey,actionTimestampMs:c.actionTimestampMs,watermarkTimestampMs:c.watermarkTimestampMs}));break;case b("MercurySyncDeltaTypes").DeliveryReceipt:h.debug("delivery_receipt_delta",JSON.stringify({seqID:a,deliveredWatermarkTimestampMs:c.deliveredWatermarkTimestampMs,messageIds:c.messageIds}));break}};a.prototype.pause=function(){this.$4++};a.prototype.resume=function(){this.$4--,this.$20()};a.prototype.$16=function(a){a===void 0&&(a=!1),this.$12=!1,b("Arbiter").unsubscribe(this.$6),b("Arbiter").unsubscribe(this.$8),b("Arbiter").unsubscribe(this.$11),this.$10.killSubscriptions(),a||b("Arbiter").inform(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE)};var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercurySyncForcedFetchHandler",["Promise","MercurySingletonProvider","MercurySyncDFFDataFetcher","MercuryThreadIDMap","MessengerState.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return{getPayload:function(){return{sequence_id:a}}}}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};function a(a){this.$1=a,this.$2=b("MercuryThreadIDMap").getForFBID(this.$1),this.$3=b("MercurySyncDFFDataFetcher").getForFBID(this.$1)}a.prototype.processMessageDFF=function(a,c,d,e){__p&&__p();if(e){e=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();e=this.$2.getClientIDFromServerIDNow(e);if(e===void 0)return b("Promise").resolve(g(a));e=b("MessengerState.bs").getMessagesFromIDs(this.$1,[d]);if(e.length===0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateMessage(c.otherUserFbId,c.threadFbId,d)};a.prototype.processThreadDFF=function(a,c,d){if(d){d=c.otherUserFbId!==void 0?c.otherUserFbId.toString():c.threadFbId.toString();d=this.$2.getClientIDFromServerIDNow(d);if(d===void 0)return b("Promise").resolve(g(a))}return this.$3.fetchInvalidateThreadState(c.otherUserFbId,c.threadFbId)};a.prototype.processGlobalDFFForGraphQL=function(){return this.$3.fetchInvalidateGlobalStateForGraphQL()};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MontageDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a({strict:!1})}),null);
__d("MontageActions",["Bootloader","CurrentUser","MercuryServerPayloadPreprocessor","MontageDispatcher","WebGraphQL","keyMirror","promiseDone","uniqueID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({REQUEST_UPDATE:null,HAS_UPDATED:null,HANDLE_ACTION:null}),h=new Set();a={Types:g,requestUpdate:function(a){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})},montageThreadChanged:function(a,c){b("MontageDispatcher").dispatch({type:g.REQUEST_UPDATE,threadFBID:a})},hasUpdated:function(a){b("MontageDispatcher").dispatch({type:g.HAS_UPDATED,threadFBID:a})},loadMontageThreadForActor:function(a){if(h.has(a))return;h.add(a);b("Bootloader").loadModules(["MessengerMontageThreadQueryWebGraphQLQuery"],function(c){c=b("WebGraphQL").exec(new c({id:a}));b("promiseDone")(c,function(c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({current_montage_thread:c}),h["delete"](a)})},"MontageActions")},deleteMontage:function(a,c){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_delete_message_delta:c})},handleNewMontageDelta:function(a,c){b("Bootloader").loadModules(["MessengerNewMontageMessageWebGraphQLQuery"],function(a){a=b("WebGraphQL").exec(new a({id:c.message_fbid}));b("promiseDone")(a,function(a){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_new_message_delta:a.montage_message})})},"MontageActions")},updatePollStickerChoice:function(a){b("Bootloader").loadModules(["MessengerState.bs","MessengerMontagePollVoteMutationWebGraphQLMutation"],function(c,d){b("MercuryServerPayloadPreprocessor").getForFBID(b("CurrentUser").getID()).handleUpdate({montage_poll_sticker_vote:[a]});c=b("WebGraphQL").exec(new d({input:{client_mutation_id:b("uniqueID")(),story_card_poll_id:a.pollID,option:a.optionVotedIndex,actor_id:b("CurrentUser").getID()}}));b("promiseDone")(c,function(a){},function(a){})},"MontageActions")}};e.exports=a}),null);
__d("RemovedMessageTombstoneContent",["fbt","CurrentUser","GenderConst","IntlVariations","MercuryIDs","MessengerParticipants.bs","MessengerState.bs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getRemovedMessageTombstoneContent:function(a,c){__p&&__p();var d=b("MercuryIDs").getUserIDFromParticipantID(a.author),e=b("CurrentUser").getID();if(d===e)return this._getFbtForCurrentViewerAuthor();e=b("MessengerState.bs").getThreadMetaNow(e,a.thread_id);e=e==null?void 0:(e=e.custom_nickname)==null?void 0:e[d];e=e||((d=c.get(a.author))==null?void 0:d.short_name);c=(d=c.get(a.author))==null?void 0:d.gender;if(e)return this._getFbtForOtherAuthor(e,c);else return this._getFbtForUnknownAuthor()},getTombstoneContentForSnippet:function(a){var c=b("MercuryIDs").getUserIDFromParticipantID(a);if(c===b("CurrentUser").getID())return this._getFbtForCurrentViewerAuthor().toString();c=b("MessengerParticipants.bs").getNow(a);a=c&&c.short_name;c=c&&c.gender;if(a)return this._getFbtForOtherAuthor(a,c).toString();else return this._getFbtForUnknownAuthor().toString()},_getFbtForCurrentViewerAuthor:function(){return g._("You removed a message")},_getFbtForOtherAuthor:function(a,c){return g._({"*":"{name} removed a message"},[g._param("name",a,[1,c===b("GenderConst").FEMALE_SINGULAR?b("IntlVariations").GENDER_FEMALE:b("IntlVariations").GENDER_MALE])])},_getFbtForUnknownAuthor:function(){return g._("A contact removed a message")}};e.exports=a}),null);
__d("FantaMessageActions",["Bootloader","CurrentUser","FantaDispatcher","MercuryConfig","MercuryIDs","MercuryLocalIDs","MercuryViewer","MessengerState.bs","emptyFunction","ifRequired","keyMirror","requireWeak","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("requireWeak")("FantaAppStore",function(a){return g=a});var h=b("keyMirror")({ADD_GROUP_PARTICIPANTS:null,ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:null,ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:null,CANCEL_FILE_UPLOAD:null,CANCEL_REPLY_TO_MESSAGE:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,REPLY_TO_MESSAGE:null,SEND_GIF:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,SET_NEW_GROUP_NAME_LOCALLY:null,UPDATE_GROUP_NAME:null});function i(a){__p&&__p();var c=b("MercuryViewer").getID();if(!a.length)return null;a=a.filter(function(a){return a!==c});var d;if(a.length===0)return null;else a.length===1?d=b("MercuryIDs").getThreadIDFromParticipantID(a[0]):(d=b("MercuryLocalIDs").generateThreadID(),a.unshift(c),b("MessengerState.bs").createNewLocalThread(b("CurrentUser").getID(),d,a));return d}a={Types:h,prepareFilesForSend:function(a,c,d,e){var f={type:h.PREPARE_FILES_FOR_SEND,tabID:a,files:c,composer:d};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(f),e&&e()})},replyToMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.REPLY_TO_MESSAGE,threadID:c,message:a})},cancelReplyToMessage:function(a){b("FantaDispatcher").dispatch({type:h.CANCEL_REPLY_TO_MESSAGE,threadID:a})},cancelFileUpload:function(a,c){var d={type:h.CANCEL_FILE_UPLOAD,tabID:a,uploadID:c};this.dispatchOrBootloadUploader(function(){b("FantaDispatcher").dispatch(d)})},linkPreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LINK_PREVIEW,tabID:a,uri:c})})},loadedShareData:function(a,c,d){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADED_SHARE_DATA,tabID:a,attachmentData:c,composer:d})})},loadingShareData:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.LOADING_SHARE_DATA,composer:c,tabID:a})})},removeSharePreview:function(a,c){this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.REMOVE_SHARE_PREVIEW,tabID:a,composer:c})})},receivedNewMessage:function(a,c){b("FantaDispatcher").dispatch({type:h.RECEIVED_NEW_MESSAGE,tabID:a,message:c})},updateGroupName:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.UPDATE_GROUP_NAME,threadID:a,newName:c})})},setNewGroupNameLocally:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.SET_NEW_GROUP_NAME_LOCALLY,threadID:a,newName:c})})},addParticipants:function(a,c){__p&&__p();b("ifRequired")("FantaAppStore",function(d){__p&&__p();d=d.getState().mercury.tabContents.get(a);if(!d)return;var e=d.thread;d=d.typeahead;if(!d||!e)return;var f=b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a);if(e.is_canonical_user||f){f=d.getSelectedParticipantIDs();d=e.participants;d=i(d.concat(f));d?e.is_canonical_user?this.addGroupParticipantsAsOpenTab(d,a,c):this.addGroupParticipantsAsReplaceTab(d,a,c):this.addGroupParticipant(a,c)}else this.addGroupParticipant(a,c)}.bind(this))},addGroupParticipant:function(a,c){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS,threadID:a,onSendSuccess:c})})},addGroupParticipantsAsOpenTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB,fromTabID:c,onSendSuccess:d,tabID:a})})},addGroupParticipantsAsReplaceTab:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){b("FantaDispatcher").dispatch({type:h.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB,newTabID:a,onSendSuccess:d,tabID:c})})},sendMessage:function(a,c,d,e){this.dispatchOrBootloadSendMessages(function(){var f={type:h.SEND_MESSAGE,threadID:a,message:c,composer:d,onSendSuccess:e};b("FantaDispatcher").dispatch(f)})},sendPhoto:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_PHOTO,clearComposerOnSend:!0,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendGif:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_GIF,clearComposerOnSend:!1,onSendSuccess:d,photoData:c,threadID:a};b("FantaDispatcher").dispatch(e)})},sendHotLike:function(a,c,d,e,f){this.dispatchOrBootloadSendMessages(function(){var g={type:h.SEND_HOT_LIKE,emoji:c,onSendSuccess:f,size:d,source:e,threadID:a};b("FantaDispatcher").dispatch(g)})},sendSticker:function(a,c,d){this.dispatchOrBootloadSendMessages(function(){var e={type:h.SEND_STICKER,threadID:a,stickerID:c,onSendSuccess:d};b("FantaDispatcher").dispatch(e)})},composerTextUpdate:function(a,c,d){c.length>0&&b("ifRequired")("FantaReducersSendMessages",b("emptyFunction"),function(){return this.dispatchOrBootloadSendMessages(b("emptyFunction"))}.bind(this)),this.dispatchOrBootloadSharePreview(function(){b("FantaDispatcher").dispatch({type:h.COMPOSER_TEXT_UPDATE,composer:d,message:c,threadID:a})})},dispatchOrBootloadSendMessages:function(a){b("ifRequired")("FantaReducersSendMessages",function(){b("setImmediate")(a)},function(){b("Bootloader").loadModules(["FantaReducersSendMessages"],function(c){g&&(g.addReducers(c),b("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadUploader:function(a){b("ifRequired")("FantaReducersFileUploader",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersFileUploader"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function(a){b("ifRequired")("FantaReducersSharePreview",function(){a()},function(){b("Bootloader").loadModules(["FantaReducersSharePreview"],function(b){g&&(g.addReducers(b),a())},"FantaMessageActions")})}};e.exports=a}),null);
__d("WebMessengerThreadPermalinks",["MercuryIDs","MessagingTag","MessengerURIConstants","URI","WWWBase","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getThreadURI:function(a,c,d){var e="";b("MercuryIDs").isCanonical(a)?e=b("MercuryIDs").tokenize(a).value:b("requireWeak")("MercuryThreadIDMap",function(b){e=b.get().getServerIDFromClientIDNow(a)});d=g.getThreadURIFromServerID(e||"",d);c&&c(d)},getThreadURIFromServerID:function(a,c){__p&&__p();var d=new(b("URI"))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;if(c)switch(c){case b("MessagingTag").OTHER:e+="/filtered";break;case b("MessagingTag").PENDING:e+="/requests";break;case b("MessagingTag").INBOX:break;default:e+="/"+c;break}d.setPath(e+b("MessengerURIConstants").THREAD_PREFIX+a);return d.toString()},getThreadURIFromUserID:function(a,c){var d=new(b("URI"))(b("WWWBase").uri),e=b("MessengerURIConstants").FACEBOOK_PREFIX;d.setPath(h(e,c)+"/t/"+a);return d.toString()}};function h(a,c){c&&c!=b("MessagingTag").INBOX&&(a+="/"+c);return a}e.exports=g}),null);
__d("FantaTabActions",["Bootloader","CurrentUser","Env","FantaDispatcher","MercuryIDs","MessengerURIConstants","URI","WebMessengerThreadPermalinks","WorkGalahadSettings","WorkplaceChatHelper","gkx","goURI","ifRequired","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({BLUR_TAB:null,CLEAR_PAGE_INDICATOR_DESCRIPTION:null,CLOSE_ALL_TABS:null,CLOSE_AND_TAB_NEXT:null,CLOSE_TAB:null,DELETE_TAB:null,FOCUS_NEXT_TAB:null,FOCUS_PREVIOUS_TAB:null,FOCUS_TAB:null,HIGHLIGHT_NEW_MESSAGE:null,HOVERED_TAB:null,JUMP_TO_MESSAGE:null,LOAD_FROM_DATA:null,MINIMIZE_ALL_TABS:null,MINIMIZE_TAB:null,OPEN_TAB_WITH_INTERSTITIAL_DATA:null,OPEN_TAB:null,REPLACE_TAB:null,SCROLL_BOTTOM_CHANGED:null,SET_ALLOWED_RAISED_TABS:null,SET_MESSAGE_COUNT:null,SET_PAGE_INDICATOR_DESCRIPTION:null,SET_PERMANENT_URI:null,SHOW_UNSEEN_MESSAGES:null,UNHIGHLIGHT_NEW_MESSAGE:null,UNHOVERED_TAB:null,UNMINIMIZE_TAB:null,WIPE_JUMP_TO_MESSAGE:null,CREATE_NEW_NAMED_GROUP_CHAT:null});function h(a,c){var d=a?new(b("URI"))(b("WebMessengerThreadPermalinks").getThreadURIFromServerID(a)):new(b("URI"))(b("MessengerURIConstants").COMPOSE_SUBPATH);b("ifRequired")("BusinessURI.brands",function(a){return b("goURI")(a(d))},function(){return setTimeout(function(){i.openTab(a,c)},100)})}var i={Types:g,openNewMessageTab:function(a,b,c){i.openTab(a,b,c,!0)},openTab:function(a,c,d,e,f){__p&&__p();if(b("Env").isCQuick){b("Bootloader").loadModules(["BlueCompatRouter"],function(b){b.startChat(a||"")},"FantaTabActions");return}if(b("CurrentUser").isWorkUser()){if(b("WorkGalahadSettings").isGalahadEnabled){var i=b("ifRequired")("WorkGalahadChat",function(c){c.openThread(b("MercuryIDs").getThreadFBIDFromThreadID(a));return!0},function(){return!1});if(i)return}if(b("gkx")("678256")&&b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop()){if(c==="jewel_new_message"){b("goURI")("workchat://new");return}if(!b("MercuryIDs").isLocalThread(a)||c!=="groupsync_fbgroupmall_chat_button"){b("goURI")("workchat://"+(a||""));return}}}b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()});this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB,tabID:a,entryPoint:c,defaultText:d,isNewMessageTab:e,defaultPreview:f}),b("ifRequired")("FantaTabsReactApp",function(b){this._tryLoadSlimApp(a,c)}.bind(this),function(){this._tryLoadSlimApp(a,c,function(){return h(a,c)})}.bind(this))}.bind(this))},openInterstitialTab:function(a,c,d){this.dispatchOrBootloadGetMessages(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d}),b("ifRequired")("FantaTabsReactApp",function(b){this._tryLoadSlimAppWithInterstitialData(a,c,d)}.bind(this),function(){this._tryLoadSlimAppWithInterstitialData(a,c,d)}.bind(this))}.bind(this))},_tryLoadSlimApp:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(d){b("ifRequired")("FantaAppStore",function(){},function(){d.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB,tabID:a,entryPoint:c})})})},function(){return d&&d(a)})},_tryLoadSlimAppWithInterstitialData:function(a,c,d){b("ifRequired")("FantaTabsSlimApp",function(e){b("ifRequired")("FantaAppStore",function(){},function(){e.getPumpedUp(function(){b("FantaDispatcher").dispatch({type:g.OPEN_TAB_WITH_INTERSTITIAL_DATA,tabID:a,interstitialData:c,entryPoint:d})})})})},replaceTab:function(a,c){b("FantaDispatcher").dispatch({type:g.REPLACE_TAB,tabID:a,newTabID:c})},minimizeTab:function(a){b("FantaDispatcher").dispatch({type:g.MINIMIZE_TAB,tabID:a})},minimizeAllTabs:function(){b("FantaDispatcher").dispatch({type:g.MINIMIZE_ALL_TABS})},unminimizeTab:function(a){b("FantaDispatcher").dispatch({type:g.UNMINIMIZE_TAB,tabID:a})},closeTab:function(a){b("FantaDispatcher").dispatch({type:g.CLOSE_TAB,tabID:a})},closeAllTabs:function(){b("FantaDispatcher").dispatch({type:g.CLOSE_ALL_TABS})},closeAndTabNext:function(a){b("FantaDispatcher").dispatch({type:g.CLOSE_AND_TAB_NEXT,tabID:a})},deleteTab:function(a){b("FantaDispatcher").dispatch({type:g.DELETE_TAB,tabID:a})},focusTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_TAB,tabID:a})},blurTab:function(a){b("FantaDispatcher").dispatch({type:g.BLUR_TAB,tabID:a})},hoveredTab:function(a){b("FantaDispatcher").dispatch({type:g.HOVERED_TAB,tabID:a})},unhoveredTab:function(a){b("FantaDispatcher").dispatch({type:g.UNHOVERED_TAB,tabID:a})},highlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:g.HIGHLIGHT_NEW_MESSAGE,tabId:a})},unhighlightNewMessage:function(a){b("FantaDispatcher").dispatch({type:g.UNHIGHLIGHT_NEW_MESSAGE,tabId:a})},setAllowedRaisedTabs:function(a){b("FantaDispatcher").dispatch({type:g.SET_ALLOWED_RAISED_TABS,allowedRaisedTabs:a})},loadFromData:function(a){if(b("WorkplaceChatHelper").suppressChatIfActiveOnDesktop())return;this.dispatchOrBootloadGetMessages(function(){a&&b("FantaDispatcher").dispatch({type:g.LOAD_FROM_DATA,tabData:a})})},focusNextTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_NEXT_TAB,event:a})},focusPreviousTab:function(a){b("FantaDispatcher").dispatch({type:g.FOCUS_PREVIOUS_TAB,event:a})},scrollBottomChanged:function(a,c,d){b("FantaDispatcher").dispatch({type:g.SCROLL_BOTTOM_CHANGED,isScrolledToBottom:c,tabID:a,showUnseenMessages:d})},jumpToMessage:function(a,c){b("FantaDispatcher").dispatch({type:g.JUMP_TO_MESSAGE,mid:c,tabID:a})},wipeJumpToMessage:function(a){b("FantaDispatcher").dispatch({type:g.WIPE_JUMP_TO_MESSAGE,tabID:a})},setPageIndicatorDescription:function(a,c){b("FantaDispatcher").dispatch({type:g.SET_PAGE_INDICATOR_DESCRIPTION,tabID:a,description:c})},clearPageIndicatorDescription:function(a){b("FantaDispatcher").dispatch({type:g.CLEAR_PAGE_INDICATOR_DESCRIPTION,tabID:a})},showUnseenMessages:function(a){b("FantaDispatcher").dispatch({type:g.SHOW_UNSEEN_MESSAGES,tabID:a})},setPermanentUri:function(a,c){b("FantaDispatcher").dispatch({type:g.SET_PERMANENT_URI,tabID:a,uri:c})},createNewNamedGroupChat:function(a,c){b("FantaDispatcher").dispatch({type:g.CREATE_NEW_NAMED_GROUP_CHAT,tabID:a,tokens:c})},dispatchOrBootloadGetMessages:function(a){b("ifRequired")("FantaReducersGetMessages",function(){a()},function(){b("ifRequired")("FantaAppStore",function(c){b("Bootloader").loadModules(["FantaReducersGetMessages"],function(b){c.addReducers(b),a()},"FantaTabActions")},function(){a()})})}};e.exports=i}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"})}),null);
__d("MessengerDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("MessengerStateProcessor",["CurrentUser","MercuryAPIArgsSource","MercuryIDs","MercuryParticipantTypes","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerParticipants.bs","MessengerState.bs","MessengerURIConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={preprocess:function(a){__p&&__p();var c=a.activeThreadID;if(c){var d=b("MercuryIDs").getUserIDFromThreadID(c),e=d&&b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(e&&e.type!==b("MercuryParticipantTypes").EVENT)a.threadKey=e.vanity||d;else if(d&&!e){e=b("MercuryIDs").getParticipantIDFromUserID(d);a.threadKey=b("MercuryVanityIDMap.bs").hasID(e)?b("MercuryVanityIDMap.bs").getVanity(e):d}else{e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(c);a.threadKey=d||b("MercuryIDs").tokenize(c).value}}delete a.activeThreadID;return a},postprocess:function(a){var c=b("MercuryThreadIDMap").get(),d=g(a.threadKey),e;e=b("MercuryIDs").isValid(d)?d:c.getClientIDFromServerIDNow(d);if(!e){d=b("MessengerParticipants.bs").getIDFromVanityOrFBID(d);d&&(e=b("MercuryIDs").getThreadIDFromParticipantID(d))}e&&(a.activeThreadID=e,a.serverThreadID=c.getServerIDFromClientIDNow(e));delete a.threadKey;return a},supportInboxPostprocess:function(a){a.threadKey&&(a.activeThreadID=b("MercuryIDs").getThreadIDFromSupportInboxItemID(a.threadKey));delete a.threadKey;return a}};function g(a){return!a?null:a.startsWith(b("MessengerURIConstants").GROUP_PREFIX)?a.substr(b("MessengerURIConstants").GROUP_PREFIX.length):a}e.exports=a}),null);
__d("MessengerURISerializer",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MessagingTag","MessengerStateProcessor","MessengerURIConstants","MessengerView","URI","WWWBase","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/?$",h=function(a,c){a.setPath(b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX+c:c)},i=function(a,c){var d=a.getPath();b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX)&&(c=b("MessengerURIConstants").FACEBOOK_PREFIX+c);a.setPath(a.getPath()+c)};a={serialize:function(a){__p&&__p();var c=new(b("URI"))(b("WWWBase").uri);a=b("MessengerStateProcessor").preprocess(a);switch(a.masterView){case b("MessengerView").MASTER.PAYMENT:h(c,b("MessengerURIConstants").PAYMENT_PATH);break;case b("MessengerView").MASTER.PEOPLE:h(c,b("MessengerURIConstants").PEOPLE_PATH);break;case b("MessengerView").MASTER.SUPPORT:h(c,b("MessengerURIConstants").SUPPORT_PATH);break}switch(a.folder){case b("MessagingTag").OTHER:h(c,b("MessengerURIConstants").FILTERED_REQUESTS_PATH);break;case b("MessagingTag").ACTION_ARCHIVED:h(c,b("MessengerURIConstants").ARCHIVED_PATH);break;case b("MessagingTag").PENDING:h(c,b("MessengerURIConstants").MESSAGE_REQUESTS_PATH);break}a.detailView===b("MessengerView").DETAIL.PAYTHREAD?(i(c,b("MessengerURIConstants").PAYMENT_PAY_PATH),a.threadKey&&c.addQueryData("id",a.threadKey)):a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER?i(c,b("MessengerURIConstants").PAYMENT_PAY_PATH):a.detailView===b("MessengerView").DETAIL.COMPOSE?i(c,b("MessengerURIConstants").COMPOSE_SUBPATH):a.threadKey?a.masterView===b("MessengerView").MASTER.PAYMENT?(h(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):i(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey):a.masterView===b("MessengerView").MASTER.PAYMENT?(h(c,""),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):i(c,"");a.extraQueryParams&&c.addQueryData(a.extraQueryParams);b("MercuryFilters.bs").isSupportedFilter(a.filter)&&c.addQueryData({filter:a.filter});if(a.query!=null){var d;c.addQueryData((d={},d[a.masterView===b("MessengerView").MASTER.SEARCH?"qa":"q"]=a.query,d))}a.threadIDs&&c.addQueryData({threadIDs:JSON.stringify(a.threadIDs)});a.mid&&c.addQueryData({mid:a.mid});return c},getNonMessengerState:function(){return{notMessenger:!0,filter:b("MercuryFilters.bs").all,folder:b("MessagingTag").INBOX,masterView:b("MessengerView").MASTER.RECENT}},deserialize:function(a){__p&&__p();var c={},d=a.getPath();if(b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX))return this.getNonMessengerState();d=d.replace(b("MessengerURIConstants").FACEBOOK_PREFIX,"");var e;a=a.getQueryData();var f=a.filter,h=a.mid,i=a.q,k=a.qa,l=a.threadIDs;a=babelHelpers.objectWithoutPropertiesLoose(a,["filter","mid","q","qa","threadIDs"]);if(l)try{e=JSON.parse(l)}catch(a){}e?c.threadIDs=e.filter(function(a){return b("MercuryIDs").isValidThreadID(a)}):c.threadIDs=null;d.match("^"+b("MessengerURIConstants").PEOPLE_PATH)?c.masterView=b("MessengerView").MASTER.PEOPLE:d.match("^"+b("MessengerURIConstants").SUPPORT_PATH)?c.masterView=b("MessengerView").MASTER.SUPPORT:d.match("^"+b("MessengerURIConstants").PAYMENT_PATH)?c.masterView=b("MessengerView").MASTER.PAYMENT:k?c.masterView=b("MessengerView").MASTER.SEARCH:c.masterView=b("MessengerView").MASTER.RECENT;d.match("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH)?c.folder=b("MessagingTag").OTHER:d.match("^"+b("MessengerURIConstants").ARCHIVED_PATH)?c.folder=b("MessagingTag").ACTION_ARCHIVED:d.match("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH)?c.folder=b("MessagingTag").PENDING:c.folder=b("MessagingTag").INBOX;if(d.match(b("MessengerURIConstants").COMPOSE_SUBPATH+g))c.detailView=b("MessengerView").DETAIL.COMPOSE;else if(d.match("^"+b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))a&&a.id?(c.threadKey=a.id,c.detailView=b("MessengerView").DETAIL.PAYTHREAD):c.detailView=b("MessengerView").DETAIL.PAYFRIENDPICKER;else{l=j(d);l&&(c.threadKey=l,c.detailView=b("MessengerView").DETAIL.THREAD)}b("MercuryFilters.bs").isSupportedFilter(f)?c.filter=f:c.filter=b("MercuryFilters.bs").all;c.mid=h;c.query=k||i;c.extraQueryParams=a;return c.masterView===b("MessengerView").MASTER.SUPPORT?b("MessengerStateProcessor").supportInboxPostprocess(c):b("MessengerStateProcessor").postprocess(c)}};function j(a){a=a.match(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+g);return a&&decodeURIComponent(a[1])}e.exports=a}),null);
__d("WorkGalahadDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.dispatch=this.dispatch.bind(this),b}e.exports=new a({strict:!0})}),null);
__d("WorkGalahadChatChannelActions",["WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_folder",folder:a})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_filter",filter:a})}e.exports={changeFolder:a,changeFilter:c}}),null);
__d("MessengerActions",["invariant","Bootloader","EventProfiler","LogHistory","MercuryIDs","MercuryTypeaheadConstants","MessengerDispatcher","MessengerThreadFetchLoggerUtil","MessengerURISerializer","MessengerView","URI","WorkGalahadChatChannelActions","WorkGalahadSettings","goURI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({CANCEL_FILE_UPLOAD:null,EMPTY_FILES:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,REMOVE_SHARE_PREVIEW:null,PREPARE_FILES_FOR_SEND:null,REPLACE_STATE:null,SELECT_THREAD:null,UPDATE_MDOT_ME:null,UPDATE_THREAD_TAG:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null}),i=b("LogHistory").getInstance("messenger_actions"),j={Types:h,changeDetailView:function(a){l(function(b){return b.detailView!==a?{detailView:a}:null})},changeMasterView:function(a){l(function(c){if(c.masterView!==a){var d={masterView:a};c.masterView===b("MessengerView").MASTER.SEARCH&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_BACK_BUTTON)},"MessengerActions"));return d}return null})},selectThread:function(a,c){__p&&__p();if(c===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE){!a&&g(0,5146);c=b("MercuryIDs").getUserIDFromThreadID(a);!c&&g(0,5147);var d=new(b("URI"))(),e=d.getQualifiedURI().getSubdomain();d.setDomain("facebook.com").setSubdomain(e).setPath("/"+c).setProtocol("https");window.open(d,"_blank");return}b("EventProfiler").tagCurrentActiveInteractionsAs("MessengerThreadSwitch");b("MessengerDispatcher").dispatch({type:h.SELECT_THREAD,threadID:a});l(function(c){if(c.activeThreadID!==a){a&&b("MessengerThreadFetchLoggerUtil").markerStart(a);return{activeThreadID:a,detailView:b("MessengerView").DETAIL.THREAD,mid:null}}return null})},changeState:function(a){b("MessengerDispatcher").dispatch({type:h.REPLACE_STATE,nextState:a})},changeMDotMeReferral:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:j.Types.UPDATE_MDOT_ME,refCode:a,refThreadID:c})},changeThreadTag:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:j.Types.UPDATE_THREAD_TAG,messagingTags:a,threadID:c})},changeFolder:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFolder(a):l(function(b){return b.folder!==a?{folder:a}:null})},changeFilter:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFilter(a):l(function(b){return b.filter!==a?{filter:a}:null})},changeQuery:function(a){l(function(b){return b.query!==a?{query:a}:null})},changeQueryAll:function(a){l(function(c){return c.queryAll!==a?{query:a,masterView:b("MessengerView").MASTER.SEARCH}:null})},changeMid:function(a){l(function(b){return b.mid!==a?{mid:a}:null})},changeID:function(a){l(function(b){return b.extraQueryParams.id!==a?{extraQueryParams:babelHelpers["extends"]({},b.extraQueryParams,{id:a})}:null})},prepareFilesForSend:function(a,c,d){i.debug("Add files from "+d,a);if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.PREPARE_FILES_FOR_SEND,threadID:a,files:c})},uploadedFile:function(a,c,d){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.UPLOADED_FILE,threadID:a,uploadID:c,payload:d})},cancelFileUpload:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.CANCEL_FILE_UPLOAD,threadID:a,uploadID:c})},uploadFileFailed:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.UPLOAD_FILE_FAILED,threadID:a,uploadID:c})},cleanFiles:function(a){i.debug("clean files",a);if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.EMPTY_FILES,threadID:a})},loadingPreview:function(a,c){b("MessengerDispatcher").dispatch({type:j.Types.LINK_PREVIEW,threadID:a,match:c})},loadingShareData:function(a){b("MessengerDispatcher").dispatch({type:j.Types.LOADING_SHARE_DATA,threadID:a})},loadedShareData:function(a,c){b("MessengerDispatcher").dispatch({type:j.Types.LOADED_SHARE_DATA,threadID:a,attachmentData:c})},removeSharePreview:function(a){b("MessengerDispatcher").dispatch({type:j.Types.REMOVE_SHARE_PREVIEW,threadID:a})}};function k(a,b){return a.detailView==null}function l(a){var c=b("MessengerURISerializer").deserialize(new(b("URI"))(window.location.href));a=a(c);var d=k(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}e.exports=j}),null);
__d("TimeSpentRoomTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP:"GROUP",EVENT:"EVENT"})}),null);
__d("MessageThreadAssociatedObjectUtils",["TimeSpentRoomTypeEnum"],(function(a,b,c,d,e,f){"use strict";a={shouldRender:function(a){return a&&a.room_type===b("TimeSpentRoomTypeEnum").GROUP&&!a.is_workplace_community},isLinkedToGroupChat:function(a){return a&&a.room_type===b("TimeSpentRoomTypeEnum").GROUP&&!a.is_workplace_community}};e.exports=a}),null);
__d("MessengerParticipantAddModeTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD:"ADD",INVITE:"INVITE",ADD_INVITE:"ADD_INVITE"})}),null);
__d("MessengerAdminGroupUtils",["fbt","CurrentUser","MercuryConfig","MercuryIDs","MessageRequestUtils","MessageThreadAssociatedObjectUtils","MessagingSourceEnum","MessengerApprovalModeTypes","MessengerGroupAdminModelStatus","MessengerGroupAdminType","MessengerJoinableModeType","MessengerParticipantAddModeTypes","QE2Logger","WorkModeConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="messenger_use_new_group_participant_suggestion_ranking",i="show_nullstate_chat_tab_group_chat",j={isJoinableAndOpenThread:function(a){return this.isJoinableThread(a)&&this.isApprovalOpenThread(a)},isJoinableAndApprovalRequiredThread:function(a){return!!(this.isJoinableThread(a)&&a&&a.approval_mode===b("MessengerApprovalModeTypes").APPROVALS)},isWorkSyncedGroupChat:function(a){return!!(a==null?void 0:a.work_associated_group)},isWorkFroup:function(a){return!!(b("gkx")("678597")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===b("MessengerJoinableModeType").JOINABLE&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},isWorkSyncedChatThreadCreationMessage:function(a){return!!(a.log_message_data&&a.log_message_data.name&&a.tags&&(a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_CREATION)!==-1||a.tags.indexOf(b("MessagingSourceEnum").WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION)!==-1))},isWorkSyncedChatThreadMemberSyncMessage:function(a){return!!(a.tags&&a.tags.indexOf(b("MessagingSourceEnum").WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC)!==-1)},shouldAddToApprovalQueue:function(a,b){return!!(this.isJoinableAndApprovalRequiredThread(a)&&a&&!j.isAdmin(a.admins,b))},isJoinableThread:function(a){return!!(b("gkx")("678598")&&a&&a.is_thread_queue_enabled===!0&&a.joinable_mode&&a.joinable_mode.mode===b("MessengerJoinableModeType").JOINABLE)},isGroupChat:function(a){return!!(a&&b("MessageThreadAssociatedObjectUtils").isLinkedToGroupChat(a.associated_object))},shouldInvite:function(a){return!!(b("gkx")("678598")&&a&&a.participant_add_mode===b("MessengerParticipantAddModeTypes").INVITE)},isApprovalOpenThread:function(a){return!!((b("CurrentUser").isWorkUser()||b("gkx")("678598"))&&a&&a.approval_mode===b("MessengerApprovalModeTypes").OPEN)},isAdminRequired:function(a){return!!(a&&a.admin_model_status===b("MessengerGroupAdminModelStatus").REQUIRED)},isOwner:function(a,b){return a&&(this.isJoinableThread(b)||this.isAdminRequired(b))},canSeeJoinableGroupOptions:function(a,c){var d=b("WorkModeConfig").is_work_user,e=j.showJoinableApprovalToggle(a,c);c=j.showApprovalQueue(a,c);return!d&&this.isJoinableThread(a)&&(c||e)},canSeeGroupOptionsSection:function(a,c){c=this.isAdmin(a.admins,c);var d=b("MessageRequestUtils").isMessageRequest(a);return c&&this.isAdminRequired(a)&&!d},canSeeBotsInGroupTypeahead:function(){var a=b("CurrentUser").isWorkUser();return a&&b("gkx")("678599")},canMakeOthersAdmins:function(a,b,c){return this.isOwner(a,c)&&!b},canMakeSelfAdmin:function(a,b){return(this.isJoinableThread(b)||this.isAdminRequired(b))&&Object.keys(b.admins).length===0&&a},canRemoveAdmin:function(a,c,d,e){if(this.isAdminRequired(e)&&Object.keys(e.admins).length===1)return!1;switch(d){case b("MessengerGroupAdminType").CHAT_SUPER_ADMIN:return!1;default:return this.isOwner(a,e)&&c}},canRemoveFromGroup:function(a,c,d){switch(c){case b("MessengerGroupAdminType").CHAT_SUPER_ADMIN:return!1;default:return this.isAdminRequired(d)||this.isWorkFroup(d)?a:this.isOwner(a,d)||!this.isJoinableThread(d)}},showJoinableApprovalToggle:function(a,b){if(a.associated_object&&!a.associated_object.approval_mode_toggleable)return!1;b=j.isAdmin(a.admins,b);return j.isOwner(b,a)},showApprovalQueue:function(a,b){b=j.isAdmin(a.admins,b);b=j.isOwner(b,a);var c=this.getPendingRequestNumber(a);if(a&&this.isAdminRequired(a))return this.isAdminRequired(a)&&b&&c>0;else{a=j.isJoinableAndApprovalRequiredThread(a);return a&&b&&c>0}},showParticipantsModal:function(a,b,c){return this.isJoinableThread(c)&&!a&&!b},useNewGroupMemberSuggestionRanking:function(){b("QE2Logger").logExposureForUser(h);return b("MercuryConfig").MNGPS},showDefaultListForNewPersonAddChatTab:function(){b("QE2Logger").logExposureForUser(i);return b("MercuryConfig").ChatGroupChat},showDefaultListForNewChatTab:function(){return b("MercuryConfig").ChatComposer},canUpdateThreadCustomization:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},canUpdateThreadDescription:function(a,c){var d=j.isJoinableThread(a);c=j.isAdmin(a.admins,c);var e=b("MessageRequestUtils").isMessageRequest(a);return a.is_subscribed&&!e&&(!d||c)},isAdmin:function(a,c){if(!a)return!1;if(b("MercuryIDs").isValid(c)){var d=b("MercuryIDs").getUserIDFromParticipantID(c);return!!d&&a[d]!==void 0}return a[c]!==void 0},getLeaveGroupBodyText:function(a,b){a=this.isOwner(a,b);b=j.isWorkSyncedGroupChat(b);return!b?a?g._("Leaving this group will remove you as an owner and allow other members to manage the group. You will no longer be able to send or receive new messages."):g._("You will stop receiving messages from this conversation and people will see that you left."):a?g._("Leaving this group will remove you as an owner and allow other members to manage the chat thread. You will no longer be able to send or receive new messages. You will also be removed from the group."):g._("You will stop receiving messages from this conversation and people will see that you left. You will also be removed from the group.")},getLeaveGroupTitleText:function(a,b){return j.isWorkSyncedGroupChat(b)?g._("Leave Group and Chat?"):this.isOwner(a,b)?g._("Leave this conversation?"):g._("Leave Conversation?")},getLeaveGroupButtonText:function(a,b){return this.isOwner(a,b)?g._("Leave conversation"):g._("Leave")},getMakeOwnerBodyText:function(a,b,c){if(a)return b?g._("As a group admin, you will be able to manage who can join and customize this conversation."):g._("As a group admin, \"{owner's name}\" will be able to manage who can join and customize this conversation.",[g._param("owner's name",c)]);else return b?g._("As a group owner, you will be able to manage group ownership and remove members from the conversation. Only owners will be able to add other owners."):g._("As a group owner, \"{owner's name}\" will be able to manage group ownership and remove members from the conversation. They will be able to remove ownership from other owners.",[g._param("owner's name",c)])},getMakeOwnerTitleText:function(a,b){if(a)return b?g._("Become group admin?"):g._("Add group admin?");else return b?g._("Become group owner?"):g._("Add group owner?")},getMakeOwnerButtonText:function(a,b){if(a)return b?g._("Become admin"):g._("Make admin");else return b?g._("Become owner"):g._("Make owner")},getRemoveOwnerBodyText:function(a,b,c,d){if(b&&c)return a?null:g._("You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group. Any other member will be able to own the group.");else if(b&&!c)return a?g._("You will no longer be able to manage who can join and customize this conversation."):g._("You will no longer manage group ownership and remove members from this conversation. You will still be a participant in the group.");else return a?g._("\"{owner's name}\" will no longer be able to manage who can join and customize this conversation.",[g._param("owner's name",d)]):g._("\"{owner's name}\" will no longer manage group ownership and remove members from the conversation. They will still be a participant in the group.",[g._param("owner's name",d)])},getRemoveOwnerTitleText:function(a){return a?g._("Remove as group admin?"):g._("Remove as group owner?")},getRemoveOwnerButtonText:function(a){return a?g._("Remove"):g._("Remove owner")},getPendingRequestNumber:function(a){if(a&&a.approval_queue_ids&&a.approval_queue_ids.length)return a.approval_queue_ids.length;else if(a&&this.isAdminRequired(a)&&a.group_approval_queue&&a.group_approval_queue.length)return a.group_approval_queue.length;return 0}};e.exports=j}),null);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f){__p&&__p();var g=1500,h=null,i=!1,j=0,k=[],l=null,m=document.title;function n(){k.length>0?!i?(o(k[j].title),j=++j%k.length):p():(clearInterval(h),h=null,p())}function o(a){document.title=a,i=!0}function p(){q.set(l||m,!0),i=!1}function q(a){"use strict";this.$1=a}q.get=function(){"use strict";return m};q.set=function(a,c){"use strict";var d=a.toString();document.title=d;!c?(m=d,l=null,b("Arbiter").inform("update_title",a)):l=d};q.blink=function(a){"use strict";a={title:a.toString()};k.push(a);h===null&&(h=setInterval(n,g));return new q(a)};q.prototype.stop=function(){"use strict";var a=k.indexOf(this.$1);a>=0&&(k.splice(a,1),j>a?j--:j==a&&j==k.length&&(j=0))};q.badge=function(a){"use strict";var b=q.get();a=a?"("+a+") "+b:b;q.set(a,!0)};e.exports=q}),null);
__d("FavIcon",["DOM"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i;function j(){var a=b("DOM").scry(document.head,"link");a&&a.forEach(function(a){(a.rel.indexOf("icon")!=-1||a.rel.indexOf("shortcut icon")!=-1)&&b("DOM").remove(a)})}a={isToggledResource:function(){return i&&g instanceof HTMLLinkElement&&g.href===i?!0:!1},set:function(a){g&&b("DOM").remove(g),j(),g=b("DOM").create("link",{type:"image/x-icon",rel:"icon",href:a}),b("DOM").appendContent(b("DOM").find(document,"head"),g)},setToggleResources:function(a,b){g=document.querySelector('link[rel*=icon][href*=".ico"]'),g instanceof HTMLLinkElement&&(h=b!=null?b:g.href,i=a)},toggle:function(){if(!g||!i)return;if(g.href===h){this.set(i);return}this.set(h)},toggleSet:function(a){if(!g||!i||!h)return;a=a?i:h;g.href!==a&&this.set(a)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});e.exports=a}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderText:function(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}};e.exports=a}),null);
__d("MessengerLightweightActionUtils",["MercuryAttachmentType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!!(a&&a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function c(a){return a.attachments[0].share.title}function d(a){return a[0].share.title}e.exports={isLWAMessage:a,isLWAAttachment:g,getCollapsedLWAText:c,getLWASnippetText:d}}),null);
__d("P2PSnippetStringUtils",["fbt","P2PPaymentRequestStatus","P2PTransferStatus"],(function(a,b,c,d,e,f,g){__p&&__p();a={getRequestCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])},getRequestDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])},getRequestSentSnippet:function(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])},getRequestSnippetByStatus:function(a,c,d,e,f,g){a=a||b("P2PPaymentRequestStatus").INITED;c=[c,d,e,f,g];switch(a){case b("P2PPaymentRequestStatus").DECLINED:return this.getRequestDeclinedSnippet.apply(this,c);case b("P2PPaymentRequestStatus").TRANSFER_FAILED:case b("P2PPaymentRequestStatus").CANCELED:return this.getRequestCanceledSnippet.apply(this,c)}return this.getRequestSentSnippet.apply(this,c)},getTransferCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])},getTransferDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])},getTransferSentSnippet:function(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])},getTransferSnippetByStatus:function(a,c,d,e,f,g){c=[c,d,e,f,g];d=a||b("P2PTransferStatus").PENDING_SENDER_INITED;switch(d){case b("P2PTransferStatus").CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,c);case b("P2PTransferStatus").CANCELED_SENDER_RISK:case b("P2PTransferStatus").CANCELED_RECIPIENT_RISK:case b("P2PTransferStatus").CANCELED_SYSTEM_FAIL:case b("P2PTransferStatus").CANCELED_EXPIRED:case b("P2PTransferStatus").CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,c)}return this.getTransferSentSnippet.apply(this,c)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAttachmentType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants","StoryAttachmentStyle","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getAttachmentSnippetType:function(a){__p&&__p();if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){__p&&__p();switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){if(!b("gkx")("676919"))return c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}return e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0])?b("MessengerLightweightActionUtils").getLWASnippetText(e):c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").VIDEO},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS)},_hasSticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").STICKER},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LOCATION)},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LIVE_LOCATION)},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MONTAGE_DIRECT)},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION)},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION_REQUEST)},_hasSingleShareAttachmentOfStyle:function(a,c){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE&&a[0].share.style_list.indexOf(c)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE},_hasError:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").ERROR},_hasGift:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").GIFT},_hasFile:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").FILE},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").PHOTO})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("WorkForeignEntityInfo.bs",["CurrentUser","WorkForeignEntityType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a==null)return!0;else return a.type===b("WorkForeignEntityType").NOT_FOREIGN}function h(a){if(b("CurrentUser").isWorkUser())return g(a.work_foreign_entity_info);else return!1}function a(a){if(b("CurrentUser").isWorkUser())return g(a.workForeignEntityInfo);else return!1}function c(a){if(b("CurrentUser").isWorkUser())return a.every(function(a,b,c){if(a==null)return!0;else return h(a)});else return!1}f.isNotForeign=g;f.isCoworker=h;f.isContactCoworker=a;f.areAllCoworkers=c}),null);
__d("MercuryIgnoredBlockedParticipants.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs","CurrentUser","bs_js_primitive","WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){d=d.participants.filter(function(c){return c!==b("MercuryIDs").getParticipantIDFromUserID(a)});return d.filter(function(a){return b("bs_belt_Set").has(c,a)!==!1})}function a(a,b,c){if(c.is_canonical)return!1;else return g(a,b,c).length>0}function c(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function d(a,c,d){var e=d.is_canonical;if(e){e=d.participants.filter(function(c){return b("bs_caml_obj").caml_notequal(c,b("MercuryIDs").getParticipantIDFromUserID(a))});return!e.every(function(a){return!b("bs_belt_Set").has(c,a)})}else return!1}function e(a,c,d){if(!a.is_canonical_user||b("bs_js_primitive").nullable_to_opt(a.other_user_fbid)===b("bs_js_primitive").some(c))return!1;else if(!b("CurrentUser").isWorkUser()||d==null)return!0;else if(d==null)return!1;else return!b("WorkForeignEntityInfo.bs").isCoworker(d)}f.findIntersection=g;f.isPresentInGroupThread=a;f.participantsInGroupThread=c;f.qualifiesAs=d;f.shouldShowBlock=e}),null);
__d("MercuryNotificationRenderer",["fbt","CurrentUser","MercuryAssert","MercuryIDs","MessengerParticipants.bs","MercuryViewer","MessagingGenericAdminTextType","MessengerState.bs"],(function(a,b,c,d,e,f,g){__p&&__p();var h="source:messenger_growth:event_upcoming_bump";function a(a,c){__p&&__p();b("MercuryAssert").isThreadID(a),b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){__p&&__p();b("MessengerState.bs").getThreadMessagesRange(b("CurrentUser").getID(),a,0,1,function(e){__p&&__p();e=e.length&&e[e.length-1];var f=[];e.tags!==void 0&&(f=f.concat(e.tags));e.log_message_data&&(e.log_message_data.message_type==b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST||e.log_message_data.message_type==b("MessagingGenericAdminTextType").WORK_INVITE_CLAIMED)?c(g._("New contact added")):f.indexOf(h)!==-1?c(g._("You have an upcoming event.")):e&&e.author!=b("MercuryViewer").getID()?b("MessengerParticipants.bs").get(e.author,function(e){var f=e.short_name,h=d.custom_nickname;if(h){e=b("MercuryIDs").getUserIDFromParticipantID(e.id);h[e]&&(f=h[e])}d.name?c(g._("{senderName} messaged {groupName}",[g._param("senderName",f),g._param("groupName",d.name)])):b("MercuryIDs").isGroupChat(a)?c(g._("{name} messaged your group",[g._param("name",f)])):c(g._("{name} messaged you",[g._param("name",f)]))}):c(g._("New message!"))})})}e.exports={renderDocumentTitle:a}}),null);
__d("XMessengerDotComSettingsEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/edit/",{})}),null);
__d("MessengerSettingsActions",["AsyncRequest","CurrentEnvironment","MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","MessengerDispatcher","MessengerURIConstants","XMessengerDotComSettingsEditController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null});a={Types:g,changeSettings:function(a){var c=b("XMessengerDotComSettingsEditController").getURIBuilder().getURI();b("CurrentEnvironment").facebookdotcom&&c.setPath(b("MessengerURIConstants").FACEBOOK_PREFIX+c.getPath());new(b("AsyncRequest"))().setData({settings:a}).setURI(c).send();b("MessengerDispatcher").dispatch({type:g.CHANGE_SETTINGS,newSettings:a})},changeDesktopNotifs:function(a,c){a&&!b("MessengerDesktopNotifications").isGranted()?b("MessengerDesktopNotifications").requestPermission(function(d){if(d!==b("MessengerDesktopNotificationPermissions").GRANTED){b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED&&(c&&c());return}b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}):b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}};e.exports=a}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=b("MessengerDispatcher").register(this.__onDispatch.bind(this))}a.prototype.getDispatchToken=function(){return this.$1};a.prototype.emitChange=function(){this.emit("change")};a.prototype.destroy=function(){b("MessengerDispatcher").unregister(this.$1)};b("mixInEventEmitter")(a,{change:!0});e.exports=a}),null);
__d("MessengerSettingsStore",["CacheStorage","MessengerDotComSettingsInitialData","MessengerSettingsActions","MessengerStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new(b("CacheStorage"))("localstorage"),i="desktopNotifsEnabled";c=babelHelpers.inherits(a,b("MessengerStore"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$MessengerSettingsStore1=babelHelpers["extends"]({},b("MessengerDotComSettingsInitialData"),{desktopNotifsEnabled:this.$MessengerSettingsStore2()})}a.prototype.getSettings=function(){return this.$MessengerSettingsStore1};a.prototype.$MessengerSettingsStore2=function(){return h.get(i,!1)};a.prototype.$MessengerSettingsStore3=function(a){h.set(i,a)};a.prototype.__onDispatch=function(a){switch(a.type){case b("MessengerSettingsActions").Types.CHANGE_SETTINGS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,a.newSettings);this.emitChange();break;case b("MessengerSettingsActions").Types.CHANGE_DESKTOP_NOTIFS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,{desktopNotifsEnabled:a.desktopNotifsEnabled});this.$MessengerSettingsStore3(a.desktopNotifsEnabled);this.emitChange();break}};e.exports=new a()}),null);
__d("MessagingThreadEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVE:"active",INACTIVE:"inactive"})}),null);
__d("MessagingThreadSourceName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_NUB:"chat_nub",MESSENGER:"messenger"})}),null);
__d("MessengerLoggerUtils",["MercuryIDs","MessagingThreadEventType","MessagingThreadEventTypedLogger","MessagingThreadSourceName","ScriptPath","pageID"],(function(a,b,c,d,e,f){a={logThreadChangeEvent:function(a,c,d,e){d.activeThreadID&&a&&this.log({activeThreadID:d.activeThreadID,event:b("MessagingThreadEventType").INACTIVE,clientEventTimeMs:c,activeTimeMs:c-a}),e.activeThreadID&&this.log({activeThreadID:e.activeThreadID,event:b("MessagingThreadEventType").ACTIVE,clientEventTimeMs:c,activeTimeMs:0})},log:function(a){var c=b("MercuryIDs").tokenize(a.activeThreadID.toString()),d=b("ScriptPath").getPageInfo();new(b("MessagingThreadEventTypedLogger"))().setEvent(a.event).setClientEventTimeMs(a.clientEventTimeMs).setActiveTimeMs(a.activeTimeMs).setPageID(b("pageID")).setPageData(d?d.extraData:{}).setThreadID(c.value).setSource(b("MessagingThreadSourceName").MESSENGER).log()}};e.exports=a}),null);
__d("MessengerURIStore",["LogHistory","MessengerActions","MessengerLoggerUtils","MessengerStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LogHistory").getInstance("messenger_uri_store");c=babelHelpers.inherits(a,b("MessengerStore"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$MessengerURIStore1={activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,serverThreadID:null,extraQueryParams:null},this.$MessengerURIStore2=babelHelpers["extends"]({},this.$MessengerURIStore1),this.$MessengerURIStore4=this.$MessengerURIStore3=null}a.prototype.getState=function(){return this.$MessengerURIStore1};a.prototype.getPrevState=function(){return this.$MessengerURIStore2};a.prototype.__onDispatch=function(a){__p&&__p();switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:this.$MessengerURIStore2=this.$MessengerURIStore1;this.$MessengerURIStore4=this.$MessengerURIStore3;this.$MessengerURIStore1=babelHelpers["extends"]({activeThreadID:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,serverThreadID:null,extraQueryParams:null,threadsIDs:null},a.nextState);a=Date.now();this.$MessengerURIStore3=a;h.debug("replace_state",JSON.stringify({previousThreadID:this.$MessengerURIStore2.activeThreadID,nextThreadID:this.$MessengerURIStore1.activeThreadID}));b("MessengerLoggerUtils").logThreadChangeEvent(this.$MessengerURIStore4,a,this.$MessengerURIStore2,this.$MessengerURIStore1);this.emitChange();break}};e.exports=new a()}),null);
__d("RTWebLoggingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_CONTROLS:"call_controls",CHAT_PANEL:"chat_panel",CHAT_TAB:"chat_tab",MESSENGER_HEADER:"messenger_header",INCOMING_DIALOG:"incoming_call_dialog",CALL_HEADER:"call_header",GROUP_CALL_ADD_MEMBERS_DIALOG:"group_call_add_members_dialog",GROUP_CALL_PARTICIPANT_PICKER_DIALOG:"group_call_participant_picker_dialog",CALL_CONTAINER:"call_container",TIMELINE_TOP_SECTION:"timeline_top_section",DROPDOWN_CALL_MENU:"dropdown_call_menu",THREAD_LIST:"thread_list",DESKTOP_NOTIFICATION:"desktop_notification",AUDIO_FALLBACK_DIALOG:"audio_fallback_dialog",STAR_RATING_SURFACE:"star_rating_surface",MISSED_CALL_DIALOG:"missed_call_dialog",UNSUPPORTED_BROWSER_DIALOG:"unsupported_browser_dialog",ADMIN_MESSAGE:"admin_message",WORK_HOVERCARD:"work_hovercard",MESSENGER_BUBBLE:"messenger_bubble",CHAT_SIDEBAR:"chat_sidebar",SETTING_DIALOG:"setting_dialog",SCREENSHARING_POP_OUT:"screensharing_pop_out"})}),null);
__d("MessengerBrowserAlerts",["fbt","Bootloader","CurrentUser","DocumentTitle","Event","FavIcon","ImageSourceRequest","ImageSourceType","MercuryActionType","MercuryAttachmentSnippetRenderer","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryLogMessageType","MercuryNotificationRenderer","MercuryThreadInfo","MercuryThreadInformer","MessagingTag","MessengerActions","MessengerConfig","MessengerDesktopNotifications","MessengerFaviconUrls","MessengerParticipants.bs","MessengerSettingsStore","MessengerState.bs","MessengerURIStore","PhotoResizeModeConst","RTWebLoggingComponent","RTWebLoggingSurface","Sound","UserActivity","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=8e3,i=80,j=3,k=6e5,l=new Map(),m=null,n=null;function o(){l=new Map()}function p(a){var c=b("MessengerSettingsStore").getSettings().sound_enabled,d=a.action_type==b("MercuryActionType").LOG_MESSAGE;d=d&&(a.log_message_type==b("MercuryLogMessageType").PHONE_CALL||a.log_message_type==b("MercuryLogMessageType").VIDEO_CALL)&&a.log_message_data.answered;c&&!d&&b("Sound").play([b("MessengerConfig")["sound.notif_ogg_url"],b("MessengerConfig")["sound.notif_mp3_url"]],a.timestamp,!1)}function q(a,c,d){__p&&__p();if(!a.snippet_sender)return;var e=l.get(a.thread_id)||0;if(e>=j)return;l.set(a.thread_id,e+1);b("MessengerParticipants.bs").get(a.snippet_sender,function(e){var f=a.snippet,h=a.custom_nickname&&a.custom_nickname[b("MercuryIDs").getUserIDFromParticipantID(e.id)],i=h?h:e.short_name;!f&&a.snippet_attachments&&a.snippet_attachments.length>0&&(f=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(a.snippet_attachments),!1,i,a.snippet_attachments));h=h?h:e.name;a.is_canonical||(h=a.name?g._("{sender's name} to {group name}",[g._param("sender's name",i),g._param("group name",a.name)]):g._("{sender's name} to your group",[g._param("sender's name",i)]));b("MessengerDesktopNotifications").showNotification({title:h,body:f,icon:a.image_src||c||e.big_image_src||e.image_src,closeTime:null,onClick:function(){window.focus(),b("MessengerActions").selectThread(a.thread_id)},tag:d.message_id,silent:!b("MessengerSettingsStore").getSettings().sound_enabled});b("MessengerDesktopNotifications").hasDefaultSound()||p(d)})}a={_shouldUpdateTitle:!0,init:function(a){this._viewer=a,this._threadInformer=b("MercuryThreadInformer").getForFBID(this._viewer),this._highResImageMap=new Map(),this._shouldMarkAllAsSeenWhenActive=!0,this._shouldUpdateFavicon=!0,this._shouldUpdateTitle=!0,this._enabled=!0,b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(a){this._availabilityStatusStore=a}.bind(this),"MessengerBrowserAlerts")),b("Event").listen(window,"focus",function(){o(),clearInterval(m)}),b("Event").listen(window,"blur",function(){m=setInterval(o,k)}),this._threadInformer.subscribe("messages-received",function(a,b){for(var c in b)b[c].forEach(function(a){this.handleMessageReceived(a)}.bind(this))}.bind(this)),this._threadInformer.subscribe("unseen-updated",this._handleUnseenUpdated.bind(this)),this._threadInformer.subscribe("unread-updated",this._handleUnseenUpdated.bind(this))},disable:function(){this._enabled=!1},enable:function(){this._enabled=!0},disableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!1},enableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!0},disableFaviconUpdate:function(){this._shouldUpdateFavicon=!1},disableTitleUpdate:function(){this._shouldUpdateTitle=!1},enableTitleUpdate:function(){this._shouldUpdateTitle=!0},handleMessageReceived:function(a){__p&&__p();if(!this._enabled)return;var c=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(c||a.author===this._viewer||!a.is_unread||a.thread_id===b("MessengerURIStore").getState().activeThreadID&&b("UserActivity").isOnTab()||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;b("MessengerState.bs").getThreadMeta(this._viewer,a.thread_id,function(c){__p&&__p();if(b("MercuryThreadInfo").isMuted(c))if(!b("MercuryThreadInfo").areMentionsMuted(c)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===this._viewer}.bind(this)))return}else return;var d=b("CurrentUser").getID();b("MessengerState.bs").compute(d,function(e){e=e.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(d,e,c))return;b("MessengerSettingsStore").getSettings().desktopNotifsEnabled&&!b("UserActivity").isOnTab()?this._attemptDesktopNotification(c,a):a.log_message_type!==b("MercuryLogMessageType").UNSUBSCRIBE&&p(a);!b("UserActivity").isOnTab()&&b("MessengerState.bs").getUnseenUnreadCount(this._viewer)>0&&b("MercuryNotificationRenderer").renderDocumentTitle(a.thread_id,function(a){!n&&this._shouldUpdateTitle&&(n=b("DocumentTitle").blink(a))}.bind(this))}.bind(this))}.bind(this))},showRTCNotification:function(a,c){__p&&__p();if(b("UserActivity").isOnTab()){c(null);return}var d=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(d){c(null);return}this._highResImageMap||(this._highResImageMap=new Map());var e=a.peerID;if(!this._highResImageMap.has(e)){d=function(b,d){this._highResImageMap.set(e.toString(),d.uri),this._displayRTCDesktopNotification(d.uri,a,c)}.bind(this);new(b("ImageSourceRequest"))().setFBID(e).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(d.bind(null,e)).send()}else this._displayRTCDesktopNotification(this._highResImageMap.get(e),a,c)},_updateFavicon:function(a){if(!this._shouldUpdateFavicon)return;a===0?b("FavIcon").set(b("MessengerFaviconUrls")["default"]):b("FavIcon").set(b("MessengerFaviconUrls").unread)},_displayRTCDesktopNotification:function(a,c,d){__p&&__p();var e=b("MercuryIDs").getParticipantIDFromUserID(c.peerID);b("MessengerParticipants.bs").get(e,function(f){var i;c.isVideoCall?c.isGroupCall?i=g._("Incoming Group Video Chat"):i=g._("Incoming Video Call"):c.isGroupCall?i=g._("Incoming Group Call"):i=g._("Incoming call");f=g._("{caller} is calling you. Click to answer.",[g._param("caller",f.short_name)]);e=b("MessengerDesktopNotifications").showNotification({title:i,body:f,icon:a,closeTime:h,onShow:function(){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallImpression({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:b("RTWebLoggingSurface").DESKTOP_NOTIFICATION,component:b("RTWebLoggingComponent").ACCEPT})},"MessengerBrowserAlerts")},onClick:function(){window.focus(),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallClick({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:b("RTWebLoggingSurface").DESKTOP_NOTIFICATION,component:b("RTWebLoggingComponent").ACCEPT})},"MessengerBrowserAlerts"),c.onNotificationClicked()}});d(e)})},_handleUnseenUpdated:function(){__p&&__p();if(!this._enabled)return;var a=b("MessengerState.bs").getUnseenUnreadCount(this._viewer);if(this._shouldMarkAllAsSeenWhenActive&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&a>0){this._updateFavicon(0);b("MessengerState.bs").markAsSeen(this._viewer);return}this._shouldUpdateTitle&&b("DocumentTitle").badge(a);this._updateFavicon(a);n&&a===0&&(n.stop(),n=null);this._shouldMarkAllAsSeenWhenActive&&!this._focusToken&&a>0&&(this._focusToken=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(this._focusToken&&this._focusToken.unsubscribe(),this._focusToken=null,b("MessengerState.bs").markAsSeen(this._viewer))}.bind(this)))},_attemptDesktopNotification:function(a,c){if(!a.snippet_sender)return;if(!this._highResImageMap.has(a.snippet_sender)){var d=function(b,d){this._highResImageMap.set(a.snippet_sender,d.uri),q(a,d.uri,c)}.bind(this);new(b("ImageSourceRequest"))().setFBID(b("MercuryIDs").getUserIDFromParticipantID(a.snippet_sender)).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode(b("PhotoResizeModeConst").COVER).setCallback(d.bind(null,a.snippet_sender)).send()}else q(a,this._highResImageMap.get(a.snippet_sender),c)}};e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","MercuryTypeaheadConstants","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){__p&&__p();var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c==b("MercuryTypeaheadConstants").MESSAGE_TYPE&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);a=c===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&e.participantsToRender;c===b("MercuryTypeaheadConstants").THREAD_TYPE||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("BootloaderResource",[],(function(a,b,c,d,e,f){__p&&__p();var g={};a={preload:function(a){a.load()},read:function(b){__p&&__p();var a=b.getModuleIfRequired();if(!a){var c=b.getModuleId();if(!g[c]){b=g[c]=b.load();b["finally"](function(){delete g[c]})}throw g[c]}return a}};e.exports=a}),null);
__d("lazyLoadComponent",["BootloaderResource","react"],(function(a,b,c,d,e,f){function a(a){function c(c){var d=b("BootloaderResource").read(a);return b("react").createElement(d,c)}c.displayName="lazyLoadComponent("+a.getModuleId()+")";return c}e.exports=a}),null);
__d("LazyWorkMultiCompanyChatTooltip.react",["JSResource","lazyLoadComponent","react"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("WorkMultiCompanyChatTooltip.react").__setRef("LazyWorkMultiCompanyChatTooltip.react"));function a(a){return b("react").createElement(b("react").Suspense,{fallback:a.children},b("react").createElement(g,null,a.children))}e.exports=a}),null);
__d("LazyWorkMultiCompanyChatTooltipReact.bs",["ReasonReact.bs","LazyWorkMultiCompanyChatTooltip.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("LazyWorkMultiCompanyChatTooltip.react"),{},a)}f.make=a}),null);
__d("ReactDOMRe.bs",["React","ReactDOM","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").render(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function c(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.renderToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").render(a,d);return 0}}function d(a,c){var d=document.getElementsByClassName(c);if(d.length!==0){b("ReactDOM").hydrate(a,d[0]);return 0}else throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithClassName: no element of class "+(c+" found in the HTML.")]}function e(a,c){var d=document.getElementById(c);if(d==null)throw[b("bs_caml_builtin_exceptions").invalid_argument,"ReactDOMRe.hydrateToElementWithId : no element of id "+(c+" found in the HTML.")];else{b("ReactDOM").hydrate(a,d);return 0}}function g(a,c,d){a=[a,c].concat(d);return b("React").createElement.apply(null,a)}function h(a,b){return Object.assign(Object.assign({},a),b)}function i(a,b,c){var d={};d[b]=c;return h(a,d)}i=[h,i];f.renderToElementWithClassName=a;f.renderToElementWithId=c;f.hydrateToElementWithClassName=d;f.hydrateToElementWithId=e;f.createElementVariadic=g;f.Style=i}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","ReactDOMRe.bs","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function j(a,c,d,e,f,g,h,j,k,l,m,n){__p&&__p();var o=l!==void 0?l:"",p=function(){__p&&__p();if(c!==void 0)return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon _67in"},b("bs_js_primitive").valFromOption(c)));else{var a;if(d!==void 0||e!==void 0||k!==void 0)a=1;else return null;if(a===1)if(m)if(e!==void 0)if(b("CurrentUser").isWorkUser())return null;else{a=e;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _1zvi":"")+(a?"":" _2poo")}))}else if(k!==void 0)if(b("CurrentUser").isWorkUser()){a=k;var f=j!==void 0?j>45:!1;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:(a&&!f?"_4rwy":"")+(a&&f?" _2zb5":"")})])))}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=d;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}))}else return null}};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var c=j!==void 0?""+(String(j)+"px"):"auto",d=g!==void 0?g===b("MessagingThreadType").ROOM:!1,e;if(h!==void 0){var i=h;if(i==="")e={};else{var k=b("getViewportDimensions")().width,l=parseInt("700px".replace("px",""),10);k=k<=l;l=k?"above":"left";e=Object.assign({},b("TooltipData").propsFor(i,l))}}else e={};k=d?{background:f!==void 0?f:"#0084ff",height:c,width:c}:{height:c,width:c};i={className:b("joinClasses")("_4ldz",o),style:{height:c,width:c}};a!==void 0&&(i["aria-hidden"]=b("bs_js_primitive").valFromOption(a));return b("React").cloneElement(b("React").createElement("div",i,b("ReactDOMRe.bs").createElementVariadic("div",{className:"_4ld-"+(d?" _180i":""),style:k},n),p(0)),e)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c=a.className;return j(b("bs_js_primitive").nullable_to_opt(a.ariaHidden),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),void 0,b("bs_js_primitive").nullable_to_opt(a.threadColor),b("bs_js_primitive").nullable_to_opt(a.threadType),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),b("bs_js_primitive").nullable_to_opt(a.size),a.isMultiCompany,c==null?"":c,a.showBadge,[].concat(a.children))});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapperReact.bs","React"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("MessengerProfileImageWrapperReact.bs").jsComponent;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:this.props.className},b("React").createElement(h,{isMessengerUser:this.props.isMessengerUser,isPartiesUser:this.props.isPartiesUser,size:this.props.size,customBadge:this.props.customBadge,showBadge:!1},b("React").createElement(b("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("MessengerDialogLayerShrinkOnHide",["cx","invariant","CSSFade","Layer","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};a.prototype.disable=function(){"use strict";this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};a.prototype._handleStartHide=function(){"use strict";__p&&__p();var a=!0,c=b("Layer").subscribe("show",function(){c.unsubscribe(),a=!1}),d=setTimeout(function(){c.unsubscribe();c=null;var b=function(){this._layer.finishHide()}.bind(this);a?this._animate(b):b()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){clearTimeout(d)}});return!1};a.prototype._animate=function(a){"use strict";var c=this._layer.getRoot();c!=null||h(0,70);var d=c.getElementsByClassName("_59s7");d&&d[0]&&d[0].classList.add("_2qby");b("CSSFade").hide(c,{callback:function(){a()},duration:200})};e.exports=a}),null);
__d("MessengerTypeaheadUtils",["fbt","ix","MercuryTypeaheadConstants","MessengerEnvironment","ReactDOM","SearchableEntry","immutable","mapObject"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").OrderedMap,j=500,k=100,l="__special_search_entry__",m=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE],n=(a={},a[b("MercuryTypeaheadConstants").SEARCH_TYPE]={header:""},a[b("MercuryTypeaheadConstants").FRIEND_TYPE]={header:g._("Contacts")},a[b("MercuryTypeaheadConstants").FB4C_TYPE]={header:g._("Coworkers")},a[b("MercuryTypeaheadConstants").MESSAGE_TYPE]={header:g._("Messages")},a[b("MercuryTypeaheadConstants").THREAD_TYPE]={header:g._("Group Conversations")},a[b("MercuryTypeaheadConstants").PAGE_TYPE]={header:g._("Businesses")},a[b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE]={header:g._("Meeting Rooms")},a[b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE]={header:g._("Bots")},a[b("MercuryTypeaheadConstants").NON_FRIEND_TYPE]={header:g._("More People")},a.game={header:g._("Games")},a);c={sortEntries:function(a,c){__p&&__p();var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[];a.forEach(function(a){__p&&__p();switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:f.push(a);break;case b("MercuryTypeaheadConstants").MESSAGE_TYPE:g.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:h.push(a);break;case b("MercuryTypeaheadConstants").PAGE_TYPE:case b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE:j.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:i.push(a);break;case b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE:k.push(a);break;case b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:l.push(a);break;case b("MercuryTypeaheadConstants").SEARCH_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").GAME_TYPE:m.push(a);break}});return d.concat(e,f,g,h,k,l,i,j,m)},sortEntriesWithoutPages:function(a){__p&&__p();var c=[],d=[],e=[],f=[];a.forEach(function(a){switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:c.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return c.concat(d,e,f)},sortEntriesWithoutGroupsOrViewer:function(a,c){__p&&__p();var d=[],e=[],f=[];a.forEach(function(a){if(a.getUniqueID()===c)return;switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return d.concat(e,f)},getEntryOrder:function(a,b){if(b==null)return m;else return b},orderEntries:function(a,c){var d=[];this.getEntryOrder(c).filter(function(a){return a!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).concat(b("MercuryTypeaheadConstants").SEARCH_TYPE).forEach(function(b){return d.push.apply(d,a.filter(function(a){return this.areSectionsEqual(a.getType(),b)}.bind(this)))}.bind(this));return d},buildSingleSection:function(a){return i([["",a]])},buildListSections:function(a,c,d){__p&&__p();if(!a.length)return i();d=this.getEntryOrder(c,d);var e=b("mapObject")(n,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e[b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE]=e[b("MercuryTypeaheadConstants").PAGE_TYPE];a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return i(d.filter(function(a){return e[a].entries.length}).map(function(a){return[e[a].header,e[a].entries]}))},buildCustomSection:function(a,b){var c;return c={},c[a]=b,c},areSectionsEqual:function(a,c){return a===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE?c===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||c===b("MercuryTypeaheadConstants").PAGE_TYPE:a===c},scrollEntryIntoView:function(a,c){var d=b("ReactDOM").findDOMNode(c),e=c.getScrollTop(),f=a.offsetTop-e;d=d.offsetHeight-a.offsetHeight;a=Math.abs(d-f);f>=d&&a<=k?c.scrollToPosition(e+f-d,!0,{duration:j}):f<0&&a<=d+k&&c.scrollToPosition(e+f,!0,{duration:j})},getMessageSearchEntry:function(a){return!b("MessengerEnvironment").messengerui||a.length<2?null:new(b("SearchableEntry"))({uniqueID:l,title:g._("Search Messages for \"{queryString}\"",[g._param("queryString",a)]),photo:h("86924"),type:b("MercuryTypeaheadConstants").SEARCH_TYPE})},isMessageSearchEntry:function(a){return a.getUniqueID()===l}};e.exports=c}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MercuryTypeaheadConstants","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getNextHighlightedEntry:function(a,c,d,e){__p&&__p();var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()===b("MercuryTypeaheadConstants").SEARCH_TYPE&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("RelayFBMutations",["RelayAPIConfig","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;function a(a){return function(c,d,e){var f=d.variables.input||{};b("warning")(!("client_mutation_id"in f),"RelayFBMutations: Found `client_mutation_id` in mutation input`. In the Facebook context, `client_mutation_id` and `actor_id` are added automatically.");b("warning")(!("actor_id"in f&&f.actor_id===b("RelayAPIConfig").actorID),"RelayFBMutations: Found `actor_id` in mutation input`. In the Facebook context, this is not needed if it is the default from RelayAPIConfig.actorID.");f=babelHelpers["extends"]({},d.variables,{input:babelHelpers["extends"]({client_mutation_id:""+g++,actor_id:b("RelayAPIConfig").actorID},f)});return a(c,{configs:d.configs,mutation:d.mutation,variables:f,onCompleted:d.onCompleted,onError:d.onError,optimisticUpdater:d.optimisticUpdater,optimisticResponse:d.optimisticResponse,updater:d.updater,uploadables:d.uploadables},e)}}e.exports={addFBisms:a}}),null);
__d("ClientIDs",["randomInt"],(function(a,b,c,d,e,f){var g={};a={getNewClientID:function(){var a=Date.now();a=a+":"+(b("randomInt")(0,4294967295)+1);g[a]=!0;return a},isExistingClientID:function(a){return!!g[a]}};e.exports=a}),null);
__d("RelayFBSubscription",["ClientIDs","warning"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(c,d){var e=d.variables.input,f="client_subscription_id"in e;b("warning")(!f,"RelayFBSubscription: found `client_subscription_id` in `input`. In the Facebook context, `client_subscription_id` are added automatically.");f=babelHelpers["extends"]({},d.variables,{input:babelHelpers["extends"]({},e,{client_subscription_id:b("ClientIDs").getNewClientID()})});return a(c,{variables:f,subscription:d.subscription,onCompleted:d.onCompleted,onError:d.onError,onNext:d.onNext,updater:d.updater,configs:d.configs})}}e.exports={addFBisms:a}}),null);
__d("configureRelayForFB",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").ConnectionInterface;function a(){g.inject({CLIENT_MUTATION_ID:"client_mutation_id",CURSOR:"cursor",EDGES_HAVE_SOURCE_FIELD:!0,EDGES:"edges",END_CURSOR:"end_cursor",HAS_NEXT_PAGE:"has_next_page",HAS_PREV_PAGE:"has_previous_page",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"page_info",START_CURSOR:"start_cursor"})}e.exports=a}),null);
__d("react-relay/ReactRelayContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);
__d("react-relay/ReactRelayContainerProfiler",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").RelayProfiler;function a(a,b){g.instrumentMethods(a.prototype,{constructor:b+".prototype.constructor",UNSAFE_componentWillReceiveProps:b+".prototype.UNSAFE_componentWillReceiveProps",componentWillUnmount:b+".prototype.componentWillUnmount",shouldComponentUpdate:b+".prototype.shouldComponentUpdate"}),a.prototype!==null&&typeof a.prototype==="object"&&typeof a.getDerivedStateFromProps==="function"&&(a.prototype.constructor.getDerivedStateFromProps=a.getDerivedStateFromProps)}e.exports={profileContainer:a}}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.sendQuery==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/isRelayVariables",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment","react-relay/isRelayVariables"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)&&b("react-relay/isRelayVariables")(a.variables)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/assertFragmentMap",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b&&typeof b==="object"||g(0,5879,a,b);for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];d&&(typeof d==="object"||typeof d==="function")||g(0,5880,a,c,d)}}e.exports=a}),null);
__d("react-relay/readContext",["React"],(function(a,b,c,d,e,f){"use strict";c=b("React").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;var g=c.ReactCurrentDispatcher,h=c.ReactCurrentOwner;function a(a){var b=g!=null?g.current:h.currentDispatcher;return b.readContext(a)}e.exports=a}),null);
__d("react-relay/buildReactRelayContainer",["invariant","React","react-relay/ReactRelayContext","react-relay/assertFragmentMap","mapObject","react-relay/readContext","react-relay/ReactRelayContainerUtils","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("react-relay/ReactRelayContainerUtils").getComponentName,i=b("react-relay/ReactRelayContainerUtils").getContainerName;function a(a,c,d){__p&&__p();var e=i(a);b("react-relay/assertFragmentMap")(h(a),c);var f,j;function k(e){if(j==null||e.__relayContext.environment!==f){f=e.__relayContext.environment;var g=f.unstable_internal.getFragment;g=b("mapObject")(c,g);j=d(a,g);k.getDerivedStateFromProps=j.getDerivedStateFromProps}return new j(e)}function l(a,c){var d=b("react-relay/readContext")(b("react-relay/ReactRelayContext"));d||g(0,void 0);return b("React").createElement(k,babelHelpers["extends"]({},a,{__relayContext:d,componentRef:a.componentRef||c}))}l.displayName=e;e=b("React").forwardRef(l);return e}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["React","areEqual","react-relay/buildReactRelayContainer","react-relay/ReactRelayContainerProfiler","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("react-relay/ReactRelayContainerProfiler").profileContainer,h=b("react-relay/ReactRelayContainerUtils").getContainerName,i=b("react-relay/RelayContext").assertRelayContext,j=b("relay-runtime").RelayProfiler,k=b("relay-runtime").isScalarAndEqual;function l(a,c){__p&&__p();var d,e,f=h(a);d=babelHelpers.inherits(l,b("React").Component);e=d&&d.prototype;function l(a){"use strict";e.constructor.call(this,a);this.$3=function(){var a=j.profile("ReactRelayFragmentContainer.handleFragmentDataUpdate"),b=this.state.resolver;this.setState(function(a){return b===a.resolver?{data:a.resolver.resolve(),relayProp:m(a.relayProp.environment)}:null},a.stop)}.bind(this);var b=i(a.__relayContext),d=b.environment.unstable_internal.createFragmentSpecResolver;d=d(b,f,c,a);this.state={data:d.resolve(),prevProps:a,prevPropsContext:b,relayProp:m(b.environment),resolver:d}}l.getDerivedStateFromProps=function(a,d){"use strict";__p&&__p();var e=d.prevProps,g=i(a.__relayContext),h=g.environment.unstable_internal,j=h.createFragmentSpecResolver;h=h.getDataIDsFromObject;e=h(c,e);h=h(c,a);var k=d.resolver;if(d.prevPropsContext.environment!==g.environment||d.prevPropsContext.variables!==g.variables||!b("areEqual")(e,h)){k=j(g,f,c,a);return{data:k.resolve(),prevPropsContext:g,prevProps:a,relayProp:m(g.environment),resolver:k}}else{k.setProps(a);e=k.resolve();if(e!==d.data)return{data:e,prevProps:a,prevPropsContext:g,relayProp:m(g.environment)}}return null};l.prototype.componentDidMount=function(){"use strict";this.$1(),this.$2()};l.prototype.componentDidUpdate=function(a,b){"use strict";this.state.resolver!==b.resolver&&(b.resolver.dispose(),this.$1()),this.$2()};l.prototype.componentWillUnmount=function(){"use strict";this.state.resolver.dispose()};l.prototype.shouldComponentUpdate=function(a,b){"use strict";__p&&__p();if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment||b.prevPropsContext.variables!==this.state.prevPropsContext.variables)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!k(a[f],this.props[f]))return!0}return!1};l.prototype.$2=function(){"use strict";var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};l.prototype.$1=function(){"use strict";var a=this.state.resolver;a.setCallback(this.$3)};l.prototype.render=function(){"use strict";var c=this.props,d=c.componentRef;c.__relayContext;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext"]);return b("React").createElement(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))};l.displayName=f;g(l,"ReactRelayFragmentContainer");return l}function m(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,l)}e.exports={createContainer:a,createContainerWithFragments:l}}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("relay-runtime").__internal.fetchQuery;function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}a.prototype.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};a.prototype.lookupInStore=function(a,b){if(a.check(b.root)){this.$9(a,b);return a.lookup(b.fragment,b)}return null};a.prototype.execute=function(a){var b=a.environment,c=a.operation,d=a.cacheConfig;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=b.retain(c.root);a=d!=null?{networkCacheConfig:d}:{};return h(b,c,a)["do"]({error:function(){this.$4=this.$4.concat(f)}.bind(this),complete:function(){e||this.disposeSelectionReferences(),this.$4=this.$4.concat(f)}.bind(this),unsubscribe:function(){this.$4=this.$4.concat(f)}.bind(this)})};a.prototype.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};a.prototype.fetch=function(a){__p&&__p();var b=a.cacheConfig,c=a.environment,d=a.operation;a=a.onDataChange;var e=!1,f;this.disposeRequest();var g=this.$1&&this.$1.onDataChangeCallbacks;this.$1={cacheConfig:b,environment:c,onDataChangeCallbacks:g||[],operation:d};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);var h=this.execute({environment:c,operation:d,cacheConfig:b})["finally"](function(){this.$2=null}.bind(this)).subscribe({next:function(){this.$8=!0,this.$6=null,this.$10({notifyFirstResult:e})}.bind(this),error:function(a){this.$8=!0;this.$6=a;this.$5=null;var b=this.$1&&this.$1.onDataChangeCallbacks;e?b&&b.forEach(function(b){b({error:a})}):f=a}.bind(this)});this.$2={dispose:function(){h.unsubscribe()}};e=!0;if(f)throw f;return this.$5};a.prototype.retry=function(){this.$1||g(0,4543);return this.fetch({cacheConfig:this.$1.cacheConfig,environment:this.$1.environment,operation:this.$1.operation,onDataChange:null})};a.prototype.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};a.prototype.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};a.prototype.$9=function(a,b){this.$11(),this.$7=a.retain(b.root)};a.prototype.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};a.prototype.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};a.prototype.$10=function(a){__p&&__p();a=a.notifyFirstResult;this.$1||g(0,4544);var b=this.$1,c=b.environment,d=b.onDataChangeCallbacks;b=b.operation;if(this.$5)return;this.$5=c.lookup(b.fragment,b);this.$3=c.subscribe(this.$5,function(a){if(this.$1!=null){var b=this.$1.onDataChangeCallbacks;Array.isArray(b)&&b.forEach(function(b){return b({snapshot:a})})}}.bind(this));if(this.$5&&a&&Array.isArray(d)){var e=this.$5;d.forEach(function(a){return a({snapshot:e})})}};e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","React","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","areEqual","react-relay/buildReactRelayContainer","warning","react-relay/ReactRelayContainerProfiler","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("react-relay/ReactRelayContainerProfiler").profileContainer,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=b("react-relay/RelayContext").assertRelayContext,l=b("relay-runtime").ConnectionInterface,m=b("relay-runtime").RelayFeatureFlags,n=b("relay-runtime").RelayProfiler,o=b("relay-runtime").Observable,p=b("relay-runtime").isScalarAndEqual,q="forward";function r(a){__p&&__p();var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function s(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function t(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function u(a){return typeof a==="function"?{error:a,complete:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function v(a,c,d){__p&&__p();var e,f=i(a),v=j(a),w=t(c),x=d.getConnectionFromProps||r(w),y=d.direction||w.direction;y||g(0,1224);var z=d.getFragmentVariables||s(w);w=babelHelpers.inherits(A,b("React").Component);e=w&&w.prototype;function A(a){"use strict";__p&&__p();e.constructor.call(this,a);this.$8=function(){var a=n.profile("ReactRelayPaginationContainer.handleFragmentDataUpdate");this.setState({data:this.$4.resolve()},a.stop)}.bind(this);this.$11=function(){var a=this.$15();return!!(a&&a.hasMore&&a.cursor)}.bind(this);this.$12=function(){return!!this.$2}.bind(this);this.$14=function(a,b,c){if(!this.$16("refetchConnection"))return{dispose:function(){}};this.$3=c;c={count:a,cursor:null,totalCount:a};a=this.$17(c,u(b),{force:!0});return{dispose:a.unsubscribe}}.bind(this);this.$13=function(a,c,d){__p&&__p();if(!this.$16("loadMore"))return{dispose:function(){}};var e=u(c),f=this.$15();if(!f){o.create(function(a){return a.complete()}).subscribe(e);return null}var g=f.edgeCount+a;if(d&&d.force)return this.$14(g,c);c=l.get();var h=c.END_CURSOR;c=c.START_CURSOR;f=f.cursor;b("warning")(f,"ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",y===q?h:c,f);h={count:a,cursor:f,totalCount:g};c=this.$17(h,e,d);return{dispose:c.unsubscribe}}.bind(this);var d=k(a.__relayContext),f=d.environment.unstable_internal.createFragmentSpecResolver;this.$1=!1;this.$2=null;this.$3=null;this.$4=f(d,v,c,a,this.$8);this.state={data:this.$4.resolve(),prevContext:d,contextForChildren:d,relayProp:this.$9(d)};this.$6=!1;this.$7=!1}A.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";var d=k(a.__relayContext),e=d.environment.unstable_internal,f=e.createFragmentSpecResolver;e=e.getDataIDsFromObject;var g=e(c,this.props);e=e(c,a);d.environment!==this.state.prevContext.environment||d.variables!==this.state.prevContext.variables||!b("areEqual")(g,e)?(this.$10(),this.$4=f(d,v,c,a,this.$8),this.setState({prevContext:d,contextForChildren:d,relayProp:this.$9(d)})):this.$7||this.$4.setProps(a);g=this.$4.resolve();g!==this.state.data&&this.setState({data:g})};A.prototype.componentWillUnmount=function(){"use strict";this.$6=!0,this.$10()};A.prototype.shouldComponentUpdate=function(a,b){"use strict";__p&&__p();if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment||b.prevContext.variables!==this.state.prevContext.variables)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!p(a[f],this.props[f]))return!0}return!1};A.prototype.$9=function(a){"use strict";return{hasMore:this.$11,isLoading:this.$12,loadMore:this.$13,refetchConnection:this.$14,environment:a.environment}};A.prototype.$15=function(){"use strict";__p&&__p();var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["componentRef"]);a=babelHelpers["extends"]({},a,this.state.data);a=x(a);if(a==null)return null;var c=l.get(),d=c.EDGES,e=c.PAGE_INFO,h=c.HAS_NEXT_PAGE,i=c.HAS_PREV_PAGE,j=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,f,d,e,a);var k=a[d];a=a[e];if(k==null||a==null)return null;Array.isArray(k)||g(0,1226,f,d,k);typeof a==="object"||g(0,1227,f,e,a);d=y===q?a[h]:a[i];a=y===q?a[j]:a[c];if(typeof d!=="boolean"||k.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",e,f,y===q?h:i,d,y===q?j:c,a);return null}return{cursor:a,edgeCount:k.length,hasMore:d}};A.prototype.$18=function(){"use strict";this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};A.prototype.$16=function(a){"use strict";if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,v,a);return!1}return!0};A.prototype.$17=function(a,e,h){"use strict";__p&&__p();var i=k(this.props.__relayContext);i=i.environment;var j=i.unstable_internal,l=j.createOperationDescriptor,n=j.getRequest;j=j.getVariablesFromObject;var p=this.props;p.componentRef;p.__relayContext;p=babelHelpers.objectWithoutPropertiesLoose(p,["componentRef","__relayContext"]);var q=babelHelpers["extends"]({},p,this.state.data),r=this.props.__relayContext.variables,s=j(r,c,p);s=babelHelpers["extends"]({},r,s,this.$3);j=d.getVariables(q,{count:a.count,cursor:a.cursor},s);typeof j==="object"&&j!==null||g(0,1228,j,f);j=babelHelpers["extends"]({},j,this.$3);m.MERGE_FETCH_AND_FRAGMENT_VARS&&(s=babelHelpers["extends"]({},j,s));p=h?{force:!!h.force}:void 0;r=n(d.query);var t=l(r,j),u=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var v=function(c,d){c=babelHelpers["extends"]({},this.props.__relayContext.variables,s);var e=this.$4.resolve();this.$4.setVariables(z(s,a.totalCount),t.node);var f=this.$4.resolve();!b("areEqual")(e,f)?this.setState({data:f,contextForChildren:{environment:this.props.__relayContext.environment,variables:c}},d):d()}.bind(this);q=function(){this.$2===u&&(this.$2=null,this.$1=!1)}.bind(this);this.$1=!0;u=this.$18().execute({environment:i,operation:t,cacheConfig:p,preservePreviousReferences:!0}).mergeMap(function(a){return o.create(function(b){v(a,function(){b.next(),b.complete()})})})["do"]({error:q,complete:q,unsubscribe:q}).subscribe(e||{});this.$2=this.$1?u:null;return u};A.prototype.$10=function(){"use strict";this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};A.prototype.render=function(){"use strict";var c=this.props,d=c.componentRef;c.__relayContext;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext"]);return b("React").createElement(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren},b("React").createElement(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp})))};A.displayName=v;h(A,"ReactRelayPaginationContainer");return A}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return v(a,b,d)})}e.exports={createContainer:a,createContainerWithFragments:v}}),null);
__d("react-relay/ReactRelayQueryRenderer",["React","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","areEqual","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("relay-runtime").deepFreeze;var h={};d="NETWORK_ONLY";var i="STORE_THEN_NETWORK";({NETWORK_ONLY:d,STORE_THEN_NETWORK:i});f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(a){__p&&__p();g.constructor.call(this,a);var c={handleDataChange:null,handleRetryAfterError:null},d;if(a.query){var e=a.query,f=a.environment.unstable_internal.getRequest;f=f(e);d=n(f.params,a.variables);e=h[d]?h[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else e=new(b("react-relay/ReactRelayQueryFetcher"))();this.state=babelHelpers["extends"]({prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,prevQuery:a.query,queryFetcher:e,retryCallbacks:c},o(a,e,c,d))}a.getDerivedStateFromProps=function(a,c){__p&&__p();if(c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!b("areEqual")(c.prevPropsVariables,a.variables)){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){var f=a.environment.unstable_internal.getRequest;f=f(d);d=n(f.params,a.variables);f=h[d]?h[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else f=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:f},o(a,f,c.retryCallbacks))}return null};a.prototype.componentDidMount=function(){__p&&__p();var a=this.state,b=a.retryCallbacks,c=a.queryFetcher;a=a.requestCacheKey;a&&delete h[a];b.handleDataChange=function(a){var d=a.error==null?null:a.error,e=a.snapshot==null?null:a.snapshot;this.setState(function(a){var f=a.requestCacheKey;f&&delete h[f];return e===a.snapshot&&d===a.error?null:{renderProps:m(d,e,c,b),snapshot:e,requestCacheKey:null}})}.bind(this);b.handleRetryAfterError=function(a){return this.setState(function(a){a=a.requestCacheKey;a&&delete h[a];return{renderProps:k(),requestCacheKey:null}})}.bind(this);this.props.query&&c.setOnDataChange(b.handleDataChange)};a.prototype.componentDidUpdate=function(){var a=this.state.requestCacheKey;a&&(delete h[a],delete this.state.requestCacheKey)};a.prototype.componentWillUnmount=function(){this.state.queryFetcher.dispose()};a.prototype.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};a.prototype.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return b("React").createElement(b("react-relay/ReactRelayContext").Provider,{value:a},this.props.render(c))};function j(a,b){return{environment:a,variables:b}}function k(){return{error:null,props:null,retry:null}}function l(){return{error:null,props:{},retry:null}}function m(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(){var b=c.retry();b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function n(a,b){a=a.id||a.text;return JSON.stringify({id:String(a),variables:b})}function o(a,b,c,d){__p&&__p();var e=a.environment,f=a.query,g=a.variables;e=e;if(f){var o=e.unstable_internal,p=o.createOperationDescriptor;o=o.getRequest;o=o(f);f=p(o,g);p=j(e,f.variables);if(typeof d==="string"&&h[d]){var q=h[d].snapshot;if(q)return{error:null,relayContext:p,renderProps:m(null,q,b,c),snapshot:q,requestCacheKey:d};else return{error:null,relayContext:p,renderProps:k(),snapshot:null,requestCacheKey:d}}try{q=a.dataFrom===i?b.lookupInStore(e,f):null;f=b.fetch({cacheConfig:a.cacheConfig,dataFrom:a.dataFrom,environment:e,onDataChange:c.handleDataChange,operation:f});f=f||q;d=d||n(o.params,a.variables);h[d]={queryFetcher:b,snapshot:f};return!f?{error:null,relayContext:p,renderProps:k(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:p,renderProps:m(null,f,b,c),snapshot:f,requestCacheKey:d}}catch(a){return{error:a,relayContext:p,renderProps:m(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();q=j(e,g);return{error:null,relayContext:q,renderProps:l(),requestCacheKey:null}}}e.exports=a}),null);
__d("react-relay/ReactRelayRefetchContainer",["React","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","areEqual","react-relay/buildReactRelayContainer","warning","react-relay/ReactRelayContainerProfiler","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("react-relay/ReactRelayContainerProfiler").profileContainer,h=b("react-relay/ReactRelayContainerUtils").getContainerName,i=b("react-relay/RelayContext").assertRelayContext,j=b("relay-runtime").Observable,k=b("relay-runtime").RelayFeatureFlags,l=b("relay-runtime").RelayProfiler,m=b("relay-runtime").isScalarAndEqual;function n(a,c,d){__p&&__p();var e,f,n=h(a);e=babelHelpers.inherits(p,b("React").Component);f=e&&e.prototype;function p(a){"use strict";__p&&__p();f.constructor.call(this,a);this.$6=function(){var a=l.profile("ReactRelayRefetchContainer.handleFragmentDataUpdate"),b=this.state.resolver;this.setState(function(a){return b===a.resolver?{data:a.resolver.resolve()}:null},a.stop)}.bind(this);this.$4=function(a,c,e,f){__p&&__p();if(this.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",n);return{dispose:function(){}}}var g=i(this.props.__relayContext),h=g.environment;g=g.variables;a=typeof a==="function"?a(this.$7()):a;a=babelHelpers["extends"]({},g,a);var l=c?k.MERGE_FETCH_AND_FRAGMENT_VARS?babelHelpers["extends"]({},a,c):babelHelpers["extends"]({},g,c):a;g=f?{force:!!f.force}:void 0;var m=typeof e==="function"?{next:e,error:e}:e||{};c=this.props.__relayContext.environment.unstable_internal;e=c.createOperationDescriptor;c=c.getRequest;c=c(d);var o=e(c,a);this.state.localVariables=a;this.$1&&this.$1.unsubscribe();var p;if((f==null?void 0:f.fetchPolicy)==="store-or-network"){e=this.$8().lookupInStore(h,o);if(e!=null){this.state.resolver.setVariables(l,o.node);this.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:this.props.__relayContext.environment,variables:l}}}.bind(this),function(){m.next&&m.next(),m.complete&&m.complete()});return{dispose:function(){}}}}this.$8().execute({environment:h,operation:o,cacheConfig:g,preservePreviousReferences:!0}).mergeMap(function(a){this.state.resolver.setVariables(l,o.node);return j.create(function(a){return this.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:this.props.__relayContext.environment,variables:l}}}.bind(this),function(){a.next(),a.complete()})}.bind(this))}.bind(this))["finally"](function(){this.$1===p&&(this.$1=null)}.bind(this)).subscribe(babelHelpers["extends"]({},m,{start:function(a){this.$1=p=a,m.start&&m.start(a)}.bind(this)}));return{dispose:function(){p&&p.unsubscribe()}}}.bind(this);var e=i(a.__relayContext);this.$1=null;var g=e.environment.unstable_internal.createFragmentSpecResolver;g=g(e,n,c,a);this.state={data:g.resolve(),localVariables:null,prevProps:a,prevPropsContext:e,contextForChildren:e,relayProp:o(e.environment,this.$4),resolver:g};this.$3=!1}p.prototype.componentDidMount=function(){"use strict";this.$5()};p.prototype.componentDidUpdate=function(a,b){"use strict";this.state.resolver!==b.resolver&&(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5())};p.getDerivedStateFromProps=function(a,d){"use strict";__p&&__p();var e=d.prevProps,f=i(a.__relayContext),g=f.environment.unstable_internal,h=g.createFragmentSpecResolver;g=g.getDataIDsFromObject;e=g(c,e);g=g(c,a);var j=d.resolver;if(d.prevPropsContext.environment!==f.environment||d.prevPropsContext.variables!==f.variables||!b("areEqual")(e,g)){j=h(f,n,c,a);return{data:j.resolve(),localVariables:null,prevProps:a,prevPropsContext:f,contextForChildren:f,relayProp:o(f.environment,d.relayProp.refetch),resolver:j}}else d.localVariables||j.setProps(a);e=j.resolve();return e!==d.data?{data:e,prevProps:a}:null};p.prototype.componentWillUnmount=function(){"use strict";this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};p.prototype.shouldComponentUpdate=function(a,b){"use strict";__p&&__p();if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment||this.state.prevPropsContext.variables!==b.prevPropsContext.variables)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!m(a[f],this.props[f]))return!0}return!1};p.prototype.$5=function(){"use strict";var a=this.state,b=a.data;a=a.resolver;a.setCallback(this.$6);a=a.resolve();b!==a&&this.setState({data:a})};p.prototype.$7=function(){"use strict";var a=this.props.__relayContext.environment.unstable_internal.getVariablesFromObject;return a(this.props.__relayContext.variables,c,this.props)};p.prototype.$8=function(){"use strict";this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};p.prototype.render=function(){"use strict";var c=this.props,d=c.componentRef;c.__relayContext;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext"]);var e=this.state,f=e.relayProp;e=e.contextForChildren;return b("React").createElement(b("react-relay/ReactRelayContext").Provider,{value:e},b("React").createElement(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f})))};p.displayName=n;g(p,"ReactRelayRefetchContainer");return p}function o(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return n(a,b,d)})}e.exports={createContainer:a,createContainerWithFragments:n}}),null);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";e.exports={QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),MutationTypes:b("relay-runtime").MutationTypes,RangeOperations:b("relay-runtime").RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:b("relay-runtime").applyOptimisticMutation,commitLocalUpdate:b("relay-runtime").commitLocalUpdate,commitMutation:b("relay-runtime").commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery:b("relay-runtime").fetchQuery,graphql:b("relay-runtime").graphql,requestSubscription:b("relay-runtime").requestSubscription}}),null);
__d("RelayModern",["RelayFBMutations","RelayFBSubscription","gkx","react-relay","relay-runtime","requireCond","cr:819285","configureRelayForFB"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("relay-runtime").RelayFeatureFlags;if(!a.__RELAYOSS__){d=b("configureRelayForFB");d()}b("cr:819285")!=null&&b("cr:819285")();c.MERGE_FETCH_AND_FRAGMENT_VARS=b("gkx")("832232");c.PREFER_FRAGMENT_OWNER_OVER_CONTEXT=b("gkx")("832233");e.exports=babelHelpers["extends"]({},b("react-relay"),{commitMutation:b("RelayFBMutations").addFBisms(b("react-relay").commitMutation),requestSubscription:b("RelayFBSubscription").addFBisms(b("react-relay").requestSubscription)})}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","RelayModern","SearchableEntry","WorkForeignEntityType","MessengerGraphQLTypeaheadAdapter_user.graphql","MessengerGraphQLTypeaheadAdapter_page.graphql","MessengerGraphQLTypeaheadAdapter_group.graphql","MessengerGraphQLTypeaheadAdapter_game.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("RelayModern").graphql;function h(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function i(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function j(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=i(a):b&&a.is_viewer_friend===!1&&(c=b);return c}var k={convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e=b("MercuryParticipantTypes").NON_FRIEND;d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)===b("WorkForeignEntityType").NOT_FOREIGN;a.is_work_user&&d?e=b("MercuryParticipantTypes").FB4C:(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e=b("MercuryParticipantTypes").FRIEND);d=j(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b("MercuryTypeaheadConstants").GAME_TYPE,photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertMessageToEntry:function(a){__p&&__p();if(a==null||a.thread_id==null||a.message_thread==null||a.message_thread.thread==null||a.matched_message==null||a.matched_message.message==null)return null;var c=a.thread_id+"messages",d=a.message_thread.thread,e=a.matched_message.message,f=e.snippet,i=Number(a.message_thread.approx_count),j=g._("{number of messages} matched messages",[g._param("number of messages",i)]);i=i>1?j:f;j={timestamp:Number(e.timestamp),thread_id:a.thread_id};f="";e=null;if(d.image!==void 0){d.thread_name&&(f=d.thread_name);d.image&&(e=d.image.uri);if(d.all_participants&&d.all_participants.nodes&&d.all_participants.count){if(f==""){var l=d.all_participants.count,m=d.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);f=k.getTitleOfUnnamedGroup(!0,m,l)}m=d.all_participants.nodes.map(function(a){return{id:h(a.messaging_actor.id)}});j=babelHelpers["extends"]({},j,{participantsToRender:m,thread:{thread_id:a.thread_id,image_src:e,participants:m.map(function(a){return a.id})}})}}else if(d.all_participants&&d.all_participants.nodes[0]&&d.all_participants.nodes[0].messaging_actor){l=d.all_participants.nodes[0].messaging_actor;l.name&&(f=l.name);l.profile_picture&&(e=l.profile_picture.uri)}return new(b("SearchableEntry"))({uniqueID:c,title:f,subtitle:i,type:b("MercuryTypeaheadConstants").MESSAGE_TYPE,photo:e,uri:null,order:0,auxiliaryData:j})},convertGroupToEntry:function(a,c){__p&&__p();if(!a||!a.thread_key||!a.is_group_thread)return null;var d=a.thread_key.thread_fbid;if(!d)return null;var e=a.image&&a.image.uri,f=a.other_participants.edges.map(function(a){return a.node.messaging_actor.name});f=k.getTitleOfUnnamedGroup(!1,f,a.other_participants.count);var g=a.name,i=null;!g?g=f:i=f;if(!g)return null;f={};f.thread={thread_id:d,other_user_fbid:null,image_src:e,participants:a.other_participants.edges.map(function(a){return h(a.node.messaging_actor.id)})};f.participantsToRender=a.other_participants.edges.map(function(a){return{id:h(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:d,order:c,photo:e,title:g,subtitle:i,type:b("MercuryParticipantTypes").THREAD,auxiliaryData:f})},getTitleOfUnnamedGroup:function(a,b,c,d){__p&&__p();d===void 0&&(d=3);var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} and {number of other participants} more",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])},userFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_user.graphql")},pageFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_page.graphql")},groupFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_group.graphql")},gameFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_game.graphql")}};e.exports=k}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2339215389425518"};c.getQueryID=function(){"use strict";return"339708329890231"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a={ACTIVE:"ACTIVE",COMPLETE:"COMPLETE"};e.exports=a}),null);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("SearchSourceQueryStatus").ACTIVE,i=b("SearchSourceQueryStatus").COMPLETE;function a(a){"use strict";this.$9=a.parseFn,typeof this.$9==="function"||g(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||g(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||j,this.$4=a.exclusions||{},this.reset()}a.prototype.search=function(a,b){"use strict";var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};a.prototype.$13=function(a,b){"use strict";__p&&__p();var c=this.$14(a),d=!!this.$5[a];if(!c.length){b([],a,d?i:h);return d}c=c.map(function(a){return this.$3[a]}.bind(this));b(c,a,d?i:h);return d};a.prototype.$15=function(){"use strict";var a=this.$10;this.$10=[];a.forEach(this.$16,this)};a.prototype.$16=function(a){"use strict";__p&&__p();var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};a.prototype.reset=function(){"use strict";this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};a.prototype.addLocalEntries=function(a){"use strict";a.forEach(function(a){var b=a.getUniqueID(),c=this.$6(a);this.$3[b]=a;this.$12[b]=c;a=this.$9(c);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(this.$7,a)||(this.$7[a]={}),this.$7[a][b]=!0}.bind(this))}.bind(this)),this.$15()};a.prototype.addQueryEntries=function(a,c,d){"use strict";__p&&__p();d===i&&this.setQueryStringAsExhausted(c);d=this.$14(c);var e=this.$9(c).flatValue;this.$11[e]=b("createObjectFrom")(d,!0);a.forEach(function(a){var b=a.getUniqueID();this.$3[b]=a;this.$12[b]=this.$6(a);this.$11[e][b]=!0}.bind(this));this.$15()};a.prototype.unsubscribe=function(a){"use strict";delete this.$1[a]};a.prototype.removeEntry=function(a){"use strict";delete this.$3[a]};a.prototype.getAllEntriesMap=function(){"use strict";return this.$3};a.prototype.setQueryStringAsExhausted=function(a){"use strict";this.$5[a]=!0};a.prototype.unsetQueryStringAsExhausted=function(a){"use strict";delete this.$5[a]};a.prototype.$14=function(a){"use strict";var b=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));b=b.concat(a);var c={},d=[];b.forEach(function(a){c[a]==null&&this.$3[a]!=null&&this.$4[a]==null&&(d.push(a),c[a]=!0)}.bind(this));return d};a.prototype.$17=function(a,b){"use strict";__p&&__p();var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};a.prototype.$20=function(a,b){"use strict";var c={};b.forEach(function(b){c[b]=this.$8(a,this.$12[b])}.bind(this));return c};a.prototype.$18=function(a){"use strict";__p&&__p();var c=this.$9(a,this.$2),d=this.$2?b("nullthrows")(c.sortedTokens):c.tokens,e=d.length,f=c.isPrefixQuery?e-1:null,g={},h={},i={};c=!1;var j={},k=0;d.forEach(function(a,b){__p&&__p();if(Object.prototype.hasOwnProperty.call(j,a))return;k++;j[a]=!0;for(var d in this.$7){var e=d===a&&!Object.prototype.hasOwnProperty.call(g,d),l=!1;e||(l=(this.$2||f===b)&&d.indexOf(a)===0);if(!e&&!l){Object.prototype.hasOwnProperty.call(g,d)||(c=!0);continue}d===a?(Object.prototype.hasOwnProperty.call(h,d)&&(c=!0),g[d]=!0):((Object.prototype.hasOwnProperty.call(g,d)||Object.prototype.hasOwnProperty.call(h,d))&&(c=!0),h[d]=!0);for(var m in this.$7[d])(b===0||Object.prototype.hasOwnProperty.call(i,m)&&i[m]==k-1)&&(i[m]=k)}}.bind(this));d=Object.keys(i).filter(function(a){return i[a]==k});(c||k<e)&&(d=this.$21(a,d));return d};a.prototype.$19=function(a){"use strict";var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};a.prototype.$22=function(a){"use strict";var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){a.indexOf(d)===0&&d.length>b&&(b=d.length,c=d)});return c&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};a.prototype.$21=function(a,b){"use strict";return b.filter(function(b){return this.$8(a,this.$12[b])}.bind(this))};function j(a){return[a.getTitle(),a.getKeywordString()].join(" ")}e.exports=a}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var c=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;c=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:c,count:50});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var c=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(c);this.orderedFriendEntries=c;c=(c=a)!=null?(c=c.viewer)!=null?(c=c.messenger_contextual_ranked_users)!=null?(c=c.page_info)!=null?c.has_next_page:c:c:c:c;c&&(this.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.orderedFriendEntries),this.loadMoreFriends(),this.shouldRefetch=!1}.bind(this),b("emptyFunction"))};g.prototype.loadMoreFriends=function(){if(this.cursor==null)return;var a=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){this.callbackManager.addLocalEntries(a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))}.bind(this))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};g.prototype.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};g.prototype.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};g.prototype.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};a.prototype.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};a.prototype.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2046569042080039"};c.getQueryID=function(){"use strict";return"2118248735074331"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}g.prototype.onEntriesLoaded=function(a){__p&&__p();if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var c=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});this.callbackManager.addLocalEntries(a);this.audienceEntries=a}.bind(this))}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(this.audienceEntries,!0)}.bind(this),b("emptyFunction"))};g.prototype.search=function(a,b){this.onEntriesLoaded(function(){this.callbackManager.search(a,function(c){b(c,a)})}.bind(this))};g.prototype.isBootstrapped=function(){return this.audienceEntries!==null};a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}a.prototype.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};a.prototype.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};a.prototype.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("ImageBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),contentClassName:b("bs_js_null_undefined").fromOption(c),imageClassName:b("bs_js_null_undefined").fromOption(d),spacing:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MessengerContactActions.bs",[],(function(a,b,c,d,e,f){"use strict";a={ADD_OWNER:"ADD_OWNER",FREE_CALL:"FREE_CALL",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT"};f.actions=a}),null);
__d("MessengerContactImageReact.bs",["Image.bs","React","bs_belt_Option","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function h(a,c,d,e,f,h,i,j){var k=i!==void 0?i:!1;return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement("div",{className:b("bs_belt_Option").getWithDefault(a,"")},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(!0,c,d,e,void 0,void 0,void 0,f,k,void 0,k,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,h,f,void 0,f,void 0,[]))])))},g[9],g[10],g[11],g[12]]}c=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),b("bs_js_primitive").nullable_to_opt(a.isPartiesUser),a.size,b("bs_js_primitive").nullable_to_opt(a.src),b("bs_js_primitive").nullable_to_opt(a.isMultiCompany),[])});function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:b("bs_js_null_undefined").fromOption(a),customBadge:b("bs_js_null_undefined").fromOption(c),isMessengerUser:b("bs_js_null_undefined").fromOption(d),isPartiesUser:b("bs_js_null_undefined").fromOption(e),size:f,src:b("bs_js_null_undefined").fromOption(g),isMultiCompany:b("bs_js_null_undefined").fromOption(h)},i)}d=[a];e=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=e;f.component=g;f.make=h;f.jsComponent=c;f.StraightJSComponent=d}),null);
__d("MercuryThreadTimestampReact.bs",["React","formatDate","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MercuryThreadTimestampReact");function h(a,c,d,e,f){var h=e!==void 0?e:"";return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(a!==void 0){var e=a,f=new Date(e),g=c!==void 0?c:f.toLocaleDateString();f=d!==void 0?d:b("formatDate")(f,"g:ia");return b("React").cloneElement(b("React").createElement("abbr",{className:b("joinClasses")(h,"timestamp"),title:g},f),{"data-utime":e/1e3})}else return b("React").createElement("abbr",void 0)},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.time),b("bs_js_primitive").nullable_to_opt(a.title),b("bs_js_primitive").nullable_to_opt(a.text),a.className,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function a(a,c,d){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(c!==void 0){var d=c-new Date().getTimezoneOffset()*-60;if(d===0)return null;else{d=new Date(Date.now()+d*1e3);var e=d.getHours();e=e<6||e>22;var f=b("joinClasses")("_10rk",a);return b("React").createElement("span",{className:f},b("React").createElement("span",{className:e?"_2f3x":""},"(",b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(d.getTime(),void 0,void 0,void 0,[]))," ",h._("local time"),")"))}}else return null},i[9],i[10],i[11],i[12]]}c=22;d=6;f.component=i;f.nightStartHour=c;f.nightEndHour=d;f.make=a}),null);
__d("MessengerTextWithEntitiesReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEntities.react"),{renderEmoji:b("bs_js_null_undefined").fromOption(a),renderEmoticons:b("bs_js_null_undefined").fromOption(c),text:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MercuryParticipantsImage.react",["MessengerParticipants.bs","React","SplitImage.react","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$2=!0,this.state={participantImages:[]},b}a.prototype.componentDidMount=function(){this.$3(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};a.prototype.componentWillUnmount=function(){this.$2=!1,this.$1&&this.$1.remove()};a.prototype.shouldComponentUpdate=function(a,c){return a.size!==this.props.size||!b("areEqual")(c.participantImages,this.state.participantImages)};a.prototype.$4=function(){var a=this.props.participants;return!a||a.length===0?"":a.join("-")};a.prototype.render=function(){return this.state.participantImages.length>0?b("React").createElement(b("SplitImage.react"),{border:!0,className:this.props.className||"",halfView:this.props.halfView,srcs:this.state.participantImages,size:Number(this.props.size),key:this.$4()}):null};a.prototype.$3=function(a){this.$1&&this.$1.remove(),!a.participants||!a.participants.length?this.setState({participantImages:[]}):this.$1=b("MessengerParticipants.bs").getOrderedBigImageMulti(a.participants,function(b){a.partiesProfileImages&&(b=b.concat(a.partiesProfileImages)),this.$2&&this.setState({participantImages:b})}.bind(this))};e.exports=a}),null);
__d("MercuryThreadImage.react",["cx","ImmutableObject","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessagingThreadType","Pixelz.react","React","areEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a,c){return a.thread.image_src!==this.props.thread.image_src||!b("areEqual")(a.thread.participants,this.props.thread.participants)||a.size!==this.props.size||a.viewer!==this.props.viewer||a.useBackground!==this.props.useBackground};a.prototype.render=function(){__p&&__p();var a=this.props.thread,c=this.props.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,d=a.image_src;if(d)return this.props.useBackground?b("React").createElement("div",{style:{height:c,backgroundImage:"url("+d+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:c}}):b("React").createElement(b("Pixelz.react"),{alt:"",height:c,resizeMode:"cover",src:d,width:c});if(a.thread_type===b("MessagingThreadType").ROOM){d={height:c+"px",width:c+"px"};a.solid_color&&(d.background=a.solid_color);return b("React").createElement("span",{className:"_asv _asw",style:d},a.name[0])}d=b("MercuryIDs").isCanonical(a.thread_id);var e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=[];a.participants&&(a.participants.length===1&&a.participants[0]===e?f=[].concat(a.participants):(f=a.participants.filter(function(a){return a!==e}),d||(f=f.slice(0,3))));return b("React").createElement(b("MercuryParticipantsImage.react"),{className:this.props.className,halfView:this.props.halfView,participants:f,size:c})};function a(){h.apply(this,arguments)}a.propTypes={halfView:c.bool,thread:c.instanceOf(b("ImmutableObject")).isRequired,viewer:c.string.isRequired,size:c.number,useBackground:c.bool,className:c.string};e.exports=a}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_curry","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_js_primitive").valFromOption(a),b("bs_js_primitive").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_js_primitive").valFromOption(a)===b("bs_js_primitive").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","Utils.bs","MercuryIDs","OptionType.bs","ReasonReact.bs","bs_js_primitive","WorkForeignEntityInfo.bs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){__p&&__p();var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null||!(a&&e!==0))return!1;else{a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}}var i=b("ReasonReact.bs").statelessComponentWithRetainedProps("MessengerThreadImageReact");function j(a,c,d,e,f,g,j,k,l){__p&&__p();var m=c!==void 0?c:!1,n=d!==void 0?d:!1,o=e!==void 0?e:!1;return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],function(a){var c=a[1][2];a=a[0][2];if(a[0]!==c[0]||a[3]!==c[3]||!b("OptionType.bs").equalsReference(a[4],c[4])||a[5]!==c[5]||a[6]!==c[6]||a[1]!==c[1]||a[2]!==c[2]||a[7]!==c[7])return!0;else return a[8]!==c[8]},function(){var c=!b("WorkForeignEntityInfo.bs").areAllCoworkers(g),d=c?void 0:n?b("bs_js_primitive").some(b("React").createElement("div",{className:"_466z"})):m?b("bs_js_primitive").some(b("React").createElement("div",{className:"_4670"})):void 0,e={};a!==void 0&&(e.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",e,b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(void 0,d,h(j,g),void 0,b("bs_js_primitive").nullable_to_opt(j.solid_color),b("bs_js_primitive").nullable_to_opt(j.thread_type),void 0,f,c,void 0,o&&b("MercuryIDs").isCanonical(j.thread_id)||c,[b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(f,j,!0,k,[]))])))},i[9],[a,m,n,o,f,h(j,g),!b("WorkForeignEntityInfo.bs").areAllCoworkers(g),j,k],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_js_primitive").nullable_to_opt(a.className),b("Utils.bs").isTruthy(a.isPresenceForWork),b("Utils.bs").isTruthy(a.isDoNotDisturb),b("Utils.bs").isTruthy(a.showBadge),b("bs_js_primitive").nullable_to_opt(a.size),a.participants,a.thread,a.viewer,[])});f.getIsMessengerUser=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("VideoCallWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_ESCALATION_CALL_BUTTON:"acceptEscalationButton",ADD_GROUP_MEMBERS_BUTTON:"addGroupMembersButton",ANSWER_CALL_BUTTON:"answerCallButton",DOMINANT_SPEAKER_SWITCH_BUTTON:"dominantSpeakerSwitchButton",END_CALL_BUTTON:"endCallButton",ESCALATE_CALL_BUTTON:"escalateCallButton",FULL_SCREEN_BUTTON:"fullScreenButton",GRID_SWITCH_BUTTON:"gridSwitchButton",IGNORE_CALL_BUTTON:"ignoreCallButton",INCALL_VIDEO_CONTAINER:"incallVideoContainer",REDIAL_BUTTON:"rediallButton",REJECT_CALL_BUTTON:"rejectCallButton",REMOTE_VIEW_THUMBNAIL:"remoteViewThumbnail",RTC_APP_VIEW_START_CALL_BUTTON:"RTCAppViewStartCallButton",RTC_INCALL_VIDEO:"RTCIncallVideo",RTC_PICKER_DIALOG_CALL_BUTTON:"RTCPickerDialogCallButton",RTC_PICKER_DIALOG_CANCEL_BUTTON:"RTCPickerDialogCancelButton",RTC_PICKER_DIALOG_CONTACT_LIST_ITEM:"RTCPickerDialogContactListItem",RTC_PICKER_DIALOG_RING_BUTTON:"RTCPickerDialogRingButton",RTC_SELF_VIEW:"RTCSelfView",STAR_RATING_VIEW:"starRatingView",STAR_RATING_NOT_NOW_BUTTON:"starRatingNotNowButton",START_VIDEO_CALL:"startVideoCall",START_VOICE_CALL:"startVoiceCall",TOGGLE_AUDIO_BUTTON:"toggleAudioButton",TOGGLE_VIDEO_BUTTON:"toggleVideoButton",TOGGLE_CHAT_BUTTON:"toggleChatButton",CLOSE_CHAT_BUTTON:"closeChatButton",SETTINGS_BUTTON:"settingsButton",SAVE_SETTINGS_BUTTON:"saveSettingsButton",CLOSE_CALL_WINDOW_BUTTON:"closeCallWindowButton",CHAT_TAB_VIDEO_BUTTON:"chatTabVideoButton",CHAT_TAB_VOICE_BUTTON:"chatTabVoiceButton",PROFILE_DROPDOWN_MENU:"profileDropdownMenu",RTC_CALL_ACTION_LINK:"RTCCallActionLink",STAR_RATING_SUBMIT_BUTTON:"submitStarRatingButton",DECLINE_ESCALATION_CALL_BUTTON:"declineEscalationButton",VIDEO_LAYOUT_SWITCH_BUTTON:"videoLayoutSwitchButton"})}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","Image.bs","React","Utils.bs","BadgeReact.bs","Link.react","MercuryIDs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","PresenceStatus","ImageBlockReact.bs","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MessengerTextWithEntitiesReact.bs","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).contains(c);else return!1}function k(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD||d.type===b("MercuryParticipantTypes").MESSAGE,h=d.photo,i,j,k;c!==void 0?f==null||!g?i=1:(j=b("bs_js_primitive").valFromOption(c),k=f,i=2):e==null||f==null||!g?i=1:(j=e,k=f,i=2);switch(i){case 1:if(h==null)return b("React").createElement("div",{className:"_5l39"});else{c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactImageReact.bs").make("_5l39 _5rmm",void 0,b("bs_js_primitive").nullable_to_opt(d.isMessengerUser),void 0,32,h,c,[]))}case 2:return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make("_5l39",void 0,void 0,void 0,32,k,j,a,[]))}}function l(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","bot",[]));else return null}function m(a){a=a.isVerified;a=a==null?!1:a;if(a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[]));else return null}function n(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",void 0,b("React").createElement("div",{className:"_3q34"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title,[])),l(a),m(a)),b("React").createElement("div",{className:"_3q35"},c));if(d===1)return b("React").createElement("div",{className:"_364g"},a.title,b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])),l(a),m(a))}function o(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",{className:"_364g"},c,b("React").createElement("span",{className:"_7l-p"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title.substring(c.length+3|0,a.title.length),[]))));if(d===1)return b("React").createElement("div",{className:"_364g _7l-p"},a.title.substring(3,a.title.length),b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])))}function p(a,c){var d=c.type;if(a!==void 0&&a&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var q=b("React").createElement("span",{className:"_5rh4"},i._("Added")),r=b("React").createElement("span",{className:"_5rh4"},i._("Invited")),s=b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_1kqm",void 0,void 0,void 0,h("86852"),void 0,void 0,void 0,void 0,[]));function t(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function u(a){__p&&__p();a=a[1];var c=a[4],d=a[5],e=a[2][0];if(c!==void 0&&c&&d!==void 0&&e!==void 0){c=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(d,c);e=a[6];if(e!==void 0)return b("bs_curry")._1(e,c);else return 0}else return 0}function v(a){__p&&__p();var c=a[1],d=c[1][4];a=a[0][1][5];var e=c[1][2][0];if(d!==void 0&&d&&a!==void 0&&e!==void 0){d=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(a,d);e=c[1][6];if(e!==void 0)return b("bs_curry")._1(e,d);else return 0}else return 0}function a(){__p&&__p();var a=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),c=function(c,d,e,f,g,h,l,m,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K){__p&&__p();var L=D!==void 0?D:"",M=function(a){if(h!==void 0)return 0;else{a.stopPropagation();a.preventDefault();return 0}},N=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return b("bs_js_primitive").valFromOption(f)(d,c);else return 0;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return 0},O=function(){var a=b("Utils.bs").isSomeTrue(x);if(a&&e!==void 0)return b("bs_curry")._1(e,d);else return 0},P=function(a){a.stopPropagation();return N(b("MessengerContactActions.bs").actions.SELECT,a)},Q=function(a){__p&&__p();var c=a[3];a=a[1];if(E!==void 0){var d=b("bs_js_primitive").valFromOption(E).get(a[0].uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(j(C,a[0].uid))return q;else if(j(y,a[0].uid))return r;else if(j(F,a[0].uid))return s;else if(d[1])return d[0];else if(p(G,a[0]))return b("React").createElement("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(l);var e=a[0].thread;e=H!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_js_primitive").valFromOption(H)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a[0].thread,g,k=0,m;H!==void 0?(m=b("bs_js_primitive").valFromOption(H),k=1):f==null?g=!1:(m=f,k=1);if(k===1){f=b("MercuryIDs").isValid(a[0].uid);k=f?b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[0].uid)):b("FBID.bs").ofString(a[0].uid);f=k!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_js_primitive").valFromOption(k)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,m)}k=g?b("React").createElement("span",{className:"_5qsj"},i._("Admin")):null;if(h!==void 0)return b("React").createElement("div",void 0,k,b("React").createElement(b("bs_js_primitive").valFromOption(h),{className:"_rwo",admins:d,contact:a[0],extrasEnabled:w,isAdminRequired:e,isOpen:a[1],onAction:N,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:J}));else return k}};return[a[0],a[1],a[2],function(a){var e=d===a[3];if(e)return a;else return[b("bs_curry")._1(c,d),a[1],a[2],d,a[4],a[5],a[6]]},u,v,a[6],a[7],function(a){__p&&__p();var c=a[1],d=b("joinClasses")(L,"_5l37"+(b("Utils.bs").optionBoolToBool(z)?" _1k1p":"")+(c[1]?" _rwn":"")),e=h!==void 0?-1:0,f=I!==void 0?b("TooltipData").propsFor(I,"left"):{},g=z!==void 0?!z:void 0,i=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM,j=c[0].type===b("MercuryParticipantTypes").ASSISTANT_TYPEAHEAD;j=j?o(c[0]):n(c[0]);e={className:"_5f0v",onClick:P,onMouseDown:M,onMouseEnter:O,tabIndex:e,children:b("ReasonReact.bs").element(void 0,void 0,b("ImageBlockReact.bs").make(void 0,"_5l38",void 0,"medium",[k(J,H,c[0]),j,Q(a)]))};g!==void 0&&(e["aria-hidden"]=b("bs_js_primitive").valFromOption(g));j=b("React").createElement(b("Link.react"),e);g=b("React").cloneElement(j,{"data-testid":i+c[0].uid});e=b("Utils.bs").isSomeTrue(m);if(e)return b("React").createElement("li",{ref:b("bs_curry")._1(a[0],t),className:d},g);else return b("React").cloneElement(b("React").createElement("li",{ref:b("bs_curry")._1(a[0],t),className:d,role:"option"}),f,g)},function(){return[b("bs_curry")._1(c,d),!1,[void 0],d,z,B,A]},a[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2],c[3],c[4],c[5],c[6]]])},a[12]]},d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){return c(a.contactAdapter,a.rawContact,b("bs_js_primitive").nullable_to_opt(a.onHighlight),b("bs_js_primitive").nullable_to_opt(a.onSelect),b("bs_js_primitive").nullable_to_opt(a.onAction),b("bs_js_primitive").nullable_to_opt(a.actionsClass),b("bs_js_primitive").nullable_to_opt(a.admins),b("bs_js_primitive").nullable_to_opt(a.disableRole),a.extraActionsEnabled,b("bs_js_primitive").nullable_to_opt(a.hasHoverState),b("bs_js_primitive").nullable_to_opt(a.invitedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.isHighlighted),b("bs_js_primitive").nullable_to_opt(a.onRenderHighlight),b("bs_js_primitive").nullable_to_opt(a.onScrollIntoView),b("bs_js_primitive").nullable_to_opt(a.originalEntryIDs),b("bs_js_primitive").nullable_to_opt(a.rowClassName),b("bs_js_primitive").nullable_to_opt(a.rowElements),b("bs_js_primitive").nullable_to_opt(a.selectedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.showPresence),b("bs_js_primitive").nullable_to_opt(a.thread),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),a.viewer,[])});return[d,c]}c=32;d=3;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.assistantTypeaheadPrefixLength=d;f.idsContain=j;f.renderContactImage=k;f.renderBotBadge=l;f.renderVerifiedBadge=m;f.renderContactText=n;f.renderAssistantTypeaheadText=o;f.getPresenceStatus=p;f.isOriginal=q;f.isInvited=r;f.isSelected=s;f.setThisRef=t;f.didMount=u;f.didUpdate=v;f.createMake=a}),null);
__d("MessengerDotComAndInboxM4Check.bs",["gkx","CurrentUser","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("686397")&&!b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;f.yes=a}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","MessengerDotComAndInboxM4Check.bs","MessengerSpinner.react","MessengerTypeaheadUtils","React","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("MessengerContactListRowReact.bs").createMake();var j=c[0];c[1];d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){return b("React").createElement("div",{key:c,className:"_29hk"},this.$4(c),b("React").createElement("ul",{id:this.props.controlleeID,role:this.props.disableRole?void 0:"listbox",className:"_29hl"},a.map(function(a,c){c=c===0?b("joinClasses")(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return b("React").createElement(j,{actionsClass:this.props.actionsClass,admins:this.props.admins,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===a.getUniqueID(),key:a.id||a.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:this.props.rowElements,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,viewer:this.props.viewer})}.bind(this))))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$1).toArray(),this.$2(),this.$3())};a.prototype.$4=function(a){if(!a)return null;var c=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl":"_225b";return b("React").createElement("div",{className:c},a)};a.prototype.$2=function(){return!this.props.isLoading?null:b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$3=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)return b("React").createElement("div",{className:"_3xcx"},h._("No results found"))}return null};a.propTypes={actionsClass:d.func,admins:d.object,controlleeID:d.string,contactAdapter:d.func.isRequired,disableRole:d.bool,extraActionsEnabled:d.bool,hasHoverState:d.bool,highlightedEntry:d.object,invitedEntryIDs:d.instanceOf(b("immutable").Set),isLoading:d.bool,listSections:d.instanceOf(b("immutable").OrderedMap).isRequired,onAction:d.func,onHighlight:d.func,onRenderHighlight:d.func,onScrollIntoView:d.func,onSelect:d.func,originalEntryIDs:d.instanceOf(b("immutable").Set),queryString:d.string,rowClassName:d.string,rowElements:d.instanceOf(b("immutable").Map),selectedEntryIDs:d.instanceOf(b("immutable").Set),showPresence:d.bool,thread:d.instanceOf(b("ImmutableObject")),viewer:d.string.isRequired};e.exports=a}),null);
__d("LoadOnRender.react",["React","createCancelableFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this,a),this.$1=function(a){this.setState({Component:a})}.bind(this),this.state={Component:null,cancelableOnComponentLoad:b("createCancelableFunction")(this.$1)}}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.props.loader(this.state.cancelableOnComponentLoad)};a.prototype.componentWillUnmount=function(){"use strict";this.state.cancelableOnComponentLoad.cancel()};a.prototype.render=function(){"use strict";var a=this.state.Component;return!a||this.props.forcePlaceholder?this.props.placeholder:b("React").cloneElement(this.props.component,{LazyLoadedComponent:a})};a.defaultProps={forcePlaceholder:!1};e.exports=a}),null);
__d("BootloadOnRender.react",["JSResource","LoadOnRender.react","React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){b("JSResource").loadAll([this.props.loader],a)}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement(b("LoadOnRender.react"),{placeholder:this.props.placeholder,loader:this.$1,component:this.props.component})};e.exports=a}),null);
__d("InstantGameContextType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({THREAD:"THREAD",GROUP:"GROUP",STORY:"STORY",SOLO:"SOLO",LINK:"LINK",MATCH:"MATCH"})}),null);
__d("isReactClassComponent",[],(function(a,b,c,d,e,f){function a(a){return Boolean(typeof a==="function"&&a.prototype&&a.prototype.isReactComponent)}e.exports=a}),null);
__d("LazyComponent.react",["React","isReactClassComponent"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.getComponent=function(){"use strict";return this.$1};a.prototype.render=function(){"use strict";var a=this.props,c=a.LazyLoadedComponent;a=babelHelpers.objectWithoutPropertiesLoose(a,["LazyLoadedComponent"]);var d=b("isReactClassComponent")(c)?function(a){return this.$1=a}.bind(this):null;return b("React").createElement(c,babelHelpers["extends"]({ref:d},a))};function a(){"use strict";g.apply(this,arguments)}a.defaultProps={LazyLoadedComponent:function(){return null}};e.exports=a}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){e.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGERDOTCOM:"messengerdotcom",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("MessengerStore"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null}}a.prototype.getState=function(){"use strict";return this.$MessengerAttributionTagsStore1};a.prototype.__onDispatch=function(a){"use strict";__p&&__p();switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};e.exports=new a()}),null);
__d("MessengerDiscoveryEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BROWSER_PROFILE_ICON:"browser_profile_icon",MESSENGER_SEARCH_M4:"messenger_search_m4",MESSENGER_SEARCH_M4_HOME:"messenger_search_m4:home",MESSENGER_SEARCH_M4_PEOPLE:"messenger_search_m4:people",MESSENGER_SEARCH_M4_GAMES:"messenger_search_m4:games",MESSENGER_SEARCH_M4_DISCOVER:"messenger_search_m4:discover",MESSENGER_SEARCH_M4_NULL_STATE:"messenger_search_m4:null_state",FB_STORY:"fb_story",FB_STORY_VIEWER_SHEET_ROW:"fb_story:viewer_sheet_row",FB_STORY_VIEWER_SHEET_MENU:"fb_story:viewer_sheet_menu",FB_STORY_THREAD_VIEW_HEADER:"fb_story:thread_view_header",FB_STORY_THREAD_VIEW_FOOTER:"fb_story:thread_view_footer",ANONYMOUS_MESSAGING:"anonymous_messaging",FIRST_PARTY_BOT:"first_party_bot",FIRST_PARTY_BOT_RECRUITING_BOT:"first_party_bot:recruiting_bot",FIRST_PARTY_BOT_MESSENGER_BOT:"first_party_bot:messenger_bot",FIRST_PARTY_BOT_WORKPLACE_APP:"first_party_bot:workplace_app",FIRST_PARTY_BOT_REPORT_SPAM:"first_party_bot:report_spam",FIRST_PARTY_BOT_MOBILE_BUILDS_BOT:"first_party_bot:mobile_builds_bot",FIRST_PARTY_BOT_FB_TEST_PAGE:"first_party_bot:fb_test_page",FIRST_PARTY_BOT_CALENDAR_BOT:"first_party_bot:calendar_bot",FIRST_PARTY_BOT_ORDER_FOOD:"first_party_bot:order_food",FIRST_PARTY_BOT_BUSINESS_ASSISTANT:"first_party_bot:business_assistant",FIRST_PARTY_BOT_MOBILE_FINANCIAL_SERVICE:"first_party_bot:mobile_financial_service",FIRST_PARTY_BOT_FACEBOOK_BUSINESS:"first_party_bot:facebook_business",FIRST_PARTY_BOT_LEAD_GEN:"first_party_bot:lead_gen",FIRST_PARTY_BOT_MARKETPLACE:"first_party_bot:marketplace",FIRST_PARTY_BOT_INSTANT_EXPERIENCES:"first_party_bot:instant_experiences",FIRST_PARTY_BOT_PRODUCT_SUPPORT_TOOL:"first_party_bot:product_support_tool",FIRST_PARTY_BOT_CTA_ADS:"first_party_bot:cta_ads",FIRST_PARTY_BOT_FB_LOGIN_ALERTS:"first_party_bot:fb_login_alerts",FIRST_PARTY_BOT_M:"first_party_bot:m",FIRST_PARTY_BOT_TOGETHER:"first_party_bot:together",MESSENGER_SEARCH:"messenger_search",MESSENGER_SEARCH_HOME:"messenger_search:home",MESSENGER_SEARCH_PEOPLE:"messenger_search:people",MESSENGER_SEARCH_GAMES:"messenger_search:games",MESSENGER_SEARCH_DISCOVER:"messenger_search:discover",MESSENGER_SEARCH_NULL_STATE:"messenger_search:null_state",MESSENGER_SEARCH_M3:"messenger_search:m3",FB_NOTIFICATIONS:"fb_notifications",BEGIN_SHARE_FLOW:"begin_share_flow",APP_INSIGHTS:"app_insights",BRANDED_CAMERA:"branded_camera",SAMPLE_BOTS:"sample_bots",PAGES_COMMS_AUTOMATED_RESPONSES:"pages_comms_automated_responses",PAGES_COMMS_AUTOMATED_RESPONSES_PREVIEW:"pages_comms_automated_responses:preview",PAGES_COMMS_AUTOMATED_RESPONSES_RECOMMENDATIONS:"pages_comms_automated_responses:recommendations",PAGES_COMMS_AUTOMATED_RESPONSES_JOB_APPLICATION:"pages_comms_automated_responses:job_application",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_LOCATION:"pages_comms_automated_responses:smart_reply_location",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_CONTACT:"pages_comms_automated_responses:smart_reply_contact",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_HOURS:"pages_comms_automated_responses:smart_reply_hours",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_POSITIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_positive_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_SMART_REPLY_NEGATIVE_FEEDBACK:"pages_comms_automated_responses:smart_reply_negative_feedback",PAGES_COMMS_AUTOMATED_RESPONSES_INSTANT_REPLIES:"pages_comms_automated_responses:instant_replies",PAGES_COMMS_AUTOMATED_RESPONSES_AWAY_MESSAGE:"pages_comms_automated_responses:away_message",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_REMINDER:"pages_comms_automated_responses:appointment_reminder",PAGES_COMMS_AUTOMATED_RESPONSES_APPOINTMENT_FOLLOWUP:"pages_comms_automated_responses:appointment_followup",CUSTOMER_MATCHING:"customer_matching",CUSTOMER_MATCHING_PHONE_NUMBER:"customer_matching:phone_number",VERTICAL_SERVICES:"vertical_services",VERTICAL_SERVICES_GET_QUOTE:"vertical_services:get_quote",MESSENGERDOTCOM:"messengerdotcom",MESSENGERDOTCOM_WEB_SEARCH:"messengerdotcom:web_search",MESSENGERDOTCOM_PAGES_PLUGIN:"messengerdotcom:pages_plugin",MESSENGER_INBOX:"messenger_inbox",MESSENGER_INBOX_THREAD_LIST:"messenger_inbox:thread_list",MESSENGER_INBOX_IN_THREAD:"messenger_inbox:in_thread",MESSENGER_INBOX_NESTED_FOLDER:"messenger_inbox:nested_folder",DISCOVER_TAB:"discover_tab",BYMM_NULL_STATE:"bymm_null_state",FUNDRAISER_SUPPORT:"fundraiser_support",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_PROACTIVE:"fundraiser_support:proactive",FUNDRAISER_SUPPORT_CHECKLIST:"fundraiser_support:checklist",FB_SEARCH:"fb_search",FB_SEARCH_CHAT_SIDEBAR_TYPEAHEAD:"fb_search:chat_sidebar_typeahead",FB_SEARCH_SEARCH_ENTITY_CARD:"fb_search:search_entity_card",FB_SEARCH_HIGH_CONFIDENCE_CARD:"fb_search:high_confidence_card",SPONSORED_MESSAGES_ADS:"sponsored_messages_ads",INSTANT_ARTICLE:"instant_article",INSTANT_ARTICLE_CTA:"instant_article:cta",INSTANT_ARTICLE_OVERFLOW_MENU:"instant_article:overflow_menu",INSTANT_ARTICLE_TOOLKIT_DISCUSS:"instant_article:toolkit_discuss",FB_FEED:"fb_feed",FB_FEED_PYMM_RHC:"fb_feed:pymm_rhc",FB_FEED_PAGE_HOVER_CARD:"fb_feed:page_hover_card",FB_FEED_ADMIN:"fb_feed:admin",FB_FEED_ORGANIC_POST:"fb_feed:organic_post",PAGES_MANAGER_APP:"pages_manager_app",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_TEXT:"pages_manager_app:notification_direct_reply_text",PAGES_MANAGER_APP_NOTIFICATION_DIRECT_REPLY_LIKE:"pages_manager_app:notification_direct_reply_like",PAGES_MANAGER_APP_CRM_SCHEDULED_MESSAGES:"pages_manager_app:crm_scheduled_messages",BUSINESS_ON_MESSENGER:"business_on_messenger",CLICK_TO_MESSENGER_AD:"click_to_messenger_ad",CLICK_TO_MESSENGER_AD_MESSENGER_DEEPLINK_ADS:"click_to_messenger_ad:messenger_deeplink_ads",CLICK_TO_MESSENGER_AD_ADS_WELCOME_ADMIN:"click_to_messenger_ad:ads_welcome_admin",CLICK_TO_MESSENGER_AD_USER_SENT:"click_to_messenger_ad:user_sent",CLICK_TO_MESSENGER_AD_PARTIAL_AUTOMATED:"click_to_messenger_ad:partial_automated",MDOTME:"mdotme",FB_OFFER:"fb_offer",FB_OFFER_OFFER_DETAILS_VIEW:"fb_offer:offer_details_view",ADMIN_MESSAGES:"admin_messages",BUSINESS_TAB_M4:"business_tab_m4",BUSINESS_TAB_M4_BUSINESS_INBOX:"business_tab_m4:business_inbox",BUSINESS_TAB_M4_RECOMMENDATION_CARD:"business_tab_m4:recommendation_card",BUSINESS_TAB_M4_RECOMMENDATION_DETAILS:"business_tab_m4:recommendation_details",DISCOVER_TAB_M3:"discover_tab_m3",DISCOVER_TAB_M4:"discover_tab_m4",DISCOVER_TAB_M4_BUSINESSES:"discover_tab_m4:businesses",DISCOVER_TAB_M4_GAMES:"discover_tab_m4:games",DISCOVER_TAB_M4_FOR_YOU:"discover_tab_m4:for_you",FB_PAGE:"fb_page",FB_PAGE_ICEBREAKER_RHC:"fb_page:icebreaker_rhc",FB_PAGE_SEND_AND_POST_FROM_COMPOSER:"fb_page:send_and_post_from_composer",FB_PAGE_ADMIN_TEST_LINK:"fb_page:admin_test_link",FB_PAGE_SHOP_PDP:"fb_page:shop_pdp",FB_PAGE_FREQUENTLY_ASKED_QUESTION_CARD:"fb_page:frequently_asked_question_card",FB_PAGE_ABOUT_CARD_DETAIL_VIEW:"fb_page:about_card_detail_view",FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:"fb_page:responsiveness_context_card",FB_PAGE_ABOUT_CARD:"fb_page:about_card",FB_PAGE_ABOUT_CARD_PQI_MESSAGE_UPSELL:"fb_page:about_card_pqi_message_upsell",FB_PAGE_PAGE_HEADER:"fb_page:page_header",FB_PAGE_PRIMARY_MESSAGE_BUTTON:"fb_page:primary_message_button",FB_PAGE_SECONDARY_MESSAGE_BUTTON:"fb_page:secondary_message_button",FB_PAGE_FB_PAGE_CTA_PAGES_ACTIONS_UNIT:"fb_page:fb_page_cta_pages_actions_unit",FB_PAGE_JEWEL_THREAD:"fb_page:jewel_thread",FB_PAGE_USER_MESSAGE_PROMPT:"fb_page:user_message_prompt",FB_PAGE_PAGES_INFO:"fb_page:pages_info",FB_PAGE_LOADED_FROM_DATA:"fb_page:loaded_from_data",FB_PAGE_CHAT_SIDEBAR_TYPEAHEAD:"fb_page:chat_sidebar_typeahead",FB_PAGE_DYNAMICHOVERCARD:"fb_page:dynamicHoverCard",FB_PAGE_ABOUT_ROW:"fb_page:about_row",FB_PAGE_PYMM_RHC:"fb_page:pymm_rhc",FB_PAGE_GROUPS_RHC:"fb_page:groups_rhc",FB_PAGE_CONTEXT_CARD:"fb_page:context_card",FB_PAGE_CONTEXTUAL_RECOMMENDATIONS:"fb_page:contextual_recommendations",FB_PAGE_SEARCHENTITYCARD:"fb_page:searchEntityCard",FB_PAGE_MESSAGE_RECEIVED:"fb_page:message_received",FB_PAGE_PAGE_HOVERCARD:"fb_page:page_hovercard",FB_PAGE_QUESTION_TRIGGERED_CONVO:"fb_page:question_triggered_convo",FB_PAGE_DEFAULT_NATIVE_TEMPLATES_CTA:"fb_page:default_native_templates_cta",FB_PAGE_LAUNCHPAD_MORE_DRAWER:"fb_page:launchpad_more_drawer",FB_PAGE_LAUNCHPAD_HEADER:"fb_page:launchpad_header",FB_PAGE_LAUNCHPAD_FOOTER:"fb_page:launchpad_footer",FB_PAGE_REPLY_TRIGGERED_CONVO:"fb_page:reply_triggered_convo",BROADCAST:"broadcast",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",NULL_STATE_CTA:"null_state_cta",INSTANT_GAMES:"instant_games",INSTANT_GAMES_ADMIN_INTRO:"instant_games:admin_intro",PRIVATE_REPLY:"private_reply",PRIVATE_REPLY_ADMIN:"private_reply:admin",SEND_TO_MESSENGER_PLUGIN:"send_to_messenger_plugin",FB_HEADER_DOCK:"fb_header_dock",FB_HEADER_DOCK_LOADED_FROM_BROWSER_COOKIE:"fb_header_dock:loaded_from_browser_cookie",FB_HEADER_DOCK_JEWEL_THREAD:"fb_header_dock:jewel_thread",FB_HEADER_DOCK_JEWEL_SEE_ALL_MESSAGES:"fb_header_dock:jewel_see_all_messages",PAGES_PLUGIN:"pages_plugin",PAGES_PLUGIN_MESSAGE_TAB:"pages_plugin:message_tab",FB_LOGIN_ALERTS:"fb_login_alerts",WORK_CHAT:"work_chat",WORK_CHAT_WORK_IDS:"work_chat:work_ids",WORK_CHAT_EMAIL:"work_chat:email",CHECKBOX_PLUGIN:"checkbox_plugin",DEPRECATED:"deprecated",DEPRECATED_BUSINESS_ON_MESSENGER:"deprecated:business_on_messenger",DEPRECATED_ADMIN_MESSAGES:"deprecated:admin_messages",DEPRECATED_PIXEL_EVENT:"deprecated:pixel_event",DEPRECATED_NULL_STATE_CTA:"deprecated:null_state_cta",DEPRECATED_SUBSCRIPTIONS:"deprecated:subscriptions",FB_JOB:"fb_job",FB_JOB_JOB_APPLICATION:"fb_job:job_application",M:"m",FB_EVENT:"fb_event",FB_EVENT_MESSAGE_HOST:"fb_event:message_host",UNKNOWN:"unknown",UNKNOWN_BNP_PSID:"unknown:bnp_psid",UNKNOWN_ORGANIC_POST:"unknown:organic_post",NEARBY_FRIENDS:"nearby_friends",NEARBY_FRIENDS_DASH_LIST:"nearby_friends:dash_list",NEARBY_FRIENDS_DASH_MAP:"nearby_friends:dash_map",NEARBY_FRIENDS_WAVE_INT:"nearby_friends:wave_int",NEARBY_FRIENDS_FEED:"nearby_friends:feed",IG_FEED:"ig_feed",IG_FEED_ORGANIC_POST:"ig_feed:organic_post",DYNAMIC_LOCAL_ADS:"dynamic_local_ads"})}),null);
__d("MessengerDiscoveryLoggingEnums",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRYPOINT_PREFIX:"entrypoint:"})}),null);
__d("MessengerDiscoveryEntryPointsLoggingHelper",["MessengerDiscoveryEntryPoint","MessengerDiscoveryLoggingEnums"],(function(a,b,c,d,e,f){"use strict";a={getEntryPointsLoggingTagStr:function(a){if(a.length==0||Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(a[0])==-1)throw new Error("Please use enums in MessengerDiscoveryEntryPoints class");return b("MessengerDiscoveryLoggingEnums").ENTRYPOINT_PREFIX+a.join(":")}};e.exports=a}),null);
__d("MNPlatformTagsDataManager",["MessagingSourceEnum","MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPoint","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={getTags:function(a){__p&&__p();a===void 0&&(a=null);var c=null,d=null;switch(a){case b("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK:c=b("MNPlatformAttributionTags").M_DOT_ME;break;case b("MessagingSourceEnum").MESSENGER_WEB:c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case b("MessagingSourceEnum").MESSENGER_WEB_SEARCH:c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").MESSENGERDOTCOM_WEB_SEARCH]);break;case b("MessagingSourceEnum").CUSTOMER_CHAT_PLUGIN:c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case b("MessagingSourceEnum").PAGE_PLUGIN_MESSAGE:c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").MESSENGERDOTCOM_PAGES_PLUGIN]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a},updateThreadTabAfterSelectThread:function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)},hasThreadTags:function(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)},getThreadTags:function(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1959479940789272"};c.getQueryID=function(){"use strict";return"2171073576453933"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null;a=null;var j={onEntriesLoaded:function(c){__p&&__p();if(i){c(i);return}if(!h){var d=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(c){var d=c.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(d);i=d;a=c.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){c(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerRoomPrivacyMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WHITELISTED_MODE:0,PUBLIC_MODE:1})}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2050376881736435"};c.getQueryID=function(){"use strict";return"556146568217921"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerMessageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2338687199499279"};c.getQueryID=function(){"use strict";return"375682236586308"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1845120475519439"};c.getQueryID=function(){"use strict";return"2072470239447453"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2158861907541225"};c.getQueryID=function(){"use strict";return"1392868714183895"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2387849594621061"};c.getQueryID=function(){"use strict";return"1614226555345720"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerMessageSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={formSearchRequests:function(a,c,d){__p&&__p();var e={profiles:[],pages:[],rooms:[],messages:[]};a.forEach(function(a){__p&&__p();switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs}));break;case"messages":e.messages.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.messageLimit,exclude_ids:[]}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e}};e.exports=a}),null);
__d("PromiseUtil",["Promise","nullthrows","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g={allSettled:function(a){var c=b("Promise").all(a);return b("Promise").all(a.map(function(a){return b("Promise").resolve(a).then(void 0,function(a){return void 0})})).then(function(){return c})},allSettledInSeries:function(a){var c=[];return a.reduce(function(a,b){return a.then(b).then(function(){return void 0},function(a){c.push(a);return void 0})},b("Promise").resolve()).then(function(){if(c.length)throw c[0]})},exponentialBackoff:function(a,b,c){b===void 0&&(b=Math.sqrt(2));c===void 0&&(c=1);var d=c;c=function(){var a=d;d*=b;return a};return g.rateLimit(a,c)},forEach:function(a,c){return a.then(function(a){return b("Promise").resolve(c(a)).then(function(){return a})})},forEachError:function(a,c){return a.then(void 0,function(a){return b("Promise").resolve(c(a)).then(function(){throw a})})},iterateUntil:function(a,c){var d=function d(e){return c(e)?b("Promise").resolve(e):b("Promise").resolve(a(e)).then(d)};return d},pollUntilImpl:function(a,c){var d,e=new(b("Promise"))(function(b,e){var f=function(){try{var c=a();c&&b(c.value)}catch(a){e(a)}};d=setInterval(f,1e3*c)});return e["finally"](function(){return clearInterval(b("nullthrows")(d))})},pollUntil:function(a,b){b===void 0&&(b=1);return g.pollUntilImpl(function(){var b=a();return b?{value:b}:void 0},b)},rateLimit:function(a,b){__p&&__p();var c=[],d=void 0,e=0;return function(){var f=b();for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];c=i;d||(d=g.wait(e+f-Date.now()/1e3).then(function(){e=Date.now()/1e3;d=void 0;return a.apply(void 0,c)}));return d}},rateLimitWithLastResult:function(a,c){var d=!1,e=void 0;return function(){d||(b("promiseDone")(g.wait(c()),function(){return d=!1}),e=a.apply(void 0,arguments),d=!0);return e}},repeatUntil:function(a,c){var d=function d(){return b("Promise").resolve(a()).then(function(a){return c(a)?b("Promise").resolve(a):d()})};return d},repeatWhileErrorUntil:function(a,c,d){var e=function e(){return b("Promise").resolve(a()).then(function(a){c(a);return b("Promise").resolve(a)},function(a){return d(a)?e():b("Promise").reject(a)})};return e},series:function(a,c){c=c;return a.reduce(function(a,b){return a.then(b)},b("Promise").resolve(c))},wait:function(a){return 0<a?new(b("Promise"))(function(b,c){return setTimeout(b,1e3*a)}):b("Promise").resolve()},waitAtMost:function(a,b){return g.waitOrElse(a,b,function(){throw new Error("Promise timed out")})},waitOrElse:function(a,c,d){var e=!1;return b("Promise").race([a.then(function(a){e=!0;return a},function(a){e=!0;throw a}),g.wait(c).then(function(){return e?void 0:d()})])}};e.exports=g}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","Bootloader","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerGraphQLTypeaheadAdapter","MessengerPagesSearchSettings","MessengerSearchWebGraphQLFetcherUtils","PromiseUtil","QE2Logger","WebGraphQL","compactArray","qex"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,h=3,i="messenger_business_search_qe";function a(a){"use strict";this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$1=0,this.$2=0,this.$4=0,this.$5=a}a.prototype.fetchEntries=function(a,c,d,e,f){"use strict";__p&&__p();c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var g=c.pages,h=c.profiles,i=c.rooms,j=c.messages;if(g.length>0){this.$6("pages",a);this.$2=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(g))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return this.$7(b,a,e)}.bind(this),function(b){return this.$8(b,a,f)}.bind(this))()}if(h.length>0){this.$6("users_groups",a);this.$1=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){this.$9(b,a,e)}.bind(this),function(b){return this.$10(b,a,f)}.bind(this))()}if(i.length>0){this.$6("rooms",a);this.$4=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){this.$11(b,a,e)}.bind(this),function(b){return this.$12(b,a,f)}.bind(this))()}c=b("qex")._("838299");if(j.length>0&&c===!0){this.$6("messages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){this.$13(b,a,e)}.bind(this),function(b){return this.$14(b,a,f)}.bind(this))()}};a.prototype.$13=function(a,c,d){"use strict";__p&&__p();a=a[0];if(this.$5()!==c||a==null||a.entities_named==null||a.entities_named.search_results==null||a.entities_named.search_results.edges==null)return;var e=[];a=a.entities_named.search_results.edges;a.forEach(function(a){a=b("MessengerGraphQLTypeaheadAdapter").convertMessageToEntry(a.node);a&&e.push(a)});d(e,"messages");this.$15("messages",c,e)};a.prototype.$11=function(a,c,d){if(this.$5()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$15("rooms",c,a)}};a.prototype.$9=function(a,c,d){"use strict";__p&&__p();if(this.$5()!==c)return;var e=[],f=[],g=b("qex")._("824278");for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;j=(j=j)!=null?(j=j.entities_named)!=null?(j=j.search_results)!=null?j.edges:j:j:j;j&&j.length>0&&j[0].node&&(j[0].node.is_group_thread!=null?e=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):j[0].node.is_messenger_user!=null&&(f=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g===!0?a.subtext:null)}),f=this.$16(b("compactArray")(f))))}j=b("compactArray")(f.concat(e));d(j,"usersGroups");this.$15("users_groups",c,j)};a.prototype.$16=function(a){__p&&__p();var c,d=[],e=[];c=(c=b("qex")._("839675"))!=null?c:b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX;for(var a=a,f=Array.isArray(a),h=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=a.length)break;i=a[h++]}else{h=a.next();if(h.done)break;i=h.value}i=i;if(!i)continue;i.getType()===b("MercuryParticipantTypes").FRIEND&&d.length<c?d.push(i):i.getType()===b("MercuryParticipantTypes").NON_FRIEND&&e.length<g&&e.push(i)}return d.concat(e)};a.prototype.$7=function(a,c,d){if(this.$5()!==c)return;a=(a=a[0])!=null?(a=a.entities_named)!=null?(a=a.search_results)!=null?a.edges:a:a:a;a=a?a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").PAGE_TYPE)}):[];a=b("compactArray")(b("MessengerPagesSearchSettings").separate_game_count?a:a.slice(0,b("MessengerPagesSearchSettings").page_number));b("MessengerPagesSearchSettings").should_log_exposure&&b("QE2Logger").logExposureForUser(i);d(a,"pages");this.$15("pages",c,a)};a.prototype.$10=function(a,b,c){"use strict";if(b===this.$5()){if(this.$1<h){this.$1+=1;return!0}c(a,"usersGroups")}return!1};a.prototype.$8=function(a,b,c){"use strict";if(b===this.$5()){if(this.$2<h){this.$2+=1;return!0}c(a,"pages")}return!1};a.prototype.$14=function(a,b,c){"use strict";if(b===this.$5()){if(this.$3<h){this.$3+=1;return!0}c(a,"messages")}return!1};a.prototype.$12=function(a,b,c){"use strict";if(b===this.$5()){if(this.$4<h){this.$4+=1;return!0}c(a,"rooms")}return!1};a.prototype.$17=function(a){"use strict";__p&&__p();var c="";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLoggerConstants"],function(b){switch(a){case"users_groups":c=b.SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b.SOURCES.SERVER_PAGES;break;case"rooms":c=b.SOURCES.SERVER_ROOMS;break;default:c=""}},"MessengerSearchWebGraphQLFetcher");return c};a.prototype.$6=function(a,c){"use strict";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b,d){d=this.$17(a);b.logSourceStarted(c,d)}.bind(this),"MessengerSearchWebGraphQLFetcher")};a.prototype.$15=function(a,c,d){"use strict";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,e){var f=this.$17(a);b.logSourceEnded(c,f,d.length,e.QUERY_PROGRESS.FINISHED,this.$5()===c)}.bind(this),"MessengerSearchWebGraphQLFetcher")};e.exports=a}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1720594534660350"};c.getQueryID=function(){"use strict";return"1852062858177546"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1978892428852690"};c.getQueryID=function(){"use strict";return"127838424757019"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){__p&&__p();var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("react-relay-deprecated/classic/query/stableStringify",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function h(a){__p&&__p();var b=Array.isArray(a),c=g(a);if(b||c){c=Object.keys(a);if(c.length){var d=[];c.sort();for(var e=0;e<c.length;e++){var f=c[e],i=a[f];g(i)||Array.isArray(i)?i=h(i):i=JSON.stringify(i);d.push(f+":"+i)}if(b)return"["+d.join(",")+"]";else return"{"+d.join(",")+"}"}}return JSON.stringify(a)}e.exports=h}),null);
__d("react-relay-deprecated/classic/query/forEachRootCallArg",["invariant","react-relay-deprecated/classic/query/stableStringify"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a,c){a.getBatchCall()&&g(0,1127);function d(a,c){Array.isArray(a)?a.forEach(function(a){return d(a,c)}):c({identifyingArgValue:a,identifyingArgKey:a==null?null:typeof a==="string"?a:b("react-relay-deprecated/classic/query/stableStringify")(a)})}a=a.getIdentifyingArg();a=a&&a.value||null;d(a,c)}e.exports=a}),null);
__d("react-relay-deprecated/classic/interface/RelayNodeInterface",["invariant","react-relay-deprecated/classic/query/forEachRootCallArg"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=a,i={ANY_TYPE:"__any",ID:"id",ID_TYPE:"ID!",NODE:"node",NODE_TYPE:"Node",NODES:"nodes",TYPENAME:"__typename",isNodeRootCall:function(a){return a===i.NODE||a===i.NODES},getResultsFromPayload:function(a,b){return h(a,b)},injectGetResultsFromPayloadImpl:function(a){h=a}};function a(a,c){__p&&__p();var d=[],e=a.getBatchCall();if(e)j(a,c).forEach(function(b){if(typeof b!=="object"||!b)return;var c=b[i.ID];typeof c==="string"||g(0,822,i.ID,a.getName());d.push({result:b,rootCallInfo:{storageKey:i.NODE,identifyingArgKey:c,identifyingArgValue:c}})});else{var f=j(a,c),h=0,k=a.getStorageKey();b("react-relay-deprecated/classic/query/forEachRootCallArg")(a,function(a){var b=a.identifyingArgKey;a=a.identifyingArgValue;var c=f[h++];d.push({result:c,rootCallInfo:{storageKey:k,identifyingArgKey:b,identifyingArgValue:a}})})}return d}function j(a,b){var c=a.getFieldName(),d=a.getIdentifyingArg();d=d&&d.value||null;b=b[c];a.getBatchCall()||(Array.isArray(d)?(Array.isArray(b)||g(0,823,c,d.length),b.length===d.length||g(0,824,c,d.length,b.length)):Array.isArray(b)&&g(0,825,c,b.length));return Array.isArray(b)?b:[b||null]}e.exports=i}),null);
__d("react-relay-deprecated/classic/query/generateConcreteFragmentID",["base62"],(function(a,b,c,d,e,f){"use strict";var g="::client",h=0;function a(){return b("base62")(h++)+g}e.exports=a}),null);
__d("react-relay-deprecated/classic/query/QueryBuilder",["react-relay-deprecated/classic/interface/RelayNodeInterface","react-relay-deprecated/classic/query/generateConcreteFragmentID","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=[],i=[],j={},k={createBatchCallVariable:function(a,b){return{kind:"BatchCallVariable",sourceQueryID:a,jsonPath:b}},createCall:function(a,b,c){return{kind:"Call",name:a,metadata:{type:c||null},value:b}},createCallValue:function(a){return{kind:"CallValue",callValue:a}},createCallVariable:function(a){return{kind:"CallVariable",callVariableName:a}},createDirective:function(a,b){return{args:b,kind:"Directive",name:a}},createDirectiveArgument:function(a,b){return{name:a,value:b}},createField:function(a){var b=a.metadata||j;return{alias:a.alias,calls:a.calls||g,children:a.children||h,directives:a.directives||i,fieldName:a.fieldName,kind:"Field",metadata:{canHaveSubselections:!!b.canHaveSubselections,inferredRootCallName:b.inferredRootCallName,inferredPrimaryKey:b.inferredPrimaryKey,isConnection:!!b.isConnection,isFindable:!!b.isFindable,isGenerated:!!b.isGenerated,isPlural:!!b.isPlural,isRequisite:!!b.isRequisite,isAbstract:!!b.isAbstract},type:a.type}},createFragment:function(a){var c=a.metadata||j;return{children:a.children||h,directives:a.directives||i,id:b("react-relay-deprecated/classic/query/generateConcreteFragmentID")(),kind:"Fragment",metadata:{isAbstract:!!c.isAbstract,pattern:!!c.pattern,plural:!!c.plural},name:a.name,type:a.type}},createMutation:function(a){var b=a.metadata||j;return{calls:a.calls||g,children:a.children||h,directives:a.directives||i,kind:"Mutation",metadata:{inputType:b.inputType},name:a.name,responseType:a.responseType}},createQuery:function(a){var c=a.metadata||j,d=[],e=c.identifyingArgName;e==null&&b("react-relay-deprecated/classic/interface/RelayNodeInterface").isNodeRootCall(a.fieldName)&&(e=b("react-relay-deprecated/classic/interface/RelayNodeInterface").ID);e!=null&&(b("warning")(a.identifyingArgValue!=null,"QueryBuilder.createQuery(): An argument value may be required for query `%s(%s: ???)`.",a.fieldName,e),d=[k.createCall(e,a.identifyingArgValue,c.identifyingArgType)]);return{calls:d,children:a.children||h,directives:a.directives||i,fieldName:a.fieldName,isDeferred:!!(a.isDeferred||c.isDeferred),kind:"Query",metadata:{identifyingArgName:e,identifyingArgType:c.identifyingArgType,isAbstract:!!c.isAbstract,isPlural:!!c.isPlural},name:a.name,type:a.type}},createSubscription:function(a){var b=a.metadata||j;return{calls:a.calls||g,children:a.children||h,directives:a.directives||i,kind:"Subscription",metadata:{inputType:b.inputType},name:a.name,responseType:a.responseType}},getBatchCallVariable:function(a){if(l(a,"BatchCallVariable"))return a},getCallVariable:function(a){if(l(a,"CallVariable"))return a},getField:function(a){if(l(a,"Field"))return a},getFragment:function(a){if(l(a,"Fragment"))return a},getFragmentDefinition:function(a){if(l(a,"FragmentDefinition"))return a},getFragmentSpread:function(a){if(l(a,"FragmentSpread"))return a},getOperationDefinition:function(a){if(l(a,"OperationDefinition"))return a},getMutation:function(a){if(l(a,"Mutation"))return a},getQuery:function(a){if(l(a,"Query"))return a},getSubscription:function(a){if(l(a,"Subscription"))return a}};function l(a,b){return typeof a==="object"&&a!==null&&a.kind===b}e.exports=k}),null);
__d("react-relay-deprecated/classic/query/RelayFragmentReference",["invariant","react-relay-deprecated/classic/query/QueryBuilder","forEachObject","warning"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();h.createForContainer=function(a,b,c,d){a=new h(a,b,c,d);a.$5=!0;return a};function h(a,b,c,d){this.$1=null,this.$2=b||{},this.$3=void 0,this.$4=a,this.$5=!1,this.$6=!1,this.$7=!1,this.$8=c,this.$9=d}h.prototype.conditionOnType=function(){this.$7=!0;return this};h.prototype.getConditions=function(){return this.$1};h.prototype.getFragmentUnconditional=function(){var a=this.$3;a==null&&(a=this.$4(),this.$3=a);return a};h.prototype.getInitialVariables=function(){return this.$2};h.prototype.getVariableMapping=function(){return this.$8};h.prototype.defer=function(){this.$6=!0;return this};h.prototype["if"]=function(a){a=b("react-relay-deprecated/classic/query/QueryBuilder").getCallVariable(a);a||g(0,3529,a);this.$10({passingValue:!0,variable:a.callVariableName});return this};h.prototype.unless=function(a){a=b("react-relay-deprecated/classic/query/QueryBuilder").getCallVariable(a);a||g(0,3530,a);this.$10({passingValue:!1,variable:a.callVariableName});return this};h.prototype.getFragment=function(a){var b=this.$1;return b&&!b.every(function(b){var c=b.variable;b=b.passingValue;return!!a[c]===b})?null:this.getFragmentUnconditional()};h.prototype.getVariables=function(a,c){var d=babelHelpers["extends"]({},this.$2),e=this.$8;e&&b("forEachObject")(e,function(a,e){var f=b("react-relay-deprecated/classic/query/QueryBuilder").getCallVariable(a);f&&(a=c[f.callVariableName]);a===void 0?b("warning")(!1,"RelayFragmentReference: Variable `%s` is undefined in fragment `%s`.",e,this.getFragmentUnconditional().name):d[e]=a}.bind(this));e=this.$9;e&&(d=e(d,a));return d};h.prototype.isContainerFragment=function(){return this.$5};h.prototype.isDeferred=function(){return this.$6};h.prototype.isTypeConditional=function(){return this.$7};h.prototype.$10=function(a){var b=this.$1;b||(b=[],this.$1=b);b.push(a)};e.exports=h}),null);
__d("react-relay-deprecated/classic/query/RelayRouteFragment",[],(function(a,b,c,d,e,f){"use strict";function a(a){this.$1=a}a.prototype.getFragmentForRoute=function(a){return this.$1(a)};e.exports=a}),null);
__d("react-relay-deprecated/classic/query/RelayQL",["invariant","react-relay-deprecated/classic/query/generateConcreteFragmentID","react-relay-deprecated/classic/query/QueryBuilder","react-relay-deprecated/classic/query/RelayFragmentReference","react-relay-deprecated/classic/query/RelayRouteFragment"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){g(0,4401)}function h(a){a instanceof b("react-relay-deprecated/classic/query/RelayFragmentReference")||b("react-relay-deprecated/classic/query/QueryBuilder").getFragment(a)||b("react-relay-deprecated/classic/query/QueryBuilder").getFragmentSpread(a)||g(0,4402)}var i="__classic_node__";Object.assign(a,{__frag:function(a){if(typeof a==="function")return new(b("react-relay-deprecated/classic/query/RelayRouteFragment"))(a);a!=null&&(Array.isArray(a)?a.forEach(h):h(a));return a},__var:function(a){var c=b("react-relay-deprecated/classic/query/QueryBuilder").getCallVariable(a);c&&g(0,4403,c.callVariableName);return b("react-relay-deprecated/classic/query/QueryBuilder").createCallValue(a)},__id:function(){return b("react-relay-deprecated/classic/query/generateConcreteFragmentID")()},__createFragment:function(a,c){return new(b("react-relay-deprecated/classic/query/RelayFragmentReference"))(function(){return a},null,c)},__getClassicNode:function(a){var b=a[i];if(b==null){var c=a.classic;typeof c==="function"||g(0,4404,JSON.stringify(a));b=c(this);a[i]=b}return b},__getClassicFragment:function(a,c){__p&&__p();var d=this.__getClassicNode(a);a=b("react-relay-deprecated/classic/query/QueryBuilder").getFragmentDefinition(d);a||g(0,4405,d);if(c){var e=[];a.argumentDefinitions.forEach(function(a){a.kind==="RootArgument"||g(0,4406,d.node.name,a.name),e.push(a.name)});a.node.metadata=babelHelpers["extends"]({},d.node.metadata,{hoistedRootArgs:e})}return a},__getClassicOperation:function(a){a=this.__getClassicNode(a);var c=b("react-relay-deprecated/classic/query/QueryBuilder").getOperationDefinition(a);c||g(0,4407,a);return c}});e.exports=a}),null);
__d("react-relay-deprecated/classic/query-config/RelayQueryConfig",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function h(a){this.constructor!==h||g(0,4383),Object.defineProperty(this,"name",{enumerable:!0,value:this.constructor.routeName}),Object.defineProperty(this,"params",{enumerable:!0,value:this.prepareVariables(babelHelpers["extends"]({},a))||{}}),Object.defineProperty(this,"queries",{enumerable:!0,value:babelHelpers["extends"]({},this.constructor.queries)})}h.prototype.prepareVariables=function(a){return a};e.exports=h}),null);
__d("react-relay-deprecated/classic/route/RelayRoute",["invariant","react-relay-deprecated/classic/query-config/RelayQueryConfig","forEachObject"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=function(){return null};a=babelHelpers.inherits(j,b("react-relay-deprecated/classic/query-config/RelayQueryConfig"));h=a&&a.prototype;function j(a,b){h.constructor.call(this,a);var c=this.constructor;a=c.routeName;var d=c.path;c!==j||g(0,672);a||g(0,673,c.name||"<<anonymous>>");Object.defineProperty(this,"uri",{enumerable:!0,get:function(){!b&&d&&(b=i(c,this.params));return b}})}j.prototype.prepareVariables=function(a){var c=this.constructor,d=c.paramDefinitions,e=c.prepareParams,f=c.routeName,h=a;e&&(h=e(h));d&&b("forEachObject")(d,function(a,b){if(h)if(Object.prototype.hasOwnProperty.call(h,b))return;else h[b]=void 0;a.required&&g(0,674,b,f)});return h};j.injectURICreator=function(a){i=a};e.exports=j}),null);
__d("MessengerTypeaheadResultRoute",["react-relay-deprecated/classic/query/RelayQL","react-relay-deprecated/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay-deprecated/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="MessengerTypeaheadResultRoute";a.paramDefinition={queryString:{required:!0,type:"String"},canViewerSendMoneyFilter:{required:!1,type:"Boolean"},localEntryIDs:{required:!0,type:"Array"},shouldQueryPages:{required:!0,type:"Boolean"},shouldQueryThreadName:{required:!0,type:"Boolean"},shouldQueryParticipantIDs:{required:!0,type:"Boolean"},shouldQueryParticipantNames:{required:!0,type:"Boolean"},shouldQueryVCEndpoint:{required:!0,type:"Boolean"},shouldQueryInternalBot:{required:!0,type:"Boolean"},shouldQueryRoomsAudience:{required:!0,type:"Boolean"},threadFBID:{required:!1,type:"String"}};a.queries={profiles:function(a,c){var d=c.canViewerSendMoneyFilter,e=c.shouldQueryPages,f=c.shouldQueryVCEndpoint,g=c.shouldQueryInternalBot;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"queryString"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"entities_named",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"MessengerTypeaheadResultRoute",type:"SearchableEntitiesQuery"}}(a.getFragment("profiles",{canViewerSendMoneyFilter:d,shouldQueryPages:e,shouldQueryVCEndpoint:f,shouldQueryInternalBot:g,shouldQueryRoomsAudience:c}))},groups:function(a,c){var d=c.queryString,e=c.localEntryIDs,f=c.shouldQueryThreadName,g=c.shouldQueryParticipantIDs;c=c.shouldQueryParticipantNames;return function(a){return{children:[].concat.apply([],[b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"MessengerTypeaheadResultRoute",type:"Viewer"}}(a.getFragment("groups",{queryString:d,localEntryIDs:e,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:c}))},roomAudience:function(a,c){var d=c.queryString;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"threadFBID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"message_thread",kind:"Query",metadata:{identifyingArgName:"id",identifyingArgType:"ID!"},name:"MessengerTypeaheadResultRoute",type:"MessageThread"}}(a.getFragment("roomAudience",{queryString:d,shouldQueryRoomsAudience:c}))}};e.exports=a}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","CurrentUser","Keys","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadAdapter","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","RelayModern","SearchableEntry","gkx","immutable","joinClasses","wrapNullableForReact","MessengerTypeaheadResultView_profiles.graphql","MessengerTypeaheadResultView_groups.graphql","MessengerTypeaheadResultView_roomAudience.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=50,j=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,k=!b("CurrentUser").isWorkUser();d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}if(!this.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.$1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$3=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.$1}.bind(this))};a.prototype.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){var a=this.$1;if(!a)return null;var c=null;k&&(c=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE]);a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.prototype.$2=function(a){__p&&__p();var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;if(b("gkx")("678616")){var g=Date.now(),h=function(a){return a.map(function(a){return[a.getUniqueID(),a]})};f=b("immutable").OrderedMap(h(c)).merge(h(e)).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i).toArray();var j=Date.now()-g;b("Bootloader").loadModules(["MessengerSearchWWWTypedLogger"],function(a){new a().setStage("messenger_rendering_dedup").setLatency(j).log()},"MessengerTypeaheadResultView.react")}else f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,i);this.$5(a.queryString,f,a.localEntryIDs);return f};a.prototype.$4=function(a,c){__p&&__p();var d=[];k&&(d=a.serverResults.filter(function(a){return a&&!c[a.getUniqueID()]}));if(a.profiles){var e;e=(e=a)!=null?(e=e.profiles)!=null?(e=e.user_results)!=null?e.edges:e:e:e;if(e){d=e.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)});e=[];var f=[],g=[];for(var h=d,i=Array.isArray(h),l=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(i){if(l>=h.length)break;m=h[l++]}else{l=h.next();if(l.done)break;m=l.value}m=m;if(!m||c[m.getUniqueID()])continue;m.getType()===b("MercuryParticipantTypes").FRIEND&&e.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?e.push(m):m.getType()===b("MercuryParticipantTypes").FB4C&&f.length<b("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX?f.push(m):m.getType()===b("MercuryParticipantTypes").NON_FRIEND&&g.length<j&&g.push(m)}d=e.concat(f).concat(g)}}else if(a.roomAudience){l=(m=a)!=null?(m=m.roomAudience)!=null?(m=m.user_results)!=null?m.edges:m:m:m;l&&(d=d.concat(l.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)})))}a.profiles&&a.profiles.page_results&&(d=d.concat(a.profiles.page_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,this.$6(a.node))}.bind(this)).filter(function(a){return a&&!c[a.getUniqueID()]}).slice(0,b("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX)));i=[];h=[];a.groups&&a.groups.threads_matching_name&&(h=h.concat(a.groups.threads_matching_name.edges));a.groups&&a.groups.threads_matching_participant_ids&&(h=h.concat(a.groups.threads_matching_participant_ids.edges));a.groups&&a.groups.threads_matching_participant_names&&(h=h.concat(a.groups.threads_matching_participant_names.edges));for(var e=0;e<h.length;e++){f=h[e];g=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(f.node,e);if(!g||c[g.getUniqueID()])continue;i.push(g);c[g.getUniqueID()]=!0}d=d.concat(i);a.profiles&&a.profiles.vc_results&&(d=d.concat(a.profiles.vc_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)})));a.profiles&&a.profiles.internal_bot_results&&(d=d.concat(a.profiles.internal_bot_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)})));return d};a.prototype.$6=function(a){if(!a||!a.category_type)return b("MercuryParticipantTypes").PAGE;return a.category_type===b("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE?b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:b("MercuryTypeaheadConstants").PAGE_TYPE};a.prototype.$5=function(a,c,d){b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID();a={result_fbid:b,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(b)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};a.propTypes={controlleeID:d.string.isRequired,canViewerSendMoneyFilter:d.bool,className:d.string.isRequired,localEntries:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:d.arrayOf(d.string.isRequired).isRequired,hasHoverState:d.bool.isRequired,highlightedEntry:d.object,onMount:d.func.isRequired,onNextHighlighted:d.func.isRequired,onScrollIntoView:d.func.isRequired,onSelect:d.func.isRequired,onSelectHighlighted:d.func.isRequired,onUnmount:d.func.isRequired,originalEntryIDs:d.instanceOf(b("immutable").Set).isRequired,queryString:d.string.isRequired,selectedEntryIDs:d.instanceOf(b("immutable").Set).isRequired,serverResults:d.arrayOf(d.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:d.bool.isRequired,shouldQueryPages:d.bool.isRequired,shouldQueryVCEndpoint:d.bool.isRequired,viewer:d.string.isRequired,forGroup:d.bool};a.defaultProps={controlleeID:"",className:""};e.exports=k?a:c(a,{profiles:function(){return b("MessengerTypeaheadResultView_profiles.graphql")},groups:function(){return b("MessengerTypeaheadResultView_groups.graphql")},roomAudience:function(){return b("MessengerTypeaheadResultView_roomAudience.graphql")}})}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.onKeyDown=function(a,c){if(a===b("Keys").RETURN){this.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(c)}.bind(this),this.$1=function(a){this.props.onNextHighlighted(a)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};a.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown,function(){return this.props.entries.toArray()}.bind(this))};a.prototype.componentWillUnmount=function(){this.props.onUnmount()};a.prototype.render=function(){return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer})};a.propTypes={controlleeID:c.string.isRequired,className:c.string.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onNextHighlighted:c.func.isRequired,onMount:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,viewer:c.string.isRequired};a.defaultProps={controlleeID:"",className:""};e.exports=a}),null);
__d("RelayFBEnvironment",["requireCond","cr:686615"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:686615")}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomPrivacyMode","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultRoute","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","React","RelayFBEnvironment","RelayModern","createCancelableFunction","debounce","immutable","gkx","qex","MessengerGraphQLTypeaheadViewQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;c=b("React").PropTypes;var l=!b("CurrentUser").isWorkUser(),m=function(a){if(!a||a.length===0)return null;var c=a[0];return c.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE?c:a.length>1?a[1]:null},n=5;d=100;f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={route:null,localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!l,pages:!l},serverResults:[],highlightedEntry:null},this.$1=null,this.$2=null,this.$3=null,this.$4=0,this.$5=0,this.$6=null,this.$7=null,this.$8=!0,this.$9=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),this.$10=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),this.$11=null,this.$12=!1,this.$13=null,this.$14=0,this.$18=function(a,c,d,e,f,g){__p&&__p();this.$8&&this.setState({serverResults:[]});c=this.state.localEntries.toArray().filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var h=[];d||h.push("groups");e||h.push("pages");this.props.enableMessageSearch&&h.push("messages");f===null?h.push("users"):h.push("rooms");e={userLimit:(d=b("qex")._("839674"))!=null?d:10,messageLimit:3,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:this.$17,canViewerSendMoneyFilter:g,localEntryIDs:c,threadFBID:f};this.$13!==null&&this.$13.fetchEntries(a,h,e,this.$32,this.$33)}.bind(this),this.$32=function(a,b){if(this.$8){this.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}}.bind(this),this.$33=function(a,b){this.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})}.bind(this),this.$17=function(){return this.props.queryString}.bind(this),this.$24=function(a,b){this.$6=a,this.$7=b,this.$19()}.bind(this),this.$26=function(){this.$6=null,this.$7=null}.bind(this),this.$20=function(a){this.setState({highlightedEntry:a})}.bind(this),this.$25=function(a){this.state.highlightedEntry&&this.props.onSelect(this.state.highlightedEntry,a)}.bind(this),c}a.prototype.componentDidMount=function(){__p&&__p();var a;this.$14=(a=b("qex")._("839673"))!=null?a:n;this.$15();this.$2=b("debounce")(function(){if(!l&&this.$8){var a=this.$16();a=new(b("MessengerTypeaheadResultRoute"))(a);this.setState({route:a})}}.bind(this),150,this,!0);l&&(this.$13=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return this.$17()}.bind(this)),this.$3=b("debounce")(this.$18,150,this,!0))};a.prototype.componentDidUpdate=function(a){this.props!==a&&this.$19()};a.prototype.$19=function(){__p&&__p();if(!this.$7)return;var a=this.$7(),b=m(this.$11);this.$11=a;a=m(a);if(!a)return;if(this.state.highlightedEntry&&this.state.highlightedEntry.getUniqueID()===a.getUniqueID())return;b=!b||b.getUniqueID()!==a.getUniqueID();(b||!this.state.highlightedEntry||this.$12)&&this.$20(a);this.$12=!1};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();this.setState({highlightedEntry:null});if(!a.queryString)this.$15();else if(a.queryString!==this.props.queryString){this.$12=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});this.$2&&this.$2();var c=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$3&&this.$3(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE?a.threadFBID:null,a.canViewerSendMoneyFilter);if(c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$21(a);return}if(this.props.canViewerSendMoneyFilter){this.$22(a);return}if(this.props.includeExistingParticipantIDs){this.$23(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(c,d){__p&&__p();if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);var e=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(d):null;e&&c.unshift(e);var f=b("immutable").List(c).filter(function(a){if(this.props.excludeGroups&&a.getType()===b("MercuryParticipantTypes").THREAD)return!1;return this.props.excludePages&&a.getType()===b("MercuryParticipantTypes").PAGE?!1:!0}.bind(this));b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants","MessengerSearchLoggerUtil"],function(c,e,g){var a=f;if(this.props.queryString===d){var h=b("immutable").OrderedMap();a.forEach(function(a){var b=a.getUniqueID();a={result_fbid:b,result_type:g.getLoggingTypeFromMercuryType(a.getType()),rank_section:e.SOURCES.LOCAL,data_source:[e.SOURCES.LOCAL]};h=h.set(b,a)});c.logImpressions(h,d)}}.bind(this),"MessengerGraphQLTypeaheadView.react");this.setState({localEntries:f})}}.bind(this))}};a.prototype.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.route!==this.state.route||b.highlightedEntry!==this.state.highlightedEntry};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$3&&this.$3.reset(),this.$2&&this.$2.reset(),this.$8=!1};a.prototype.render=function(){__p&&__p();if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$9.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$10.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")));else return null;if(!this.props.queryString||!l&&!this.state.route)return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$24,onNextHighlighted:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});if(l){var a=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);return b("React").createElement("div",null,this.state.queryCompleteStatus.usersGroups?this.$27():this.$28(),this.state.queryCompleteStatus.usersGroups&&!a?this.$29():null)}return b("React").createElement(k,{environment:b("RelayFBEnvironment"),query:j||(j=function(){return b("MessengerGraphQLTypeaheadViewQuery.graphql")}),render:function(a){var b=a.error;a=a.props;if(b)return this.$30(b);else if(a)return this.$27(a);return this.$28()}.bind(this),variables:this.$16()})};a.prototype.$28=function(){var a=this.state.localEntries.slice(0,this.$14);return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$31(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$20,onMount:this.$24,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer})};a.prototype.$29=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Searching...")))};a.prototype.$27=function(a){var c=this.$16(),d=this.state.localEntries.slice(0,this.$14);return b("React").createElement(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:d.toArray(),onMount:this.$24,onNextHighlighted:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer},c))};a.prototype.$30=function(a){return b("React").createElement("div",null,h._("There was an issue. Please retry."))};a.prototype.$31=function(a,b){b=a.filter(function(a){return!this.props.selectedEntryIDs.contains(a.getUniqueID())}.bind(this));return b};a.prototype.onKeyDown=function(a,b){this.$6&&this.$6(a,b)};a.prototype.$21=function(a){this.$9.search(a.threadFBID,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$34=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){a=a.slice(0,30);this.setState({localEntries:b("immutable").List(a)})}.bind(this)),this.$9.onEntriesLoaded(this.props.threadFBID,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$23=function(a){this.$10.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$35=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a.slice(0,50))})}.bind(this)),this.$10.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$22=function(a){b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(c,d){if(this.$8&&d===a.queryString){c=b("MessengerTypeaheadUtils").sortEntries(c,d).slice(0,this.props.maxEntries);this.setState({localEntries:b("immutable").List(c)})}}.bind(this))};a.prototype.$36=function(){this.setState({localEntries:b("immutable").List()}),this.$1=b("createCancelableFunction")(function(a){this.setState({localEntries:b("immutable").List(a)})}.bind(this)),b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(a){this.$1&&this.$1(a),this.$1=null}.bind(this))};a.prototype.$15=function(){__p&&__p();var a=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(a===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$34();return}if(this.props.canViewerSendMoneyFilter){this.$36();return}if(this.props.includeExistingParticipantIDs){this.$35();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(a,c,d){a=a.slice(0,50);this.props.excludeGroups||(a=a.concat(c));if(!d||!this.props.queryString){c=this.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(this.props.queryString):null;c&&a.unshift(c);this.props.queryString===""&&this.$37(a);this.setState({localEntries:b("immutable").List(a)})}}.bind(this));b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(a,b,c){this.$1&&this.$1(a,b,c),this.$1=null}.bind(this))};a.prototype.$16=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===b("MessengerRoomPrivacyMode").WHITELISTED_MODE;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!l,j=!this.props.excludePages&&!e,k=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,m=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,n=e,o=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:k,shouldQueryInternalBot:m,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:n,threadFBID:o,forGroup:this.props.forGroup}};a.prototype.$37=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b){b.logNullStateImpressions(a,a.length)},"MessengerGraphQLTypeaheadView.react")};a.propTypes={includeExistingParticipantIDs:c.bool,canViewerSendMoneyFilter:c.bool,enableMessageSearch:c.bool.isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,isFocused:c.bool.isRequired,hasHoverState:c.bool.isRequired,maxEntries:c.number.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,roomAssociatedObject:c.object,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,threadFBID:c.string,typeaheadViewClassName:c.string.isRequired,viewer:c.string.isRequired};a.defaultProps={maxEntries:d,typeaheadViewClassName:""};e.exports=a}),null);
__d("MessengerScrollableArea.react",["cx","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","joinClasses","setImmediate","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=20;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.$1=!1,this.$2=null,this.$4=function(){if(this.$1){var a;this.props.onScroll&&(a=this.props).onScroll.apply(a,arguments)}}.bind(this),this.$5=function(){__p&&__p();if(!b("UserAgent").isBrowser("IE"))return;if(!this.refs||!this.refs.scrollable)return;var a=this.refs.scrollable.refs.wrap,c=this.refs.scrollable.refs.body;if(!c||!a)return;c=b("ReactDOM").findDOMNode(c);a=b("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&b("Style").set(c,"margin-right",-a+"px")}.bind(this),this.$3=b("throttle")(this.$4,50)}a.prototype.componentDidMount=function(){this.$2=b("setImmediate")(this.$5),this.$1=!0};a.prototype.componentWillUnmount=function(){b("clearImmediate")(this.$2),this.$1=!1};a.prototype.render=function(){var a=this.props.needsFastScrollHandler?this.$4:this.$3;return b("React").createElement(b("ScrollableArea.react"),{className:b("joinClasses")("_5f0v",this.props.className),height:this.props.height,onScroll:a,persistent:!0,ref:"scrollable",shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children)};a.prototype.getArea=function(){return this.refs.scrollable.getArea()};a.prototype.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};a.prototype.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};a.prototype.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};a.prototype.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};a.prototype.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-i};a.prototype.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=i};a.prototype.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};e.exports=a}),null);
__d("QuicksilverSources",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALOHA_GAMEHOST:"aloha_gamehost",BIG_BLUE_IG_SEARCH:"big_blue_ig_search",CANVAS_DIVEBAR:"canvas_divebar",CANVAS_GAME_MODAL:"canvas_game_modal",CUSTOM_SHARE:"in_game_custom_share",EMBEDDED_PLAYER:"embedded_player",FB_AD:"fb_ad",FB_ARCADE_HEADER_INVITE:"fb_arcade_header_invite",FB_CANVAS:"fb_canvas",FB_CANVAS_MIGRATION:"fb_canvas_migration",FB_FEED:"fb_feed",FB_FEED_EGO:"fb_ego_igyml",FB_FEED_GROUP_CHALLENGE_EDGE_STORY:"fb_feed_group_challenge_edge_story",FB_FEED_IGYFAP_QP:"fb_qp_igyfap",FB_FEED_IGYML_QP:"fb_qp_igyml",FB_FEED_LEADERBOARD_HIGH_SCORE:"fb_feed_leaderboard_high_score",FB_FEED_LIVE_VIDEO:"fb_feed_live_video",FB_FEED_NEW_RELEASES_QP:"fb_qp_new_releases",FB_FEED_PLAY_FROM_POST_EDGE_STORY:"fb_feed_play_from_post_edge_story",FB_FEED_PLAY_WITH_FRIENDS:"fb_feed_play_with_friends",FB_FEED_PLAYED_RECENTLY_QP:"fb_qp_played_recently",FB_FEED_PLAYING_WITH_FRIENDS_QP:"fb_qp_playing_with_friends",FB_FEED_POST_GAMEPLAY:"fb_feed_post_gameplay",FB_FEED_QUICK_PROMOTION:"fb_feed_quick_promotion",FB_FEED_RATING:"fb_feed_rating",FB_FEED_SCREENSHOT:"fb_feed_screenshot",FB_GAMES_TAB:"fb_games_tab",FB_GAMES_TAB_NOTIFICATION:"fb_games_tab_notification",FB_GG_FEED:"fb_gg_feed",FB_GG_NOTIFICATION:"fb_gg_notification",FB_GG_SEARCH:"fb_gg_search",FB_GG_STORY:"fb_gg_story",FB_GG_URL:"fb_gg_url",FB_GROUP_AYMT:"fb_group_aymt",FB_GROUP_CHALLENGE:"fb_group_challenge",FB_GROUP_COMPOSER:"fb_group_composer",FB_GROUP_GAMES_TAB:"fb_group_games_tab",FB_GROUP_MALL:"fb_group_mall",FB_GROUP_MALL_EGO:"fb_group_mall_ego",FB_GROUP_MALL_SCREENSHOT:"fb_group_mall_screenshot",FB_GROUP_NEWS_FEED:"fb_group_news_feed",FB_GROUP_NEWSFEED_SCREENSHOT:"fb_group_newsfeed_screenshot",FB_GROUP_POST_ACTION_LINK:"fb_group_post_action_link",FB_GROUP_POST_CONTEXT_UPDATE:"fb_group_post_context_update",FB_GROUP_RHC_LEADERBOARD:"fb_group_rhc_leaderboard",FB_GROUP_SCORE_PASSED_NOTIF:"fb_group_score_passed_notif",FB_GROUP_TOURNAMENT_FEED_UNIT:"fb_group_tournament_feed_unit",FB_HOMESCREEN_SHORTCUT:"fb_homescreen_shortcut",FB_INVITE_DECLINED_NOTIF:"fb_invite_declined_notif",FB_MESSENGER_AD:"fb_messenger_ad",FB_NON_MESSENGER_WAP_INVITE_NOTIF:"fb_non_messenger_wap_invite_notif",FB_OTHER_GAMES_NOTIF:"fb_other_games_notif",FB_PAGE_PLAY_GAME_BUTTON:"fb_page_play_game_button",FB_PLAYED_FROM_POST_NOTIF:"fb_played_from_post_notif",FB_SCORE_PASSED_NOTIF:"fb_score_passed_notif",FB_SEARCH:"big_blue_search",FB_STORY_ATTRIBUTION_LINK:"fb_story_attribution_link",FB_TOURNAMENT_FINISHED_NOTIF:"fb_tournament_finished_notif",FB_TURN_REMINDER_NOTIF:"fb_turn_reminder_notif",FBLITE_BOOKMARK:"fblite_bookmark",FBLITE_MESSENGER_TAB:"fblite_messenger_tab",GAME_CTA:"game_cta",GAME_SEARCH:"game_search",GAME_SWITCH:"game_switch",GAMEROOM_FEED_POST:"gameroom_feed_post",GAMEROOM_HOME:"gameroom_home",HOME_SCREEN_SHORTCUT:"home_screen_shortcut",INTERNAL:"internal",LIVE_VIDEO_CTA:"live_video_cta",M_ME_LINK:"m_me_link",MARKETPLACE:"marketplace",MESSENGER_AD:"messenger_ad",MESSENGER_ADMIN_MESSAGE:"admin_message",MESSENGER_BBALL_EMOJI:"bball_emoji",MESSENGER_BOT_MENU:"bot_menu",MESSENGER_BUSINESS_ATTACHMENT:"business_attachment",MESSENGER_CALL_TO_ACTION:"call_to_action",MESSENGER_COMPOSER:"composer",MESSENGER_COMPOSER_SMS:"composer_sms",MESSENGER_CUSTOM_ADMIN_MESSAGE:"custom_admin_message",MESSENGER_CUSTOM_UPDATE_BREADCRUMB:"custom_update_breadcrumb",MESSENGER_CUSTOM_UPDATE_XMA:"custom_update_xma",MESSENGER_GAME_BOT_MENU:"game_bot_menu",MESSENGER_GAME_BOT_NULL_STATE:"game_bot_null_state_cta",MESSENGER_GAME_EMOJI:"game_emoji",MESSENGER_GAME_PUSH_NOTIFICATION:"game_push_notification",MESSENGER_GAME_SCORE_SHARE:"game_score_share",MESSENGER_GAME_SEARCH:"search",MESSENGER_GAME_SHARE:"game_share",MESSENGER_GAME_THREAD_ROW_CTA:"game_thread_row_cta",MESSENGER_GAMES_HUB:"games_hub",MESSENGER_LEADERBOARD_BREADCRUMB:"leaderboard_breadcrumb",MESSENGER_LEADERBOARD_XMA:"leaderboard_xma",MESSENGER_M_SUGGESTION:"game_m_suggestion",MESSENGER_MORE_DRAWER_CHAT_EXTENSION:"more_drawer_chat_extension",MESSENGER_NEW_FRIEND_BUMP:"new_friend_bump",MESSENGER_ONE_LINE_COMPOSER:"one_line_composer",MESSENGER_RTC:"rtc",MESSENGER_SEARCH:"messenger_search",MESSENGER_SOCCER_EMOJI:"soccer_emoji",MESSENGER_STALE_THREAD_QUICK_REPLY:"stale_thread_quick_reply",MESSENGER_STICKER:"sticker",MESSENGER_TOURNAMENT_START:"tournament_start",MOBILE_APP_BOOKMARK:"mobile_app_bookmark",MOBILE_BOOKMARK:"mobile_bookmark",MOBILE_BOOKMARK_PRESENCE:"mobile_bookmark_presence",MOBILE_GAME_CHAINING_PAGE:"mobile_game_chaining_page",MSITE:"msite",MSITE_BOOKMARK:"msite_bookmark",PRESENCE_ON_MESSENGER:"presence_on_messenger",SOCIAL_PLUGIN:"social_plugin",SRT_REVIEW:"srt_review",STREAMER_DASHBOARD:"streamer_dashboard",THREAD_ACTIVITY_BANNER:"thread_activity_banner",THREAD_SETTINGS:"thread_settings",TOURNAMENT_THREAD_ACTIVITY_BANNER:"tournament_thread_activity_banner",TOURNAMENT_UNIT:"tournament_unit",UNKNOWN:"unknown",WWW_APP_BOOKMARK:"www_app_bookmark",WWW_APP_CENTER_BROWSE:"www_app_center_browse",WWW_APP_CENTER_CHALLENGE:"www_app_center_challenge",WWW_APP_CENTER_MAIN:"www_app_center_main",WWW_BOOKMARK:"www_bookmark",WWW_CHAT_SIDEBAR_PRESENCE:"www_chat_sidebar_presence",WWW_GAME_THREAD_ROW_CTA:"www_game_thread_row_cta",WWW_GAMES_DIVEBAR_PAGELET:"www_games_divebar_pagelet",WWW_GAMES_HUB:"www_games_hub",WWW_GAMES_HUB_BOOKMARKS:"www_games_hub_bookmarks",WWW_GAMES_HUB_SEARCH:"www_games_hub_search",WWW_GAMES_RHC_PAGELET:"www_games_rhc_pagelet",WWW_GAMES_UNIFIED_RHC:"www_games_unified_rhc",WWW_LINK_SHARE:"www_link_share",WWW_MESSENGER_UPSELL:"www_messenger_upsell",WWW_PLAY_GAME_LOGGED_OUT_VIEW:"www_play_game_logged_out_view",WWW_PLAY_URL:"www_play_url",WWW_PROFILE_HOVERCARD:"www_profile_hovercard",WWW_REQUEST_HOVERCARD:"www_request_hovercard",WWW_SPOTLIGHT_BOTTOM_UNIT:"www_spotlight_bottom_unit",WWW_SPOTLIGHT_RHC:"www_spotlight_rhc",MN_DIODE:"mn_diode",MN_DIODE_TAB:"mn_diode_tab",OTHER_DIODE_TAB:"other_diode_tab"})}),null);
__d("ReactInstanceMap_DO_NOT_USE",["ReactDOM-fb"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOM-fb").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.exports=a.ReactInstanceMap}),null);
__d("ReactLayeredComponentMixin_DEPRECATED",["ExecutionEnvironment","React","ReactCurrentOwner","ReactDOM","ReactFragment","ReactInstanceMap_DO_NOT_USE","renderSubtreeIntoContainer_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={UNSAFE_componentWillMount:function(){b("ExecutionEnvironment").canUseDOM&&(this._layersContainer=document.createElement("div"))},componentDidMount:function(){this._renderLayersIntoContainer()},componentDidUpdate:function(){this._renderLayersIntoContainer()},componentWillUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._layersContainer)},_renderLayersIntoContainer:function(){b("ReactCurrentOwner").current=b("ReactInstanceMap_DO_NOT_USE").get(this);var a;try{a=this.renderLayers()}finally{b("ReactCurrentOwner").current=null}a&&!Array.isArray(a)&&!b("React").isValidElement(a)&&(a=b("ReactFragment").create(a));b("renderSubtreeIntoContainer_DO_NOT_USE")(this,b("React").createElement("div",null,a),this._layersContainer)}};e.exports=a}),null);
__d("MessengerGraphQLSearchTypeahead.react",["fbt","cx","ix","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","InstantGameContextType","JSResource","Keys","LazyComponent.react","MercuryIDs","gkx","immutable","MercuryThreadIDMap","MercuryTypeaheadConstants","MercuryVanityIDMap.bs","MessagingSourceEnum","MessengerActions","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","QuicksilverSources","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","clearImmediate","emptyFunction","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();a=b("React").PropTypes;var k=i("86933"),l=30,m=100;c=b("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,hideResults:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClearAndRefocus:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number},getInitialState:function(){return{gameID:null}},getDefaultProps:function(){return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:b("emptyFunction"),onChange:b("emptyFunction"),onClear:b("emptyFunction"),onClearAndRefocus:b("emptyFunction"),onClick:b("emptyFunction"),onScrollIntoView:b("emptyFunction"),originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){if(!this.props.useLayer)return{};var a=null,c=null;this.props.context?a=this.props.context:c=function(){return this._input}.bind(this);return{typeaheadView:b("React").createElement(b("ContextualLayer.react"),{context:a,contextRef:c,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1},this._renderView())}},render:function(){var a=this.props.useLayer?null:this._renderView();return b("React").createElement("div",{className:(this.props.isTokenizer?"":"_1nq2")+(this.props.isTokenizer?" _3mkz":"")},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.hideResults?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null},b("React").createElement("label",{className:"_58ak"},b("React").createElement("input",{autoComplete:"off",className:"_58al",onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:this._handleFocus,onKeyDown:function(a){return this._handleKeyDown(a)}.bind(this),placeholder:this.props.placeholder,ref:function(a){return this._input=a}.bind(this),spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?g._("Search Workchat"):g._("Search Messenger")})),a),b("React").createElement(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:k}),b("React").createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderGame:function(){return!this.state.gameID?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:b("React").createElement(b("MessengerSpinner.react"),null),component:b("React").createElement(b("LazyComponent.react"),{initialContextType:b("InstantGameContextType").SOLO,initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:b("QuicksilverSources").MESSENGER_SEARCH,sourceID:null})})},_renderView:function(){__p&&__p();if(!this.props.isFocused)return null;if(!this.props.queryString){var a=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(a)return null}a=this.props.isTokenizer?l:m;a=b("React").createElement(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:a,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(a){return this._view=a}.bind(this),roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer)return b("React").createElement(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width},a);else return a},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs.scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs.scrollable)},_handleFocus:function(){this.props.hideResults?this.props.onClearAndRefocus():this.props.onFocus()},_handleSelect:function(a,c){__p&&__p();c&&c.preventDefault();var d=a.getType();c=d===b("MercuryTypeaheadConstants").MESSAGE_TYPE?a.getAuxiliaryData().thread_id:a.getUniqueID();var e=a.getAuxiliaryData().alias;if(e){var f=b("MercuryIDs").getParticipantIDFromUserID(c);b("MercuryVanityIDMap.bs").set(e,f)}d===b("MercuryTypeaheadConstants").SEARCH_TYPE||d===b("MercuryTypeaheadConstants").MESSAGE_TYPE?(this._endSearchFunnelAndStartContentSearchFunnel(this.props.queryString),b("MessengerActions").changeQueryAll(this.props.queryString),d===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&this._handleUpdateThread(c,a)):d===b("MercuryTypeaheadConstants").GAME_TYPE?this.setState({gameID:c}):d===b("MercuryTypeaheadConstants").THREAD_TYPE?j.getClientIDFromServerID(c,function(b){return this.props.onSelect(b,d,a)}.bind(this)):this._handleUpdateThread(c,a)},_handleUpdateThread:function(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a),function(a){return this.props.onSelect(a.thread_id,c.getType(),c)}.bind(this)),b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(b("MessagingSourceEnum").MESSENGER_WEB_SEARCH,a)},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?(this.props.hideResults&&c===b("Keys").RETURN&&b("MessengerActions").changeQueryAll(this.props.queryString),this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a)):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=null,c=b("Event").listen(window,"blur",function(){c.remove(),b("clearImmediate")(a)});a=b("setImmediate")(function(){c.remove(),this.props.onBlur()}.bind(this))},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_endSearchFunnelAndStartContentSearchFunnel:function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(a,b){a.endFunnel(b.END_REASONS.END_ACTION,b.END_ACTIONS.MESSAGE_SEARCH,null,b.ENTRY_SURFACES.INBOX)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(b,c){b.startFunnel(a,c.FUNNEL_LOGGER_TAGS.SEARCH_ALL_THREADS)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","SearchableEntry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=100;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){a.keyCode===b("Keys").BACKSPACE&&(a.preventDefault(),this.props.onRemove&&this.props.onRemove(this.props.entry))}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option",tabIndex:this.props.index+i},b("React").createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};a.prototype.$1=function(a){a.stopPropagation()};a.propTypes={className:c.string,entry:c.instanceOf(b("SearchableEntry")),index:c.number,label:c.string.isRequired,onRemove:c.func};e.exports=a}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerGraphQLSearchTypeahead.react","MessengerTokenizerToken.react","React","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=!0,this.state={focused:this.props.autoFocus,queryString:""},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput()}.bind(this),this.$4=function(){if(!this.$1)return;this.setState({focused:!1})}.bind(this),this.$8=function(){if(!this.$1)return;this.setState({focused:!0})}.bind(this),this.$5=function(a){if(this.state.queryString||this.props.entries.size===0)return;this.$10(this.props.entries.last());a.preventDefault();b("setImmediate")(this.focusInput)}.bind(this),this.$6=function(a){a.target instanceof HTMLInputElement||h(0,1185);if(!this.$1)return;this.setState({queryString:a.target.value})}.bind(this),this.$7=function(){if(!this.$1)return;this.setState({queryString:""});this.props.onClear&&this.props.onClear()}.bind(this),this.$9=function(a,b,c){__p&&__p();if(!this.$1)return;a=this.props.entries;var d=c.getUniqueID();if(this.props.originalEntryIDs.contains(d))return;else if(a.some(function(a){return a.getUniqueID()===d})){this.$10(c);return}this.props.onAddEntryAttempt(c);this.setState({queryString:""})}.bind(this),this.$10=function(a){this.props.onRemoveEntryAttempt(a)}.bind(this),this.$3=function(a){this.focusInput()}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.render=function(){var a=this.props.entries.map(function(a,b){return this.$2(a,b)}.bind(this)),c=a.size>0?"":this.props.placeholder,d=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return b("React").createElement("div",null,b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_14-7")},b("React").createElement("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3},a,b("React").createElement(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:d,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:c,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===""&&!this.state.focused?this.props.defaultEntries:null)};a.prototype.$2=function(a,c){return b("React").createElement(b("MessengerTokenizerToken.react"),{className:"_2ei6",key:a.getUniqueID(),label:a.getTitle(),entry:a,index:c,onRemove:this.$10})};a.propTypes={autoFocus:c.bool.isRequired,canViewerSendMoneyFilter:c.bool,includeExistingParticipantIDs:c.bool,className:c.string.isRequired,context:c.object,defaultEntries:c.element,enableMessageSearch:c.bool.isRequired,entries:c.instanceOf(b("immutable").List).isRequired,excludeGroups:c.bool.isRequired,excludePages:c.bool.isRequired,forGroup:c.bool,forceHideClearButton:c.bool,hasHoverState:c.bool.isRequired,onAddEntryAttempt:c.func.isRequired,onClear:c.func,onRemoveEntryAttempt:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,placeholder:c.node.isRequired,roomAssociatedObject:c.object,scrollableViewClassName:c.string.isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,tabIndex:c.number,threadFBID:c.string,useLayer:c.bool.isRequired,viewer:c.string.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("bs_belt_List",["bs_curry","bs_belt_Array","bs_js_primitive","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a)return b("bs_js_primitive").some(a[0])}function c(a){if(a)return a[0];else throw new Error("headExn")}function d(a){if(a)return a[1]}function e(a){if(a)return a[1];else throw new Error("tailExn")}function g(a,b){return[b,a]}function h(a,c){__p&&__p();if(c<0)return void 0;else{a=a;c=c;while(!0){var d=c,e=a;if(e)if(d===0)return b("bs_js_primitive").some(e[0]);else{c=d-1|0;a=e[1];continue}else return void 0}}}function i(a,b){__p&&__p();if(b<0)throw new Error("getExn");else{a=a;b=b;while(!0){var c=b,d=a;if(d)if(c===0)return d[0];else{b=c-1|0;a=d[1];continue}else throw new Error("getExn")}}}function j(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];var i=[g,0];if(a(g)){f[1]=i;c=i;b=h;continue}else{e[1]=i;d=i;b=h;continue}}else return 0}}function k(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f){var g=f[0],h=[g[0],0];g=[g[1],0];e[1]=h;d[1]=g;c=g;b=h;a=f[1];continue}else return 0}}function l(a,b){__p&&__p();while(!0){var c=b,d=a;if(d){var e=[d[0],0];c[1]=e;b=e;a=d[1];continue}else return c}}function m(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(e){var f=e[1];e=e[0];if(a(e)){e=[e,0];d[1]=e;c=e;b=f;continue}else{b=f;continue}}else return 0}}function n(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];if(a(g,e)){g=[g,0];f[1]=g;d=e+1|0;c=g;b=h;continue}else{d=e+1|0;b=h;continue}}else return 0}}function o(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(f){var g=f[1];f=a(f[0]);if(f!==void 0){f=[b("bs_js_primitive").valFromOption(f),0];e[1]=f;d=f;c=g;continue}else{c=g;continue}}else return 0}}function aa(a,b,c,d){__p&&__p();while(!0){var e=c,f=a;if(f){var g=f[1];f=f[0];if(d(f[0],b)){e[1]=g;return!0}else{f=[f,0];e[1]=f;c=f;a=g;continue}}else return!1}}function ba(b,c,d,e,a){__p&&__p();while(!0){var f=e,g=b;if(g){var h=g[1];g=g[0];if(a(g[0],c)){f[1]=[[c,d],h];return!0}else{g=[g,0];f[1]=g;e=g;b=h;continue}}else return!1}}function ca(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e){var f=[c(e[0]),0];d[1]=f;b=f;a=e[1];continue}else return 0}}function da(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f&&e){var g=[[f[0],e[0]],0];d[1]=g;c=g;b=e[1];a=f[1];continue}else return 0}}function ea(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g&&f){var h=[a(g[0],f[0]),0];e[1]=h;d=h;c=f[1];b=g[1];continue}else return 0}}function fa(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(f){var h=[a(g,f[0]),0];e[1]=h;d=h;c=f[1];b=g+1|0;continue}else return 0}}function ga(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f===0)return!0;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return!1}}function ha(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f===0)return e;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return void 0}}function ia(a,b){__p&&__p();if(b<0)return void 0;else if(b===0)return 0;else if(a){var c=[a[0],0];b=ga(b-1|0,a[1],c);if(b)return c;else return void 0}else return void 0}function ja(a,b){__p&&__p();if(b<0)return void 0;else{a=a;b=b;while(!0){var c=b,d=a;if(c===0)return d;else if(d){b=c-1|0;a=d[1];continue}else return void 0}}}function ka(a,b){__p&&__p();if(b<0)return void 0;else if(b===0)return[0,a];else if(a){var c=[a[0],0];b=ha(b-1|0,a[1],c);if(b!==void 0)return[c,b];else return void 0}else return void 0}function p(a,b){if(a){var c=[a[0],0];l(a[1],c)[1]=b;return c}else return b}function q(a,b){if(a){var c=[b(a[0]),0];ca(a[1],c,b);return c}else return 0}function la(a,c){return q(a,b("bs_curry").__1(c))}function r(a,b,c){if(a&&b){var d=[c(a[0],b[0]),0];ea(c,a[1],b[1],d);return d}else return 0}function ma(a,c,d){return r(a,c,b("bs_curry").__2(d))}function s(a,b){if(a){var c=[b(0,a[0]),0];fa(b,1,a[1],c);return c}else return 0}function na(a,c){return s(a,b("bs_curry").__2(c))}function t(a,b){__p&&__p();if(a<=0)return 0;else{var c=[b(0),0],d=c,e=1;while(e<a){var f=[b(e),0];d[1]=f;d=f;e=e+1|0}return c}}function oa(a,c){return t(a,b("bs_curry").__1(c))}function pa(a,b){__p&&__p();if(a<=0)return 0;else{var c=[b,0],d=c,e=1;while(e<a){var f=[b,0];d[1]=f;d=f;e=e+1|0}return c}}function u(a){__p&&__p();a=a;var b=0;while(!0){var c=b,d=a;if(d){b=c+1|0;a=d[1];continue}else return c}}function qa(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(d){a[e]=d[0];c=d[1];b=e+1|0;continue}else return 0}}function v(a){__p&&__p();var b=a;a=a.length-1|0;var c=0;while(!0){var d=c,e=a;if(e<0)return d;else{c=[b[e],d];a=e-1|0;continue}}}function w(a){var b=u(a);b=new Array(b);qa(b,0,a);return b}function ra(a){a=w(a);b("bs_belt_Array").shuffleInPlace(a);return v(a)}function x(a,b){while(!0){var c=b,d=a;if(d){b=[d[0],c];a=d[1];continue}else return c}}function sa(a){return x(a,0)}function ta(a,b){__p&&__p();while(!0){var c=b,d=a;if(c){b=c[1];a=l(c[0],d);continue}else{d[1]=0;return 0}}}function ua(a){__p&&__p();while(!0){var b=a;if(b){var c=b[0];if(c){var d=[c[0],0];ta(l(c[1],d),b[1]);return d}else{a=b[1];continue}}else return 0}}function va(a){__p&&__p();var b=a.length;if(b!==1)if(b!==0){b=a.length;var c=a[b-1|0];for(var b=b-2|0;b>=0;--b)c=p(a[b],c);return c}else return 0;else return a[0]}function y(a,b){__p&&__p();b=b;var c=0;a=a;while(!0){var d=a,e=c;if(d){a=d[1];c=[b(d[0]),e];continue}else return e}}function wa(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){while(!0){var c=a;if(c){b(c[0]);a=c[1];continue}else return 0}}function xa(a,c){return z(a,b("bs_curry").__1(c))}function A(a,b){__p&&__p();a=a;var c=0;b=b;while(!0){var d=c,e=a;if(e){b(d,e[0]);c=d+1|0;a=e[1];continue}else return 0}}function ya(a,c){return A(a,b("bs_curry").__2(c))}function B(a,b,c){while(!0){var d=b,e=a;if(e){b=c(d,e[0]);a=e[1];continue}else return d}}function za(a,c,d){return B(a,c,b("bs_curry").__2(d))}function C(a,b,c){if(a)return c(C(a[1],b,c),a[0]);else return b}function D(a,c,d){var e=u(a);if(e<1e3)return C(a,c,d);else return b("bs_belt_Array").reduceReverseU(w(a),c,d)}function Aa(a,c,d){return D(a,c,b("bs_curry").__2(d))}function E(a,b,c){__p&&__p();a=a;b=b;c=c;var d=0;while(!0){var e=d,f=b,g=a;if(g){d=e+1|0;b=c(f,g[0],e);a=g[1];continue}else return f}}function Ba(a,c,d){return E(a,c,b("bs_curry").__3(d))}function F(a,b,c){__p&&__p();a=a;b=b;var d=0;c=c;while(!0){var e=d,f=b,g=a;if(g&&f){d=[c(g[0],f[0]),e];b=f[1];a=g[1];continue}else return e}}function Ca(a,c,d){return F(a,c,b("bs_curry").__2(d))}function G(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d){c(e[0],d[0]);b=d[1];a=e[1];continue}else return 0}}function Da(a,c,d){return G(a,c,b("bs_curry").__2(d))}function H(a,b,c,d){__p&&__p();while(!0){var e=c,f=b,g=a;if(g&&f){c=d(e,g[0],f[0]);b=f[1];a=g[1];continue}else return e}}function Ea(a,c,d,e){return H(a,c,d,b("bs_curry").__3(e))}function I(a,b,c,d){if(a&&b)return d(I(a[1],b[1],c,d),a[0],b[0]);else return c}function J(a,c,d,e){var f=u(a);if(f<1e3)return I(a,c,d,e);else return b("bs_belt_Array").reduceReverse2U(w(a),w(c),d,e)}function Fa(a,c,d,e){return J(a,c,d,b("bs_curry").__3(e))}function K(a,b){__p&&__p();while(!0){var c=a;if(c)if(b(c[0])){a=c[1];continue}else return!1;else return!0}}function Ga(a,c){return K(a,b("bs_curry").__1(c))}function L(a,b){__p&&__p();while(!0){var c=a;if(c)if(b(c[0]))return!0;else{a=c[1];continue}else return!1}}function Ha(a,c){return L(a,b("bs_curry").__1(c))}function M(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else return!0}}function Ia(a,c,d){return M(a,c,b("bs_curry").__2(d))}function Ja(a,b){__p&&__p();while(!0){var c=b,d=a;if(d)if(c){b=c[1];a=d[1];continue}else return 1;else if(c)return-1;else return 0}}function N(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e)if(d){var f=c(e[0],d[0]);if(f===0){b=d[1];a=e[1];continue}else return f}else return 1;else if(d)return-1;else return 0}}function Ka(a,c,d){return N(a,c,b("bs_curry").__2(d))}function O(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e)if(d&&c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else if(d)return!1;else return!0}}function La(a,c,d){return O(a,c,b("bs_curry").__2(d))}function P(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0]))return!0;else{b=d[1];a=e[1];continue}else return!1}}function Ma(a,c,d){return P(a,c,b("bs_curry").__2(d))}function Q(b,c,a){__p&&__p();while(!0){var d=b;if(d)if(a(d[0],c))return!0;else{b=d[1];continue}else return!1}}function Na(c,d,a){return Q(c,d,b("bs_curry").__2(a))}function R(c,d,a){__p&&__p();while(!0){var e=c;if(e){var f=e[0];if(a(f[0],d))return b("bs_js_primitive").some(f[1]);else{c=e[1];continue}}else return void 0}}function Oa(c,d,a){return R(c,d,b("bs_curry").__2(a))}function S(b,c,a){__p&&__p();while(!0){var d=b;if(d)if(a(d[0][0],c))return!0;else{b=d[1];continue}else return!1}}function Pa(c,d,a){return S(c,d,b("bs_curry").__2(a))}function T(b,c,a){__p&&__p();if(b){var d=b[1],e=b[0];if(a(e[0],c))return d;else{e=[e,0];d=aa(d,c,e,a);if(d)return e;else return b}}else return 0}function Qa(c,d,a){return T(c,d,b("bs_curry").__2(a))}function U(b,c,d,a){__p&&__p();if(b){var e=b[1],f=b[0];if(a(f[0],c))return[[c,d],e];else{f=[f,0];e=ba(e,c,d,f,a);if(e)return f;else return[[c,d],b]}}else return[[c,d],0]}function Ra(c,d,e,a){return U(c,d,e,b("bs_curry").__2(a))}function V(c,a){c=w(c);b("bs_belt_SortArray").stableSortInPlaceByU(c,a);return v(c)}function Sa(c,a){return V(c,b("bs_curry").__2(a))}function W(a,c){__p&&__p();while(!0){var d=a;if(d){var e=d[0];if(c(e))return b("bs_js_primitive").some(e);else{a=d[1];continue}}else return void 0}}function Ta(a,c){return W(a,b("bs_curry").__1(c))}function X(a,b){__p&&__p();while(!0){var c=a;if(c){var d=c[1];c=c[0];if(b(c)){c=[c,0];m(b,d,c);return c}else{a=d;continue}}else return 0}}function Ua(a,c){return X(a,b("bs_curry").__1(c))}function Y(a,b){__p&&__p();a=a;b=b;var c=0;while(!0){var d=c,e=a;if(e){var f=e[1];e=e[0];if(b(e,d)){e=[e,0];n(b,f,e,d+1|0);return e}else{c=d+1|0;a=f;continue}}else return 0}}function Va(a,c){return Y(a,b("bs_curry").__2(c))}function Z(a,c){__p&&__p();while(!0){var d=a;if(d){var e=d[1];d=c(d[0]);if(d!==void 0){d=[b("bs_js_primitive").valFromOption(d),0];o(c,e,d);return d}else{a=e;continue}}else return 0}}function Wa(a,c){return Z(a,b("bs_curry").__1(c))}function $(a,b){if(a){var c=a[0],d=[c,0],e=[c,0];c=b(c);j(b,a[1],d,e);if(c)return[d,e[1]];else return[d[1],e]}else return[0,0]}function Xa(a,c){return $(a,b("bs_curry").__1(c))}function Ya(a){if(a){var b=a[0],c=[b[0],0];b=[b[1],0];k(a[1],c,b);return[c,b]}else return[0,0]}function Za(a,b){if(a&&b){var c=[[a[0],b[0]],0];da(a[1],b[1],c);return c}else return 0}var $a=u;f.length=u;f.size=$a;f.head=a;f.headExn=c;f.tail=d;f.tailExn=e;f.add=g;f.get=h;f.getExn=i;f.make=pa;f.makeByU=t;f.makeBy=oa;f.shuffle=ra;f.drop=ja;f.take=ia;f.splitAt=ka;f.concat=p;f.concatMany=va;f.reverseConcat=x;f.flatten=ua;f.mapU=q;f.map=la;f.zip=Za;f.zipByU=r;f.zipBy=ma;f.mapWithIndexU=s;f.mapWithIndex=na;f.fromArray=v;f.toArray=w;f.reverse=sa;f.mapReverseU=y;f.mapReverse=wa;f.forEachU=z;f.forEach=xa;f.forEachWithIndexU=A;f.forEachWithIndex=ya;f.reduceU=B;f.reduce=za;f.reduceWithIndexU=E;f.reduceWithIndex=Ba;f.reduceReverseU=D;f.reduceReverse=Aa;f.mapReverse2U=F;f.mapReverse2=Ca;f.forEach2U=G;f.forEach2=Da;f.reduce2U=H;f.reduce2=Ea;f.reduceReverse2U=J;f.reduceReverse2=Fa;f.everyU=K;f.every=Ga;f.someU=L;f.some=Ha;f.every2U=M;f.every2=Ia;f.some2U=P;f.some2=Ma;f.cmpByLength=Ja;f.cmpU=N;f.cmp=Ka;f.eqU=O;f.eq=La;f.hasU=Q;f.has=Na;f.getByU=W;f.getBy=Ta;f.keepU=X;f.keep=Ua;f.keepWithIndexU=Y;f.keepWithIndex=Va;f.keepMapU=Z;f.keepMap=Wa;f.partitionU=$;f.partition=Xa;f.unzip=Ya;f.getAssocU=R;f.getAssoc=Oa;f.hasAssocU=S;f.hasAssoc=Pa;f.removeAssocU=T;f.removeAssoc=Qa;f.setAssocU=U;f.setAssoc=Ra;f.sortU=V;f.sort=Sa}),null);
__d("MessengerDialogs.bs",["bs_curry","bs_belt_List"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[0],h=[void 0];function i(){var a=h[0],c=g[0];if(a!==void 0){a=a;if(c)return b("bs_curry")._1(a,c);else return b("bs_curry")._1(a,void 0)}else return 0}function a(a){h[0]=a;return i(0)}function c(a){g[0]=[a,g[0]];return i(0)}function d(a,c){if(a!==void 0){var d=a;g[0]=b("bs_belt_List").keep(g[0],function(a){return a!==d})}else{c=g[0];g[0]=c?c[1]:0}return i(0)}function e(){g[0]=0;return i(0)}f.visibleDialogs=g;f.setDialogComponentState=h;f.updateComponent=i;f.addHandler=a;f.showDialog=c;f.removeDialog=d;f.removeAllDialogs=e}),null);
__d("MessengerDialog.react",["cx","LayerHideOnEscape","MessengerDialogLayerShrinkOnHide","MessengerDialogs.bs","React","XUIDialog.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerDialog",propTypes:{onToggle:a.func,repositionOnUpdate:a.bool,shown:a.bool,type:a.oneOf(["alert","default"]),width:a.number,removeDialogOnToggle:a.bool},getDefaultProps:function(){return{repositionOnUpdate:!1,shown:!0,type:"alert",width:400,removeDialogOnToggle:!0}},componentDidUpdate:function(){this.props.repositionOnUpdate&&setTimeout(function(){this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.updatePosition()}.bind(this),0)},handleToggle:function(a){this.props.onToggle&&this.props.onToggle(a),!a&&this.props.removeDialogOnToggle&&b("MessengerDialogs.bs").removeDialog()},render:function(){return b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({behaviors:{MessengerDialogLayerShrinkOnHide:b("MessengerDialogLayerShrinkOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")}},this.props,{onToggle:this.handleToggle,className:b("joinClasses")("_4ebx",this.props.className),ref:"dialog"}),b("React").createElement("div",{className:"_4eby"+(this.props.type==="alert"?" _2c9g":"")+(this.props.type==="default"?" _2c9i":"")},this.props.children))}});e.exports=c}),null);
__d("MessengerDialogBody.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_4eb-",this.props.className)},this.props.children)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("JsConvert.bs",["bs_curry","bs_js_primitive","expectationViolation","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){},h=function(a){},i=function(a){},j=function(a){},k=function(a){},l=function(a){};function a(a){return a}function c(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}function d(a){return a}function e(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}function m(a){return a}function n(a){if(a==null)return void 0;else return a}function o(a,c){c=b("bs_curry")._1(c,a);if(c)return c[0];else throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bad enum conversion."]}function p(a,c){if(a==null)return void 0;else{c=b("bs_curry")._1(c,a);if(c)return b("bs_js_primitive").some(c[0]);else throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bad enum conversion."]}}f.warnIfNotJsString=g;f.warnIfNotJsStringAndNotNullUndefined=h;f.warnIfNotJsInt=i;f.warnIfNotJsIntAndNotNullUndefined=j;f.warnIfNotJsBool=k;f.warnIfNotJsBoolAndNotNullUndefined=l;f.toString=a;f.toOptString=c;f.toInt=d;f.toOptInt=e;f.toBool=m;f.toOptBool=n;f.toEnum=o;f.toOptEnum=p}),null);
__d("LinkReact.bs",["Link.react","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){d={"aria-label":b("bs_js_null_undefined").fromOption(d),"data-ft":b("bs_js_null_undefined").fromOption(f),"data-hover":b("bs_js_null_undefined").fromOption(g),"data-tooltip-content":b("bs_js_null_undefined").fromOption(h),"data-tooltip-alignh":b("bs_js_null_undefined").fromOption(i),"data-tooltip-position":b("bs_js_null_undefined").fromOption(j),className:b("bs_js_null_undefined").fromOption(e),href:b("bs_js_null_undefined").fromOption(k),linkRef:b("bs_js_null_undefined").fromOption(l),onClick:b("bs_js_null_undefined").fromOption(m),onMouseDown:b("bs_js_null_undefined").fromOption(n),onMouseEnter:b("bs_js_null_undefined").fromOption(o),role:b("bs_js_null_undefined").fromOption(p),rel:b("bs_js_null_undefined").fromOption(q),style:b("bs_js_null_undefined").fromOption(r),tabIndex:b("bs_js_null_undefined").fromOption(s),target:b("bs_js_null_undefined").fromOption(t),title:b("bs_js_null_undefined").fromOption(u)};a!==void 0&&(d["aria-expanded"]=b("bs_js_primitive").valFromOption(a));c!==void 0&&(d["aria-hidden"]=b("bs_js_primitive").valFromOption(c));return b("ReasonReact.bs").wrapJsForReason(b("Link.react"),d,v)}f.make=a}),null);
__d("MessengerButtonReact.bs",["cx","bs_curry","React","JsConvert.bs","LinkReact.bs","ReasonReact.bs","joinClasses","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d){if(a){d.preventDefault();return 0}else if(c!==void 0)return b("bs_curry")._1(c,d);else return 0}var i=b("ReasonReact.bs").statelessComponent("MessengerButtonReact");function j(a){if(a!==void 0)return{color:a}}function k(a,c,d,e,f){c="_3quh _30yy"+(c===0?" _2t_":"")+(c===1?" _2u0":"")+(c===2?" _17u4":"")+(f===1?" _3ay_":"")+(d?" _4zab":"")+(e?" _fy2":"");if(a!==void 0)return b("joinClasses")(c,a);else return c}function l(a,c,d,e,f,g,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v=g!==void 0?g:!1;u=n!==void 0?n:!1;g=q!==void 0?q:0;var w=s!==void 0?s:"",x=function(a){return h(v,f,a)},y=k(l,p,v,u,g),z=j(m);return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(r!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,a,y,void 0,void 0,void 0,void 0,void 0,r,void 0,x,void 0,void 0,c,void 0,z,d,e,void 0,o));else{var f=b("joinClasses")("_30vt",w),g={className:y,onClick:x};a!==void 0&&(g["aria-label"]=b("bs_js_primitive").valFromOption(a));c!==void 0&&(g.role=b("bs_js_primitive").valFromOption(c));z!==void 0&&(g.style=b("bs_js_primitive").valFromOption(z));d!==void 0&&(g.tabIndex=b("bs_js_primitive").valFromOption(d));e!==void 0&&(g.target=b("bs_js_primitive").valFromOption(e));g=b("React").createElement("button",g,o);g=b("React").cloneElement(g,{"data-testid":b("bs_js_null_undefined").fromOption(t)});return b("React").createElement("span",{className:f},g)}},i[9],i[10],i[11],i[12]]}function m(a){switch(a){case"danger":return[1];case"default":return[0];default:return 0}}function n(a){switch(a){case"faded":return[2];case"primary":return[0];case"secondary":return[1];default:return 0}}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return l(b("bs_js_primitive").nullable_to_opt(a.ariaLabel),b("JsConvert.bs").toOptString(a.role),b("JsConvert.bs").toOptInt(a.tabIndex),b("JsConvert.bs").toOptString(a.target),b("bs_js_primitive").nullable_to_opt(a.onClick),b("JsConvert.bs").toOptBool(a.disabled),b("JsConvert.bs").toOptString(a.className),b("JsConvert.bs").toOptString(a.color),b("JsConvert.bs").toOptBool(a.customColor),a.label,b("JsConvert.bs").toEnum(a.type,n),b("JsConvert.bs").toOptEnum(a.use,m),b("JsConvert.bs").toOptString(a.href),b("JsConvert.bs").toOptString(a.wrapperClassName),b("JsConvert.bs").toOptString(a.dataTestID),a.children)});f.handleLinkClick=h;f.component=i;f.elementStyle=j;f.interactionElementClassName=k;f.make=l;f.useFromString=m;f.typeFromString=n;f.jsComponent=a}),null);
__d("MessengerDialogButton.react",["cx","MessengerButtonReact.bs","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerButtonReact.bs").jsComponent;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.action,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","className"]);return b("React").createElement(i,babelHelpers["extends"]({className:b("joinClasses")(d,"_5ixy"+(c==="button"?" layerButton":"")+(c==="cancel"?" layerCancel":"")+(c==="confirm"?" layerConfirm":""))},a))};function a(){h.apply(this,arguments)}a.propTypes={action:c.oneOf(["button","cancel","confirm"])};e.exports=a}),null);
__d("MessengerDialogCancelButton.react",["fbt","MessengerDialogButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("MessengerDialogButton.react"),babelHelpers["extends"]({action:"cancel",label:g._("Cancel"),type:"secondary"},this.props))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("MessengerDialogFooter.react",["cx","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_4eb_",this.props.className)},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_2_d1"},this.props.leftContent),b("React").createElement("div",null,this.props.children)))};function a(){h.apply(this,arguments)}a.propTypes={leftContent:c.object};e.exports=a}),null);
__d("MessengerDialogBodyReact.bs",["cx","ReactDOMRe.bs","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerDialogBodyReact");function i(a,c){var d=a!==void 0?a:"";return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return b("ReactDOMRe.bs").createElementVariadic("div",{className:b("joinClasses")("_4eb-",d)},c)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(b("bs_js_primitive").nullable_to_opt(a.className),a.children)});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerDialogs.re",["MessengerDialogs.bs"],(function(a,b,c,d,e,f){a=b("MessengerDialogs.bs").showDialog;f.showDialog=a;c=function(a,c){a=b("MessengerDialogs.bs").removeDialog(a.dialog,c);return a};f.removeDialog=c}),null);
__d("MessengerMessageArray.bs",["bs_caml_obj","bs_caml_array","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a.length}function c(a){var c=a.length>0;if(c)return b("bs_js_primitive").some(b("bs_caml_array").caml_array_get(a,a.length-1|0))}function d(a,c){if(a.length===c.length)return a.every(function(a,d){return b("bs_caml_obj").caml_equal(a,b("bs_caml_array").caml_array_get(c,d))});else return!1}function e(a,c){return b("bs_caml_array").caml_array_get(c,a)}f.size=a;f.last=c;f.equals=d;f.get=e}),null);
__d("MessengerReasonDialogContainerReact.bs",["bs_list","bs_array","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogs.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").reducerComponent("MessengerReasonDialogContainer");function h(){__p&&__p();return[g[0],g[1],g[2],g[3],function(a){return b("MessengerDialogs.bs").addHandler(function(c){return b("bs_curry")._1(a[3],[c])})},g[5],g[6],g[7],function(a){a=a[1];if(a!==void 0)return b("React").createElement("div",void 0,b("bs_array").mapi(function(a,c){return b("React").createElement("span",{key:String(a)},b("bs_curry")._1(c,0))},b("bs_array").of_list(b("bs_list").rev(a))));else return null},function(){return void 0},g[10],function(a,c){return b("bs_block").__(0,[a[0]])},g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(){return h([])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerDialogHeaderReact.bs",["cx","React","bs_belt_Option","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerDialogHeaderReact");function a(a,c,d){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var e=b("bs_belt_Option").getWithDefault(a,!1);e={className:b("joinClasses")("_4ebz",e?"autofocus":"")};c!==void 0&&(e.id=b("bs_js_primitive").valFromOption(c));return b("React").createElement("h2",e,d)},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerDialogHeaderReact.re",["bs_curry","MessengerDialogHeaderReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerDialogHeaderReact.bs").component,function(a){return b("bs_curry")._3(b("MessengerDialogHeaderReact.bs").make,a.autofocus,a.id,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerDialogTitleReact.bs",["cx","React","bs_belt_Option","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MessengerDialogTitleReact");function a(a,c){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var d=b("bs_belt_Option").getWithDefault(a,!1);return b("React").createElement("div",{className:b("joinClasses")("_19jt",d?"autofocus":"")},c)},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerDialogTitleReact.re",["bs_curry","MessengerDialogTitleReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerDialogTitleReact.bs").component,function(a){return b("bs_curry")._2(b("MessengerDialogTitleReact.bs").make,a.autofocus,a.children)});f.component=a;f["default"]=a}),null);
__d("WorkChatAvailabilityStatusLoader",["Promise","Bootloader","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_store:null,_actions:null,_promise:null,getStoreEnforce:function(){b("nullthrows")(this._store,"Status store is not loaded");return this._store},getActionsEnforce:function(){b("nullthrows")(this._actions,"Status actions is not loaded");return this._actions},isLoaded:function(){return this._store&&this._actions},load:function(){this._promise||(this._promise=new(b("Promise"))(function(a){b("Bootloader").loadModules(["WorkChatAvailabilityStatusActions","WorkChatAvailabilityStatusStore"],function(b,c){this._store=c,this._actions=b,a({store:c,actions:b})}.bind(this),"WorkChatAvailabilityStatusLoader")}.bind(this)));return this._promise}};e.exports=a}),null);
__d("HotLikeSound",["MercurySoundsConfig","SoundPlayer","StickerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("MercurySoundsConfig").hot_like_grow_mp3_url,b("MercurySoundsConfig").hot_like_grow_ogg_url],h=[b("MercurySoundsConfig").hot_like_pop_mp3_url,b("MercurySoundsConfig").hot_like_pop_ogg_url],i=[b("MercurySoundsConfig").hot_like_outgoing_small_mp3_url,b("MercurySoundsConfig").hot_like_outgoing_small_ogg_url],j=[b("MercurySoundsConfig").hot_like_outgoing_medium_mp3_url,b("MercurySoundsConfig").hot_like_outgoing_medium_ogg_url],k=[b("MercurySoundsConfig").hot_like_outgoing_large_mp3_url,b("MercurySoundsConfig").hot_like_outgoing_large_ogg_url],l=function(){return!1};a={setCheckSoundEnabledFunc:function(a){l=a},start:function(){this._play(g)},stop:function(){b("SoundPlayer").stop(g)},pop:function(){this.stop(),this._play(h)},snap:function(a){this.stop(),a===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID&&this._play(i),a===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID&&this._play(j),a===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID&&this._play(k)},_play:function(a){l()&&b("SoundPlayer").play(a)}};e.exports=a}),null);
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"})}),null);
__d("MercuryMessageObject",["BanzaiODS","MercuryActionStatus","MercuryActionType","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercuryMessageSourceTags","MercurySendMessageFields","MercurySingletonProvider","MercurySourceType","MessengerObjectAssociationType","MessengerState.bs","RepliedToMessageStatusForGraphQL","SiteData"],(function(a,b,c,d,e,f){__p&&__p();a.getForFBID=function(a){"use strict";return i.getForFBID(a)};a.get=function(){"use strict";return i.get()};function a(a){"use strict";this.$1=a}a.prototype.constructHotLikeObject=function(a,c,d,e,f){"use strict";c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};a.prototype.constructPhotoMessageObject=function(a,c,d,e,f){"use strict";c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={replied_to_message:a?{message:a,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};a.prototype.constructTextMessageObject=function(a,c,d,e,f,h,i,j,k){"use strict";h=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,h,i);i=f.params&&f.type;var l=c.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",replied_to_message:d?{message:d,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0,has_attachment:i||l,raw_attachments:l?c:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},h,a)};a.prototype.constructUserGeneratedMessageObject=function(a,c,d,e,f,h){"use strict";c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:e||[],creator_info:f,tags:h||[]};return babelHelpers["extends"]({},c,d)};a.prototype.constructStickerMessageObject=function(a,c,d,e,f){"use strict";c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};a.prototype.constructAttachmentMessageObject=function(a,c){"use strict";a=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,a,c);c={attachments:[],specific_to_list:[]};return babelHelpers["extends"]({},a,c)};a.prototype.constructLogMessageObject=function(a,c,d,e){"use strict";a=g(this.$1,b("MercuryActionType").LOG_MESSAGE,a,c);c={log_message_type:d,log_message_data:e,ephemeral_ttl_mode:e&&e.untypedData&&e.untypedData.ttl};return babelHelpers["extends"]({},a,c)};a.prototype.constructCTAConfirmationMessageObject=function(a,b,c,d,e){"use strict";a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};a.prototype.normalizeNewMessage=function(a){"use strict";__p&&__p();a.status===void 0&&(a.status=b("MercuryActionStatus").UNSENT);a.offline_threading_id=a.offline_threading_id||b("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||b("BanzaiODS").bumpEntityKey("chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var c=b("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.specific_to_list.length&&a.specific_to_list.indexOf(c)===-1&&a.specific_to_list.push(c);var d=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var e,f=b("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);f&&f.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=f.ephemeral_ttl_mode);((e=f)!=null?(e=e.associated_object)!=null?e.name:e:e)&&((e=f)!=null?e.object_association_type:e)===b("MessengerObjectAssociationType").GENERAL_CHAT&&(d=!0)}if(!d)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){f=a.specific_to_list[0]==c?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=b("MercuryIDs").getThreadIDFromParticipantID(f)}if(!a.specific_to_list.length){e=b("MercuryIDs").tokenize(a.thread_id);d=e.type;f=e.value;d=="user"&&(a.specific_to_list=["fbid:"+f,c])}a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};a.prototype.normalizeResendMessage=function(a){"use strict";a.status=b("MercuryActionStatus").RESENDING,a.timestamp=Date.now(),a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};a.prototype.normalizeAddAttachmentPlaceholder=function(a,c,d){"use strict";d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=b("MercuryActionStatus").RESENDING,a.upload_id=c};function g(a,c,d,e){var f=h(d)?[b("MercuryMessageSourceTags").CHAT]:[],g=Date.now();c={action_type:c,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:g,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:d,source_tags:f};return c}function h(a){switch(a){case b("MercurySourceType").CHAT_WEB:case b("MercurySourceType").CHAT_JABBER:case b("MercurySourceType").CHAT_IPHONE:case b("MercurySourceType").CHAT_MEEBO:case b("MercurySourceType").CHAT_ORCA:case b("MercurySourceType").CHAT_TEST:case b("MercurySourceType").CHAT:return!0;default:return!1}}var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryMessageActions",["AsyncRequest","Bootloader","MercuryActionType","MercuryDispatcher","MercuryMessageObject","MercuryPayloadSource","MercuryServerRequests","MercurySingletonMixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=b("MercuryMessageObject").getForFBID(this.$1),this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1)}a.prototype.send=function(a,c,d){this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),b("MercuryPayloadSource").CLIENT_SEND_MESSAGE)),this.__serverRequests.sendNewMessage(a,d),c!=null&&c(a.thread_id)};a.prototype.resend=function(a,b){a=babelHelpers["extends"]({},a);this.$2.normalizeResendMessage(a);this.send(a,void 0,b)};a.prototype.addAttachmentPlaceholder=function(a,c,d){this.$2.normalizeAddAttachmentPlaceholder(a,c,d),this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};a.prototype.cancelAttachmentPlaceholder=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:c,action_type:b("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER},b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};a.prototype.confirmAttachmentPlaceholder=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:c,action_type:b("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER},b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};a.prototype["delete"]=function(a,c,d){this.__dispatcher.handleUpdate(this.$3(a,c,b("MercuryActionType").DELETE_MESSAGES,d||b("MercuryPayloadSource").CLIENT_DELETE_MESSAGES))};a.prototype.changeSaveStatus=function(a,c,d){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:a.thread_id,messageId:a.message_id,tags_to_add:c?["message:save"]:[],tags_to_delete:c?[]:["message:save"],action_type:b("MercuryActionType").MUTATE_TAGS},d||b("MercuryPayloadSource").CLIENT_CHANGE_SAVED_MESSAGE_STATUS)),b("Bootloader").loadModules(["XMessengerDotComSaveController","SavedStateActions","CollectionsDisplaySurface","CollectionCurationMechanisms"],function(d,e,f,g){new(b("AsyncRequest"))().setURI(d.getURIBuilder().getURI()).setData({action:c?e.SAVE:e.UNSAVE,surface:f.MESSENGER_DOT_COM_MESSAGE,mechanism:g.RIGHT_CLICK,message_id:a.message_id}).send()},"MercuryMessageActions")};a.prototype.__constructClientSingleMessagePayload=function(a,b){return{actions:[a],from_client:!0,payload_source:b}};a.prototype.$4=function(a,b){return{actions:[a],from_client:!1,payload_source:b}};a.prototype.$3=function(a,b,c,d){return{actions:[{action_type:c,thread_id:a,message_ids:b}],from_client:!0,payload_source:d}};c=Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=c}),null);
__d("MercuryThreadTitle_DEPRECATED.react",["fbt","MercuryIDs","MercuryParticipantListRenderer","MessengerParticipants.bs","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.state={participantNames:""},b}a.prototype.componentDidMount=function(){this.$1=!0,this.$2(this.props)};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.componentDidUpdate=function(a){a!==this.props&&this.$2(this.props)};a.prototype.render=function(){return b("React").createElement("span",{className:this.props.className},this.props.thread.name?this.$3():this.state.participantNames,this.props.children)};a.prototype.getTitle=function(){return this.state.participantNames};a.prototype.$3=function(){var a=this.props.thread,c=this.props.maxTitle?this.props.maxTitle<a.name.length?a.name.slice(0,this.props.maxTitle)+"...":a.name:a.name;c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c});return!a.unread_count||!this.props.showUnreadCount?c:this.$4(c,a.unread_count)};a.prototype.$2=function(a){__p&&__p();if(a.thread.name)return;this.setState({participantNames:""});var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=a.thread.participants||[];d.length>1&&(d=d.filter(function(a){return a!=c}));b("MessengerParticipants.bs").getMulti(d,function(c){__p&&__p();if(!this.$1)return;var e=d.map(function(a){return c[a]}),f=a.thread.custom_nickname?{}:null,g=b("MessengerTextWithEmoticons.react");if(f)for(var h in a.thread.custom_nickname)f[h]=b("React").createElement(g,{renderEmoticons:!0,renderEmoji:!0,text:a.thread.custom_nickname[h]});g=new(b("MercuryParticipantListRenderer"))().setUseShortName(a.useShortName).setUseAndSeparator(a.useAndSeparator).setIsNewThread(a.isNewThread).setNickname(f).renderParticipantList(e);f=a.showUnreadCount&&a.thread.unread_count?this.$4(g,a.thread.unread_count):g;this.setState({participantNames:f})}.bind(this))};a.prototype.$4=function(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",b)])};a.defaultProps={isNewThread:!1,showUnreadCount:!1,useShortName:!1,useAndSeparator:!1};e.exports=a}),null);
__d("MercuryCanonicalGroupThreadManager",["Bootloader","KeyedCallbackManager","MercuryIDs","MercuryPayloadSource","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MessengerServerPayloadTransformer.bs","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=new(b("KeyedCallbackManager"))(),this.$3=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$4={},this.$7(),this.$8(),this.$6={}}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};a.prototype.getCanonicalGroupThreadIDForParticipants=function(a,b){a=this.$9(a);var c=this.$10(a);c=this.$2.executeOrEnqueue(c,b);this.$11(a);return c};a.prototype.unsubscribe=function(a){a&&this.$2.unsubscribe(a)};a.prototype.$10=function(a){return a.sort().join(",")};a.prototype.$12=function(a,c){c=b("MercuryIDs").getThreadIDFromThreadFBID(c);this.$2.setResource(a,c);this.$4[c]=a};a.prototype.$11=function(a){var c=this.$10(a);c={canonical_group_key:c,participants:a};b("MercuryServerDispatcher").trySend("/ajax/mercury/search_canonical_groups.php",c,null,this.$1)};a.prototype.$7=function(){b("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_canonical_groups.php":{request_user_id:this.$1,mode:b("MercuryServerDispatcher").IMMEDIATE,handler:function(a){this.handleUpdate(a)}.bind(this)}})};a.prototype.$9=function(a){a.indexOf(this.$1)===-1&&a.push(this.$1);return a};a.prototype.handleUpdate=function(a){if(a.graphql_payload){var c=b("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,a.graphql_payload,a.for_page);this.$3.handleUpdate({threads:[c],payload_source:b("MercuryPayloadSource").SERVER_SEARCH})}c=a.canonical_group;if(c)for(var d in c)this.$12(d,c[d])};a.prototype.getNow=function(a){a=this.$10(this.$9(a));return this.$2.getResource(a)};a.prototype.$8=function(){b("Bootloader").loadModules(["MercuryThreadInformer"],function(a){a=a.getForFBID(this.$1);var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(a.subscribe("threads-deleted",function(a,b){for(var c in b)this.$4[c]&&(this.$2.setResource(this.$4[c],void 0),delete this.$4[c])}.bind(this)));this.$5=c}.bind(this),"MercuryCanonicalGroupThreadManager")};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryDeliveryState",["MercuryConfig","MercuryIDs","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryThreadInformer","UserActivity","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryConfig").delivery_timeout||12e4;a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};function a(a){this.$8=function(){if(this.$5.length===0&&Object.keys(this.$6).length===0)return;var a=this.$5.map(function(a){return a.message_id});a&&this.$2.sendDeliveryReceipts(a,this.$6);this.$6={};this.$5=[]}.bind(this),this.$1=a,this.$2=b("MercuryServerRequests").getForFBID(this.$1),this.$3=b("MercuryThreadInformer").getForFBID(this.$1),this.$4=b("MercuryThreadIDMap").getForFBID(this.$1),this.$5=[],this.$6={},this.$3.subscribe("messages-received",this.$7.bind(this)),b("UserActivity").subscribe(b("debounceAcrossTransitions")(this.$8,300,this))}a.prototype.$7=function(a,c){for(var d in c){a=c[d];a.forEach(function(a){this.$9(a)&&(this.$5.push(a),this.$4.getServerIDFromClientID(d,function(b){this.$6[b]||(this.$6[b]=[]),this.$6[b].push(a.message_id)}.bind(this)))}.bind(this))}(b("UserActivity").isActive(g)||b("gkx")("678665"))&&this.$8()};a.prototype.$9=function(a){var c=a.author?b("MercuryIDs").getUserIDFromParticipantID(a.author):null;if(c===this.$1)return!1;return!a.is_unread?!1:!0};var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryTriodeSourceUtil",["MercurySourceType","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a={getMercuryTriodeSource:function(){return b("MessengerEnvironment").messengerdotcom?b("MercurySourceType").MESSENGER_WEB:b("MercurySourceType").TITAN_WEB}};e.exports=a}),null);
__d("keyMirrorRecursive",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b){__p&&__p();var c={};i(a)||g(0,580);for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=a[d],f=b?b+"."+d:d;i(e)?e=h(e,f):e=f;c[d]=e}return c}function i(a){return a instanceof Object&&!Array.isArray(a)}e.exports=h}),null);
__d("MNCommerceActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RECEIPT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},SHIPMENT:{LOADED:null,LOAD_ERROR:null,RELOAD:null},DIALOG:{SHOW:null,HIDE:null},RETAIL_ITEM:{LOADED:null,LOAD_ERROR:null,RELOAD:null},PROMOTION_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},TRANSACTION_INVOICE:{LOADED:null,LOAD_ERROR:null,RELOAD:null},BOT_REVIEW_STATE:{LOADED:null,LOAD_ERROR:null,RELOAD:null}});e.exports=a}),null);
__d("MNCommerceDialogStateStore",["FluxStore","MessengerDispatcher","MNCommerceActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("MessengerDispatcher")),this.$MNCommerceDialogStateStore1=null,this.$MNCommerceDialogStateStore2=null}a.prototype.__onDispatch=function(a){__p&&__p();var c=a.type;switch(c){case b("MNCommerceActionTypes").DIALOG.SHOW:this.$MNCommerceDialogStateStore1=a.dialogContainer;this.$MNCommerceDialogStateStore2=a.state;this.__emitChange();break;case b("MNCommerceActionTypes").DIALOG.HIDE:this.$MNCommerceDialogStateStore1=null;this.$MNCommerceDialogStateStore2=null;this.__emitChange();break}};a.prototype.getDialogContainer=function(){return this.$MNCommerceDialogStateStore1};a.prototype.getState=function(){return this.$MNCommerceDialogStateStore2};a.__moduleID=e.id;e.exports=new a()}),null);
__d("FluxMixinLegacyInstrumentation",["FluxContainerInstrumentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.constructor.displayName||a.constructor.name||"FluxMixinLegacy(unknown)"}var h={_callCalculateState:function(){var a=b("FluxContainerInstrumentation").onCalculateStateStart(g(this)),c=this._FluxMixinLegacyInstrumentationCalculateStateCaller.apply(this,arguments);a&&a();return c},UNSAFE_componentWillMount:function(){this.constructor._FluxMixinLegacyInstrumentationOnInitCalled||(b("FluxContainerInstrumentation").onInit(this.constructor),this.constructor._FluxMixinLegacyInstrumentationOnInitCalled=!0)},_FluxMixinLegacyInstrumentationEmittedChangeStores:null,_getCurrentDispatchForInstrumentation:function(){return b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.getCurrentDispatch()},_onInitialStateForInstrumentation:function(){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.initialState(this,g(this))},_onReceivePropsForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.receiveProps(this,g(this),a)},_addStoreEmitForInstrumentation:function(a){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.shouldRecord()&&(this._FluxMixinLegacyInstrumentationEmittedChangeStores=this._FluxMixinLegacyInstrumentationEmittedChangeStores||[],b("FluxContainerInstrumentation").addStoreDependencies(this._FluxMixinLegacyInstrumentationEmittedChangeStores,a))},_collectStoreEmitsForInstrumentation:function(){var a=this._FluxMixinLegacyInstrumentationEmittedChangeStores;this._FluxMixinLegacyInstrumentationEmittedChangeStores=null;return a},_logStoreEmitsForInstrumentation:function(a,c){b("FluxContainerInstrumentation").updateTracking&&b("FluxContainerInstrumentation").updateTracking.storeEmitChange(this,g(this),a||[],c)},componentDidUpdate:function(a,c){b("FluxContainerInstrumentation").onDidUpdate(this,g(this),a,this.props,c,this.state)}};function a(a){b("FluxContainerInstrumentation").hasInstrumentation()&&(a.mixins=a.mixins||[],a.mixins.push(h),a._FluxMixinLegacyInstrumentationCalculateStateCaller=a._callCalculateState,delete a._callCalculateState);return a}e.exports={addInstrumentation:a}}),null);
__d("StoreBasedStateMixinHelper",["invariant","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=new(b("SubscriptionsHandler"))()}a.prototype.subscribeCallback=function(a,b){__p&&__p();var c=this.$1.map(function(c){__p&&__p();var d=b!=null?function(d){b&&b(c);return a(d)}:a;if(c.hasChanged&&c.getDispatchToken&&c.addListener)return c.addListener(d);else if(c.subscribe)return c.subscribe("change",d);else if(c.addListener)return c.addListener("change",d);else g(0,574)});this.$1.length>0&&this.$2.addSubscriptions.apply(this.$2,c)};a.prototype.release=function(){this.$2.release()};e.exports=a}),null);
__d("PureStoreBasedStateMixin",["invariant","FluxMixinLegacyInstrumentation","StoreBasedStateMixinHelper","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return b("FluxMixinLegacyInstrumentation").addInstrumentation({_callCalculateState:function(){return this.constructor.calculateState()},getInitialState:function(){this._onInitialStateForInstrumentation&&this._onInitialStateForInstrumentation();return this._callCalculateState()},UNSAFE_componentWillMount:function(){__p&&__p();this.constructor.calculateState||g(0,2396);this._recalculateStateID=null;var a=function(){if(this.isMounted()){var a=this._collectStoreEmitsForInstrumentation?this._collectStoreEmitsForInstrumentation():null,b=this._callCalculateState();this.setState(this._logStoreEmitsForInstrumentation!=null?function(){a!=null&&this._logStoreEmitsForInstrumentation&&this._logStoreEmitsForInstrumentation(a);return b}.bind(this):b)}this._recalculateStateID=null}.bind(this);this._mixin=new(b("StoreBasedStateMixinHelper"))(c);this._mixin.subscribeCallback(function(){this._recalculateStateID===null&&(this._recalculateStateID=b("setImmediate")(a))}.bind(this),this._addStoreEmitForInstrumentation)},componentWillUnmount:function(){this._mixin.release(),this._mixin=null}})}.bind(this);e.exports=a}),null);
__d("MNCommerceDialogContainer.react",["MNCommerceDialogStateStore","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"MNCommerceDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("MNCommerceDialogStateStore"))],statics:{calculateState:function(){var a=b("MNCommerceDialogStateStore").getDialogContainer();return{dialogContainer:a}}},render:function(){var a=this.state.dialogContainer;return!a?null:b("React").createElement(a,null)}});e.exports=a}),null);
__d("MessengerRTCMessageHandler",["Bootloader","FBRTCCallSummaryUploader","FBRTCExperiment","FBRTCMessageListener","URI","isFacebookURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1,h=!1,i=!1;function j(){b("isFacebookURI")(new(b("URI"))(window.top.location.href))&&b("FBRTCExperiment").getIncomingCallExperiments().logExposure()}a={init:function(){b("FBRTCCallSummaryUploader").init(),b("FBRTCMessageListener").init(!1),b("FBRTCMessageListener").once("messageReceived",function(a){k()}),b("FBRTCMessageListener").once("multiwayMessageReceived",function(a){l(a)}),b("FBRTCMessageListener").once("bonfireMessageReceived",function(a){m(a)})}};function k(){g||(g=!0,j(),b("Bootloader").loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","FBRTCUnsupportedBrowserMessage"],function(a,c,d,e){var f=new a(c,e,d);b("FBRTCMessageListener").setMessageHandler(function(a){f.onMessageReceived(a)})},"MessengerRTCMessageHandler"))}function l(a){h||(h=!0,j(),b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(c,d){var e=new c(d,!1);b("FBRTCMessageListener").setMultiwayMessageHandler(function(a){e.onMessageReceived(a)});e.onMessageReceived(a)},"MessengerRTCMessageHandler"))}function m(a){i||(i=!0,j(),b("Bootloader").loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(c,d){var e=new c(d);b("FBRTCMessageListener").setBonfireMessageHandler(function(a){e.onBonfireMessageReceived(a)});e.onBonfireMessageReceived(a)},"MessengerRTCMessageHandler"))}e.exports=a}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","RTWebStrings","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactImageReact.bs").jsComponent,k=(a={},a[b("FBRTCParticipantCallState").DISCONNECTED]=b("RTWebStrings").disconnected,a[b("FBRTCParticipantCallState").NO_ANSWER]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").REJECTED]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").UNREACHABLE]=b("RTWebStrings").unreachable,a[b("FBRTCParticipantCallState").CONNECTION_DROPPED]=b("RTWebStrings").connectionDropped,a[b("FBRTCParticipantCallState").CONTACTING]=b("RTWebStrings").contacting,a[b("FBRTCParticipantCallState").RINGING]=b("RTWebStrings").ringing,a[b("FBRTCParticipantCallState").CONNECTING]=b("RTWebStrings").connecting,a[b("FBRTCParticipantCallState").CONNECTED]=b("RTWebStrings").connected,a[b("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=b("RTWebStrings").participantLimitReached,a[b("FBRTCParticipantCallState").IN_ANOTHER_CALL]=b("RTWebStrings").inAnotherCall,a),l=32;c=function(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;a=a.participantState;return b("React").createElement(b("Link.react"),{"aria-checked":c,className:"_4nvn",onClick:o(a)?b("emptyFunction"):d,"data-testid":f,role:"checkbox"},b("React").createElement(j,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),b("React").createElement("div",{className:"_4nvs"},b("React").createElement("div",{className:"_4nvt"},b("React").createElement("div",{className:"_4nv_"},e.userName),b("React").createElement(m,{user:e,participantState:a})),b("React").createElement(n,{isSelected:c,participantState:a})))};var m=function(a){var c=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Unknown");return b("React").createElement("div",{className:"_4nw0"},a)}return c.vanity?b("React").createElement("div",{className:"_4nw0"},"@",c.vanity):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return b("React").createElement("div",{className:"_1j79"},h._("In Call"));else if(c)return b("React").createElement("div",{className:"_1j79"},b("React").createElement(b("Image.react"),{src:i("86852")}));return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}e.exports=c}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers;a=a.participantStates;var f=a===void 0?b("immutable").Map():a;a=e.map(function(a){return b("React").createElement(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),key:a.FBID,onClick:function(){return d(a.FBID)},user:a,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM+a.FBID,participantState:f.get(a.FBID)})});return b("React").createElement(b("MessengerScrollableArea.react"),{className:"_12zw"},a)};e.exports=a}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("MessengerThreadImageReact.bs").jsComponent,k=function(){return b("React").createElement("div",{className:"_1apf"},h._("People you add to this group video will see previous messages in this conversation."))},l=function(){return b("React").createElement("div",{className:"_1ydy"},h._("You are about to ring people you've blocked."))};a=function(a){var c=a.thread,d=a.displayAddMemberWarning,e=a.displayBlockedMemberWarning,f=a.participants,g=a.viewerID;babelHelpers.objectWithoutPropertiesLoose(a,["thread","displayAddMemberWarning","displayBlockedMemberWarning","participants","viewerID"]);return b("React").createElement("div",{className:"_5y31"},c&&c.image_src?b("React").createElement(j,{className:"_5y32",participants:f,thread:c,viewer:g}):b("React").createElement(i,{className:"_5y32",showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(f.toJS()),size:50})),b("React").createElement("div",{className:"_5y34"},c&&c.name?b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_5y37",thread:c,viewer:g}):b("React").createElement(b("RTCCallTitle.react"),{className:"_5y37",participants:f,viewer:g}),d?b("React").createElement(k,null):null,e?b("React").createElement(l,null):null))};e.exports=a}),null);
__d("WorkchatAppKeyboardShortcut.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("immutable").List;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2_xt _4lrb"},b("React").createElement("div",{className:"_4lrc"},this.props.label),b("React").createElement("div",{className:"_4lrl"},this.props.keys.map(function(a){return b("React").createElement("span",{className:"_4lrm",key:a},a)})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("WorkchatAppKeyboardShortcutsDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogHeaderReact.re","MessengerDialogs.re","MessengerDialogTitleReact.re","React","WorkchatAppKeyboardShortcut.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerDialogHeaderReact.re").component,k=b("MessengerDialogTitleReact.re").component,l=b("immutable").List,m=function(a){return a==="darwin"?{CmdOrCtrl:"\u2318",Alt:"\u2387",Shift:"\u21e7",Tab:"\u21b9",Up:"\u2191",Down:"\u2193"}:{CmdOrCtrl:"Ctrl",Alt:"Alt",Shift:"Shift",Tab:"Tab",Up:"\u2191",Down:"\u2193"}},n=function(a){a=m(a);return l([{Header:"General",Shortcuts:l([{label:h._("Create new chat"),keys:l([a.CmdOrCtrl,"N"])},{label:h._("Search chats"),keys:l([a.CmdOrCtrl,"K"])},{label:h._("Show\/hide notifications"),keys:l([a.CmdOrCtrl,"/"])}])},{Header:"Navigation",Shortcuts:l([{label:h._("Go to previous chat"),keys:l([a.Alt,a.Up])},{label:h._("Go to next chat"),keys:l([a.Alt,a.Down])},{label:h._("Go to next element"),keys:l([a.Tab])},{label:h._("Open\/select element"),keys:l(["Spacebar"])}])},{Header:"In a Conversation",Shortcuts:l([{label:h._("Show\/hide information"),keys:l([a.CmdOrCtrl,"."])},{label:h._("Mute\/unmute chat"),keys:l([a.CmdOrCtrl,a.Shift,"M"])},{label:h._("Find in chat"),keys:l([a.CmdOrCtrl,"F"])}])},{Header:"During a Call",Shortcuts:l([{label:h._("Toggle mute"),keys:l(["M"])},{label:h._("Toggle video"),keys:l(["V"])}])}])};i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=n(this.props.platform);return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.$1,type:"default",width:560},b("React").createElement(j,null,b("React").createElement(k,null,h._("Keyboard Shortcuts")),b("React").createElement(b("MessengerDialogButton.react"),{action:"cancel",label:h._("Done"),type:"primary",use:"default"})),b("React").createElement(b("MessengerDialogBody.react"),null,this.$2(a)))};a.prototype.$2=function(a){return b("React").createElement("div",{className:"_4yne"},a.map(function(a,c){return b("React").createElement("div",{className:"_2_xt"+(c!==0?" _4ynf":""),key:a.Header},b("React").createElement("div",{className:"_4ynr"},a.Header),b("React").createElement("div",null,a.Shortcuts.map(function(a){return b("React").createElement(b("WorkchatAppKeyboardShortcut.react"),{key:a.label,keys:a.keys,label:a.label})})))}))};a.prototype.$1=function(a){a||b("MessengerDialogs.re").removeDialog({})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("DOMScroll",["Arbiter","Bootloader","DOM","DOMQuery","Run","Vector","ViewportBounds","emptyFunction","ge","ifRequired","isAsyncScrollQuery","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["Animation"],b("emptyFunction"),"DOMScroll")});var g={SCROLL:"dom-scroll",_scrolling:!1,_scrollingFinishedTimeout:null,getScrollState:function(){var a=b("Vector").getViewportDimensions(),c=b("Vector").getDocumentDimensions(),d=c.x>a.x;c=c.y>a.y;d+=0;c+=0;return new(b("Vector"))(d,c)},_scrollbarSize:null,_initScrollbarSize:function(){__p&&__p();var a=b("DOM").create("p");a.style.width="100%";a.style.height="200px";var c=b("DOM").create("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(a);b("nullthrows")(document.body).appendChild(c);var d=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;d==a&&(a=c.clientWidth);b("nullthrows")(document.body).removeChild(c);g._scrollbarSize=d-a},getScrollbarSize:function(){g._scrollbarSize===null&&g._initScrollbarSize();return b("nullthrows")(g._scrollbarSize)},scrollTo:function(a,c,d,e,f,h){__p&&__p();var i,j=0;c==null||c===!0?j=750:typeof c==="number"?j=c:parseInt(c,10)&&(j=parseInt(c,10));b("isAsyncScrollQuery")()&&(j=0);var k;if(a instanceof b("Vector"))k=a;else{c=b("Vector").getScrollPosition().x;a=b("Vector").getElementPosition(b("ge")(a)).y;k=new(b("Vector"))(c,a,"document");e||(k.y-=b("ViewportBounds").getTop()/(d?2:1))}d?k.y-=b("Vector").getViewportDimensions().y/2:e&&(k.y-=b("Vector").getViewportDimensions().y,k.y+=e);f&&(k.y-=f);k=k.convertTo("document");if(j)if("scrollBehavior"in b("nullthrows")(document.documentElement).style&&j===750&&!h)try{window.scrollTo({left:k.x,top:k.y,behavior:"smooth"})}catch(a){window.scrollTo(k.x,k.y)}else{var l=b("ifRequired")("Animation",function(a){g._setScrollingForDuration(j);return new a(b("nullthrows")(document.body)).to("scrollTop",k.y).to("scrollLeft",k.x).ease(a.ease.end).duration(j).ondone(h).go()},function(){window.scrollTo(k.x,k.y),h&&h()});l&&(i=function(){l.stop()})}else window.scrollTo(k.x,k.y),h&&h();b("Arbiter").inform(g.SCROLL);return i||b("emptyFunction")},scrollToID:function(a){g.scrollTo(a)},ensureVisible:function(a,c,d,e,f){var h=b("Vector").getScrollPosition().x;a=this._getBounds(a,c,d);c=a[0];d=a[1];var i=a[2];a=a[3];i<c?g.scrollTo(new(b("Vector"))(h,i,"document"),e,!1,0,0,f):a>d?i-(a-d)<c?g.scrollTo(new(b("Vector"))(h,i,"document"),e,!1,0,0,f):g.scrollTo(new(b("Vector"))(h,a,"document"),e,!1,1,0,f):f&&f()},isCurrentlyVisible:function(a,b,c){a=this._getBounds(a,b,c);b=a[0];c=a[1];var d=a[2];a=a[3];return d>=b&&a<=c},_getBounds:function(a,c,d){__p&&__p();d==null&&(d=10);a=b("ge")(a);c&&(a=b("DOMQuery").find(a,c));c=b("Vector").getScrollPosition().y;var e=c+b("Vector").getViewportDimensions().y,f=b("Vector").getElementPosition(a).y;a=f+b("Vector").getElementDimensions(a).y;f-=b("ViewportBounds").getTop();f-=d;a+=d;return[c,e,f,a]},scrollToTop:function(a){var c=b("Vector").getScrollPosition();g.scrollTo(new(b("Vector"))(c.x,0,"document"),a!==!1)},currentlyScrolling:function(){return g._scrolling},_setScrollingForDuration:function(a){g._scrolling=!0,g._scrollingFinishedTimeout&&(clearTimeout(g._scrollingFinishedTimeout),g._scrollingFinishedTimeout=null),g._scrollingFinishedTimeout=setTimeout(function(){g._scrolling=!1,g._scrollingFinishedTimeout=null},a)}};e.exports=g}),null);
__d("FullScreen",["ArbiterMixin","CSS","Event","Keys","UserAgent","UserAgent_DEPRECATED","mixin","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i=!1,j=function(a){b("Event").getKeyCode(a)===b("Keys").ESC&&a.stopPropagation()},k=function(){i||(document.addEventListener("keydown",j,!0),i=!0)},l=function(){i&&(document.removeEventListener("keydown",j,!0),i=!1)};g=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g&&g.prototype;a.prototype.listenForEvent=function(a){"use strict";var c=b("throttle")(this.onChange,0,this);h[a.id]||(h[a.id]=!0,b("Event").listen(a,{webkitfullscreenchange:c,mozfullscreenchange:c,MSFullscreenChange:c,fullscreenchange:c}))};a.prototype.enableFullScreen=function(a){"use strict";__p&&__p();this.listenForEvent(a);if(a.webkitRequestFullScreen)b("UserAgent_DEPRECATED").chrome()?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else if(a.msRequestFullscreen)k(),a.msRequestFullscreen();else if(a.requestFullScreen)a.requestFullScreen();else return!1;return!0};a.prototype.disableFullScreen=function(){"use strict";__p&&__p();if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.exitFullScreen)document.exitFullScreen();else return!1;return!0};a.prototype.isFullScreen=function(){"use strict";return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement};a.prototype.toggleFullScreen=function(a){"use strict";if(this.isFullScreen()){this.disableFullScreen();return!1}else return this.enableFullScreen(a)};a.prototype.onChange=function(){"use strict";var a=this.isFullScreen();b("CSS").conditionClass(document.body,"fullScreen",a);this.inform("changed");a||l()};a.prototype.isSupportedWithKeyboardInput=function(){"use strict";return this.isSupported()&&!b("UserAgent").isBrowser("Safari")};a.prototype.isSupported=function(){"use strict";var a=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return a||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen};function a(){"use strict";g.apply(this,arguments)}c=new a();d=b("throttle")(c.onChange,0,c);b("Event").listen(document,{webkitfullscreenchange:d,mozfullscreenchange:d,MSFullscreenChange:d,fullscreenchange:d});e.exports=c}),null);
__d("XReferer",["Base64","Cookie","FBJSON","URI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g={update:function(a,c,d){__p&&__p();if(!d){b("Cookie").set("x-referer","");return}a!=null&&(a=g.truncatePath(a));c!=null&&(c=g.truncatePath(c));var e=window.location.pathname+window.location.search;d=b("URI").getRequestURI();var f=d.getSubdomain();c!=null&&g._setCookie(c,e,f);a!=null&&b("setTimeoutAcrossTransitions")(function(){a!=null&&g._setCookie(a,e,f)},0)},_setCookie:function(a,c,d){a={r:a,h:c,s:d};c=b("Base64").encode(b("FBJSON").stringify(a));b("Cookie").set("x-referer",c)},truncatePath:function(a){var b=1024;a&&a.length>b&&(a=a.substring(0,b)+"...");return a}};e.exports=g}),null);
__d("goOrReplace",[],(function(a,b,c,d,e,f){function a(a,b,c){c?a.replace(b):a.href==b?a.reload():a.href=b}e.exports=a}),null);
__d("HistoryManager",["SessionName","Env","Event","SprinkleConfig","URI","UserAgent_DEPRECATED","XReferer","emptyFunction","gkx","goOrReplace","isInIframe","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();b("SessionName").getName();var g={history:null,current:0,fragment:null,isInitialized:function(){return!!g._initialized},init:function(){__p&&__p();if(!b("Env").ALLOW_TRANSITION_IN_IFRAME&&b("isInIframe")())return;if(g._initialized)return g;var a=new(b("URI"))(window.location.href),c=a.getFragment()||"";c.charAt(0)==="!"&&(c=c.substr(1),a.setFragment(c));Object.assign(g,{_initialized:!0,fragment:c,orig_fragment:c,history:[a],callbacks:[],lastChanged:Date.now(),canonical:new(b("URI"))("#"),user:0,enabled:!0,debug:b("emptyFunction")});if(window.history&&history.pushState){this.lastURI=document.URL;if(b("gkx")("678676")){c=new(b("URI"))(this.lastURI);a=c.getQueryData();a.__md__=void 0;a.__xts__=void 0;a.fb_dtsg_ag=void 0;a[b("SprinkleConfig").param_name]=void 0;this.lastURI=c.setQueryData(a).toString()}try{b("gkx")("819236")?window.history.replaceState(history.state,null,this.lastURI):window.history.replaceState(this.lastURI,null,this.lastURI)}catch(a){if(!(a.number===-2147467259))throw a}b("Event").listen(window,"popstate",function(a){var c=a&&a.state&&typeof a.state==="string";c&&g.lastURI!=a.state&&(g.lastURI=a.state,g.lastChanged=Date.now(),g.notify(new(b("URI"))(a.state).getUnqualifiedURI().toString()))}.bind(g));(b("UserAgent_DEPRECATED").webkit()<534||b("UserAgent_DEPRECATED").chrome()<=13)&&(b("setIntervalAcrossTransitions")(g.checkURI,42),g._updateRefererURI(this.lastURI));return g}g._updateRefererURI(b("URI").getRequestURI(!1));if(b("UserAgent_DEPRECATED").webkit()<500||b("UserAgent_DEPRECATED").firefox()<2){g.enabled=!1;return g}"onhashchange"in window?b("Event").listen(window,"hashchange",function(){window.setTimeout(g.checkURI.bind(g),0)}):b("setIntervalAcrossTransitions")(g.checkURI,42);return g},registerURIHandler:function(a){g.callbacks.push(a);return g},setCanonicalLocation:function(a){g.canonical=new(b("URI"))(a);return g},notify:function(a){a==g.orig_fragment&&(a=g.canonical.getFragment());for(var b=0;b<g.callbacks.length;b++)try{if(g.callbacks[b](a))return!0}catch(a){}return!1},checkURI:function(){__p&&__p();if(Date.now()-g.lastChanged<400)return;if(window.history&&history.pushState){var a=new(b("URI"))(document.URL).removeQueryData("ref").toString(),c=new(b("URI"))(g.lastURI).removeQueryData("ref").toString();a!=c&&(g.lastChanged=Date.now(),g.lastURI=a,b("UserAgent_DEPRECATED").webkit()<534&&g._updateRefererURI(a),g.notify(new(b("URI"))(a).getUnqualifiedURI().toString()));return}if(b("UserAgent_DEPRECATED").webkit()&&window.history.length==200){g.warned||(g.warned=!0);return}c=new(b("URI"))(window.location.href).getFragment();c.charAt(0)=="!"&&(c=c.substr(1));c=c.replace(/%23/g,"#");if(c!=g.fragment.replace(/%23/g,"#")){g.debug([c," vs ",g.fragment,"whl: ",window.history.length,"QHL: ",g.history.length].join(" "));for(var a=g.history.length-1;a>=0;--a)if(g.history[a].getFragment().replace(/%23/g,"#")==c)break;++g.user;a>=0?g.go(a-g.current):g.go("#"+c);--g.user}},_updateRefererURI:function(a){a instanceof b("URI")&&(a=a.toString()),b("XReferer").update(a,null,!0)},go:function(a,c,d){__p&&__p();if(window.history&&history.pushState){c||typeof a==="number";var e=new(b("URI"))(a).removeQueryData(["ref","messaging_source","ajaxpipe_fetch_stream","fb_dtsg_ag",b("SprinkleConfig").param_name]).toString();g.lastChanged=Date.now();this.lastURI=e;d?window.history.replaceState(a,null,e):window.history.pushState(a,null,e);b("UserAgent_DEPRECATED").webkit()<534&&g._updateRefererURI(a);return!1}g.debug("go: "+a);c===void 0&&(c=!0);if(!g.enabled&&!c)return!1;if(typeof a==="number"){if(!a)return!1;e=a+g.current;var f=Math.max(0,Math.min(g.history.length-1,e));g.current=f;e=g.history[f].getFragment()||g.orig_fragment;e=new(b("URI"))(e).removeQueryData("ref").getUnqualifiedURI().toString();g.fragment=e;g.lastChanged=Date.now();g.user||b("goOrReplace")(window.location,window.location.href.split("#")[0]+"#!"+e,d);c&&g.notify(e);g._updateRefererURI(e);return!1}a=new(b("URI"))(a);a.getDomain()==new(b("URI"))(window.location.href).getDomain()&&(a=new(b("URI"))("#"+a.getUnqualifiedURI()));f=g.history[g.current].getFragment();e=a.getFragment();if(e==f||f==g.orig_fragment&&e==g.canonical.getFragment()){c&&g.notify(e);g._updateRefererURI(e);return!1}d&&g.current--;f=g.history.length-g.current-1;g.history.splice(g.current+1,f);g.history.push(new(b("URI"))(a));return g.go(1,c,d)},getCurrentFragment:function(){var a=b("URI").getRequestURI(!1).getFragment();return a==g.orig_fragment?g.canonical.getFragment():a}};e.exports=g}),null);
__d("escapeJSQuotes",[],(function(a,b,c,d,e,f){function a(a){return typeof a==="undefined"||a==null||!a.valueOf()?"":a.toString().replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,"\\x22").replace(/\'/g,"\\'").replace(/</g,"\\x3c").replace(/>/g,"\\x3e").replace(/&/g,"\\x26")}e.exports=a}),null);
__d("PageTransitions",["fbt","invariant","Arbiter","BlueCompatRouter","Bootloader","DOMQuery","DOMScroll","ErrorUtils","Event","HistoryManager","JSLogger","LayerHideOnEscape","PageHooks","PageNavigationStageLogger","PageTransitionsConfig","PageTransitionsRegistrar","React","ScriptPath","URI","Vector","areEqual","clickRefAction","escapeJSQuotes","ge","goOrReplace","isFacebookURI","isInIframe","setTimeout"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=["mh_","killabyte","tfc_","tfi_"],j={};function k(a,b){a&&(j[a.getUnqualifiedURI().toString()]=b)}function l(a){return j[a.getUnqualifiedURI().toString()]}function m(a){delete j[a.getUnqualifiedURI().toString()]}function n(){var a={};window.location.search.slice(1).split("&").forEach(function(b){b=b.split("=");var c=b[0];b=b[1];i.some(function(a){return c.startsWith(a)})&&(a[c]=b)});return a}var o={_current_uri:null,_initialized:!1,_most_recent_uri:new(b("URI"))(),_next_referrer_uri:null,_next_uri:new(b("URI"))(),_referrer_uri:null,_scroll_locked:!1,_transitions_disabled:!1,isInitialized:function(){return!!o._initialized},init:function(){o._init()},_init:function(){__p&&__p();if(b("isInIframe")())return!1;if(o._initialized)return!0;var a=b("PageTransitionsRegistrar").getMostRecentURI();o._current_uri=a;o._most_recent_uri=a;o._next_referrer_uri=null;o._next_uri=a;var c=b("ErrorUtils").applyWithGuard(function(a){return new(b("URI"))(a)},null,[document.referrer]);o._referrer_uri=document.referrer&&c&&b("isFacebookURI")(c)?c:null;o._initialized=!0;c=b("URI").getRequestURI(!1);c.getFragment().startsWith("/")?c=c.getFragment():c=a.toString();b("HistoryManager").init().setCanonicalLocation("#"+c).registerURIHandler(o._historyManagerHandler);b("Event").listen(window,"scroll",function(){o._scroll_locked||k(o._current_uri,b("Vector").getScrollPosition())});return!0},registerHandler:b("PageTransitionsRegistrar").registerHandler,removeHandler:b("PageTransitionsRegistrar").removeHandler,getCurrentURI:function(a){a===void 0&&(a=!1);this._init();return!o._current_uri&&!a?new(b("URI"))(o._most_recent_uri):new(b("URI"))(o._current_uri)},isTransitioning:function(){this._init();return!o._current_uri},getNextURI:function(){this._init();return this._next_uri},getNextReferrerURI:function(){this._init();return this._next_referrer_uri},getReferrerURI:function(){this._init();return this._referrer_uri},getMostRecentURI:function(){this._init();return new(b("URI"))(o._most_recent_uri)},go:function(a,c){__p&&__p();c===void 0&&(c=!1);if(b("BlueCompatRouter").go(a))return;this._init();var d=n(),e=new(b("URI"))(a).removeQueryData("quickling").addQueryData(d).getQualifiedURI();b("JSLogger").create("pagetransition").debug("go",{uri:e.toString()});m(e);c||b("clickRefAction")("uri",{href:e.toString()},null,"INDIRECT");o._loadPage(e,function(a){a?b("HistoryManager").go(e.toString(),!1,c):(b("PageNavigationStageLogger").setNote("pt_not_handled"),b("PageNavigationStageLogger").updateCookie(),b("goOrReplace")(window.location,e,c))})},_historyManagerHandler:function(a){if(a.charAt(0)!="/")return!1;b("clickRefAction")("h",{href:a});b("ScriptPath").getClickPointInfo()||b("ScriptPath").setClickPointInfo({click:"back"});o._loadPage(new(b("URI"))(a),function(c){c||(b("PageNavigationStageLogger").setNote("hist_manager_fallback"),b("goOrReplace")(window.location,a,!0))});return!0},_loadPage:function(a,c){__p&&__p();if(new(b("URI"))(a).getFragment()&&b("areEqual")(new(b("URI"))(a).setFragment(null).getQualifiedURI(),new(b("URI"))(o._current_uri).setFragment(null).getQualifiedURI())){b("Arbiter").inform("pre_page_fragment_transition",{from:new(b("URI"))(o._current_uri).getFragment(),to:new(b("URI"))(a).getFragment()});if(o.restoreScrollPosition(a)){o._current_uri=o._most_recent_uri=a;b("Arbiter").inform("page_fragment_transition",{fragment:new(b("URI"))(a).getFragment()});return}}b("PageNavigationStageLogger").setCookieForNavigation(a);var d;o._current_uri&&(d=l(o._current_uri));var e=function(){d&&o._current_uri&&k(o._current_uri,d);o._next_referrer_uri=o.getMostRecentURI();o._current_uri=null;o._next_uri=a;d&&b("DOMScroll").scrollTo(d,!1);o._scroll_locked=!0;var e=o._handleTransition(a);c&&(e===b("PageTransitionsRegistrar").DELAY_HISTORY?b("setTimeout")(function(){return c&&c(e)},0):c(e))},f=o._next_uri;o._next_uri=a;var g=b("PageHooks").runHooks("onbeforeleavehooks");o._next_uri=f;g?o._warnBeforeLeaving(g,e):e()},_handleTransition:function(c){__p&&__p();window.onbeforeleavehooks=void 0;if(o._transitions_disabled||!c.isSameOrigin()){b("PageNavigationStageLogger").setNote("pt_disabled");return!1}var d=b("PageTransitionsConfig").reloadOnBootloadError&&this._hasBootloadErrors();if(d){b("PageNavigationStageLogger").setNote("bl_err");return!1}var e;d=a.AsyncRequest;d&&(e=d.getLastID());b("Arbiter").inform("pre_page_transition",{from:o.getMostRecentURI(),to:c});d=b("PageTransitionsRegistrar")._getTransitionHandlers();for(var f=d.length-1;f>=0;--f){var g=d[f];if(!g)continue;for(var h=g.length-1;h>=0;--h){var i=g[h](c);if(i===!0||i===b("PageTransitionsRegistrar").DELAY_HISTORY){var j={sender:this,uri:c,id:e};try{b("Arbiter").inform("page_transition",j)}catch(a){}return i}else g.splice(h,1)}}return!1},disableTransitions:function(){o._transitions_disabled=!0},_hasBootloadErrors:function(){return b("Bootloader").getErrorUrls().length>0},unifyURI:function(){this._init(),o._current_uri=o._most_recent_uri=o._next_uri,o._referrer_uri=o._next_referrer_uri},transitionComplete:function(a){a===void 0&&(a=!1);this._init();o._scroll_locked=!1;o._executeCompletionCallbacks();o.unifyURI();a||o._current_uri&&o.restoreScrollPosition(o._current_uri);try{document.activeElement&&document.activeElement.nodeName==="A"&&document.activeElement.blur()}catch(a){}},_executeCompletionCallbacks:function(){var a=b("PageTransitionsRegistrar")._getCompletionCallbacks();a.length>0&&(b("PageTransitionsRegistrar")._resetCompletionCallbacks(),a.forEach(function(a){return a()}))},registerCompletionCallback:b("PageTransitionsRegistrar").registerCompletionCallback,rewriteCurrentURI:function(a,c){__p&&__p();this._init();var d=b("PageTransitionsRegistrar")._getTransitionHandlers(),e=d.length||1,f=!1;b("PageTransitionsRegistrar").registerHandler(function(){if(a&&a.toString()==o.getMostRecentURI().getUnqualifiedURI().toString()){o.transitionComplete();return!0}f=!0},e);o.go(c,!0);d.length===e+1&&d[e].length===(f?0:1)||h(0,1302);d.length=e},_warnBeforeLeaving:function(a,c){b("Bootloader").loadModules(["DialogX","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react"],function(d,e,f,h,i,j){var k=new d({width:450,addedBehaviors:[b("LayerHideOnEscape")]},b("React").createElement("div",null,b("React").createElement(e,{showCloseButton:!1},g._("Leave Page?")),b("React").createElement(f,null,b("React").createElement(j,{shade:"medium",size:"medium"},a)),b("React").createElement(i,null,b("React").createElement(h,{action:"cancel",label:g._("Stay on This Page")}),b("React").createElement(h,{action:"confirm",use:"confirm",label:g._("Leave This Page")}))));k.subscribe("confirm",function(){k.hide(),c()});k.show()},"PageTransitions")},restoreScrollPosition:function(a){__p&&__p();var c=l(a);if(c){b("DOMScroll").scrollTo(c,!1);return!0}function d(a){if(!a)return null;var c="a[name='"+b("escapeJSQuotes")(a)+"']";return b("DOMQuery").scry(document.body,c)[0]||b("ge")(a)}c=d(new(b("URI"))(a).getFragment());if(c){b("DOMScroll").scrollTo(c);return!0}return!1}};e.exports=o;a.PageTransitions=o}),null);
__d("deepFreezeValue",["ImmutableValue"],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a===null||a===void 0)return;switch(typeof a){case"string":return;case"boolean":return;case"number":return;case"function":return;default:b("ImmutableValue").deepFreezeRootNode(a)}}e.exports=a}),null);
__d("NotificationSound",["Sound"],(function(a,b,c,d,e,f){__p&&__p();var g=5e3;b("Sound").init(["audio/mpeg"]);function a(a){this._soundPath=a,this._lastPlayed=0}Object.assign(a.prototype,{play:function(a){if(!this._soundPath)return;var c=Date.now();if(c-this._lastPlayed<g)return;this._lastPlayed=c;b("Sound").playOnlyIfImmediate(this._soundPath,a,!1)}});e.exports=a}),null);
__d("P2PActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CREDIT_CARDS_UPDATED:"credit_cards_updated",CREDIT_CARDS_UPDATED_ERROR:"credit_cards_updated_error",CHANNEL_EVENTS_ALLOWED:"channel_events_allowed",CHANNEL_EVENTS_IGNORED:"channel_events_ignored",CREDIT_CARD_SAVING:"credit_card_saving",CREDIT_CARD_ADDED:"credit_card_added",CREDIT_CARD_ADDED_ERROR:"credit_card_added_error",CREDIT_CARD_ADDED_ERROR_CLEARED:"credit_card_added_error_cleared",CREDIT_CARD_DELETED:"credit_card_deleted",CREDIT_CARD_DELETED_ERROR:"credit_card_deleted_error",CREDIT_CARD_UPDATED:"credit_card_updated",CREDIT_CARD_UPDATED_ERROR:"credit_card_updated_error",PRESET_CREDIT_CARD_UPDATED:"preset_credit_card_updated",PRESET_CREDIT_CARD_UPDATED_ERROR:"preset_credit_card_updated_error",CREDIT_CARD_VERIFIED:"credit_card_verified",CREDIT_CARD_VERIFIED_ERROR:"credit_card_verified_error",PAYMENT_METHODS_UPDATED:"payment_methods_updated",PAYMENT_METHODS_UPDATED_ERROR:"payment_methods_updated_error",TRANSFERS_UPDATED:"transfers_updated",TRANSFERS_UPDATED_ERROR:"transfers_updated_error",NUX_TRANSFERS_UPDATED:"nux_transfers_updated",TRANSFER_ADDED:"transfer_added",TRANSFER_ADDED_ERROR:"transfer_added_error",TRANSFER_UPDATED:"transfer_updated",TRANSFER_UPDATED_ERROR:"transfer_updated_error",TRANSFER_ACCEPTED:"transfer_accepted",TRANSFER_DECLINED:"transfer_declined",CHAT_SEND_VIEW_OPENED:"chat_send_view_opened",CHAT_SEND_VIEW_CLOSED:"chat_send_view_closed",BIN_NUMBER_VALIDATED:"bin_number_validated",BIN_NUMBER_VALIDATED_ERROR:"bin_number_validated_error",USER_ELIGIBILITY_UDPATED:"user_eligibility_updated",FRIENDS_LIST_UPDATED:"friends_list_updated",DIALOG_SHOWN:"dialog_shown",DIALOG_CLOSED:"dialog_closed",BANNER_STATES_UPDATED:"banner_states_updated",BANNER_DISMISSED:"banner_dismissed",BANNER_VIEWED:"banner_viewed",BANNER_COMPLETED:"banner_completed",PLATFORM_CONTEXT_ADDED:"platform_context_added",PLATFORM_CONTEXT_BANNER_DISMISSED:"platform_context_banner_dismissed",PLATFORM_CONTEXT_PRODUCT_ITEM_SOLD:"platform_context_product_item_sold",PLATFORM_CONTEXT_CHANGED:"platform_context_changed",EXTENSIVE_TRANSFER_DETAILS_UPDATED:"extensive_transfer_details_updated",PAYMENT_REQUEST_INITIATED:"payment_request_initiated",PAYMENT_REQUEST_INITIATED_COMPLETE:"payment_request_initiated_completed",PAYMENT_REQUEST_CREATED:"payment_request_created",PAYMENT_REQUEST_CREATED_ERROR:"payment_request_created_error",PAYMENT_REQUEST_UPDATED:"payment_request_updated",PAYMENT_REQUEST_DECLINE_INITIATED:"payment_request_decline_initiated",PAYMENT_REQUEST_DECLINED:"payment_request_declined",PAYMENT_REQUEST_DECLINE_ERROR:"payment_request_decline_error",PAYMENT_REQUESTS_FETCHED:"payment_requests_fetched",PAYMENT_REQUEST_CANCEL_INITIATED:"payment_request_cancel_initiated",PAYMENT_REQUEST_CANCELED:"payment_request_canceled",PAYMENT_REQUEST_CANCEL_ERROR:"payment_request_cancel_error"});e.exports=a}),null);
__d("ExplicitRegistrationReactDispatcher",["ExplicitRegistrationDispatcher","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(a,b("ExplicitRegistrationDispatcher"));h=g&&g.prototype;a.prototype.dispatch=function(a){b("ReactDOM").unstable_batchedUpdates(function(){h.dispatch.call(this,a)}.bind(this))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("P2PDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!1})}),null);
__d("P2PDialogStore",["EventEmitter","P2PActionConstants","P2PDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),b("P2PDispatcher").register(this.onEventDispatched.bind(this)),h={dialogClass:null,dialogProps:null}}a.prototype.getState=function(){return h};a.prototype.onEventDispatched=function(a){__p&&__p();var c=a.type;a=a.data;switch(c){case b("P2PActionConstants").DIALOG_SHOWN:h.dialogClass=a.dialogClass;h.dialogProps=a.dialogProps;this.emit("change");break;case b("P2PActionConstants").DIALOG_CLOSED:h.dialogClass=null;h.dialogProps=null;this.emit("change");break}};e.exports=new a()}),null);
__d("P2PDialogContainer.react",["P2PDialogStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state=b("P2PDialogStore").getState(),this.onDialogStoreChange=function(){this.setState(b("P2PDialogStore").getState())}.bind(this),c}a.prototype.componentDidMount=function(){this.dialogStoreSub=b("P2PDialogStore").addListener("change",this.onDialogStoreChange)};a.prototype.componentWillUnmount=function(){this.dialogStoreSub&&(this.dialogStoreSub.remove(),this.dialogStoreSub=null)};a.prototype.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};e.exports=a}),null);
__d("PagesPlatformActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BOOKING_REQUEST_ACCEPT_ERROR:"booking_request_accept_error",BOOKING_REQUEST_ACCEPT_INITIATED:"booking_request_accept_initiated",BOOKING_REQUEST_ACCEPTED:"booking_request_accepted",BOOKING_REQUEST_CREATED:"booking_request_created",BOOKING_REQUEST_DECLINE_ERROR:"booking_request_decline_error",BOOKING_REQUEST_DECLINE_INITIATED:"booking_request_decline_initiated",BOOKING_REQUEST_DECLINED:"booking_request_declined",BOOKING_REQUEST_RESCHEDULE_INITIATED:"booking_request_reschedule_initiated",BOOKING_REQUEST_RESCHEULED:"booking_request_reschedule",DIALOG_CLOSED:"dialog_closed",DIALOG_SHOWN:"dialog_shown",NEW_TIME_CHOSEN:"new_time_chosen"});e.exports=a}),null);
__d("PagesPlatformRequestDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("PagesPlatformDialogStore",["EventEmitter","PagesPlatformActionConstants","PagesPlatformRequestDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={};c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),b("PagesPlatformRequestDispatcher").register(this.onEventDispatched.bind(this)),h={dialogClass:null,dialogProps:null}}a.prototype.getState=function(){return h};a.prototype.onEventDispatched=function(a){__p&&__p();var c=a.type;a=a.data;switch(c){case b("PagesPlatformActionConstants").DIALOG_SHOWN:h.dialogClass=a.dialogClass;h.dialogProps=a.dialogProps;this.emit("change");break;case b("PagesPlatformActionConstants").DIALOG_CLOSED:h.dialogClass=null;h.dialogProps=null;this.emit("change");break}};e.exports=new a()}),null);
__d("PagesPlatformDialogContainer.react",["PagesPlatformDialogStore","PureStoreBasedStateMixin","React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"PagesPlatformDialogContainer",mixins:[b("PureStoreBasedStateMixin")(b("PagesPlatformDialogStore"))],statics:{calculateState:function(){return b("PagesPlatformDialogStore").getState()}},render:function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))}});e.exports=a}),null);
__d("PresenceOrderedList",["ChatSidebarPreloadStore","ChatSortUsers","PresencePrivacy","PresenceStatus"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a.map(function(a){var b=a.slice(0,-2);a=Number(a.slice(-1));return[b,a]})}function h(a,c){__p&&__p();var d=[];a.forEach(function(a){var e=a[0];a=a[1];if(d.length>=c)return;if(b("PresencePrivacy").getFriendVisibility(e)==b("PresencePrivacy").BLACKLISTED)return;a==b("PresenceStatus").get(e)&&d.push(e)});return d}function a(){"use strict";this.$1=null}a.prototype.getSorted=function(a,c){"use strict";if(this.$1){c(h(this.$1,a));return}b("ChatSidebarPreloadStore").onLoaded(function(b){b=b.buddies;this.$1=g(b);c(h(this.$1,a))}.bind(this))};a.prototype.getAvailableSorted=function(a){"use strict";var c=b("PresenceStatus").getOnlineIDs();a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};a.prototype.getAllSorted=function(a){"use strict";var c=[],d=this.$1||[];b("PresenceStatus").getAllIDs().concat(d.map(function(a){return a[0]})).forEach(function(a){return c.indexOf(a)===-1&&c.push(a)});a&&(c=c.filter(function(b){return a&&a.indexOf(b)===-1}));return c.sort(b("ChatSortUsers").sortAlphabetical)};e.exports=new a()}),null);
__d("ContextualLayerUpdateOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this._layer=a}a.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attachScrollListener.bind(this)),this._layer.subscribe("hide",this._removeScrollListener.bind(this))]};a.prototype.disable=function(){"use strict";while(this._subscriptions.length)this._subscriptions.pop().unsubscribe()};a.prototype._attachScrollListener=function(){"use strict";if(this._listener)return;var a=this._layer.getContextScrollParent();this._listener=b("Event").listen(a,"scroll",this._layer.updatePosition.bind(this._layer))};a.prototype._removeScrollListener=function(){"use strict";this._listener&&this._listener.remove(),this._listener=null};Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("LoadingDialogDimensions",[],(function(a,b,c,d,e,f){a=Object.freeze({HEIGHT:96,WIDTH:300});e.exports=a}),null);
__d("AsyncDialog",["cx","AsyncRequest","CSS","DialogX","DOM","Keys","LayerFadeOnShow","LoadingDialogDimensions","Parent","React","ReactDOM","URI","XUIDialogTitle.react","XUISpinner.react","emptyFunction","forEachObject"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;function j(a){__p&&__p();var c=b("LoadingDialogDimensions").WIDTH,d;a&&(c=parseInt(a.getAttribute("data-dialog-width"),10)||c,d=a.getAttribute("data-dialog-title")||d);if(!h){a=b("DOM").create("div",{className:"_57-x"});h=new(b("DialogX"))({width:c,addedBehaviors:[b("LayerFadeOnShow")],xui:!0},b("DOM").create("div",null,a));i=b("DOM").create("div");b("DOM").insertBefore(a,i);b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{size:"large"}),a);h.subscribe(["key","blur"],function(a,c){if(a=="blur"||a=="key"&&c.keyCode==b("Keys").ESC){n();return!1}})}d?b("ReactDOM").render(b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},d),i):b("DOM").empty(i);h.setWidth(c);return h}var k={},l=1,m=[];function n(){b("forEachObject")(k,function(a,b){a.abandon(),o(b)})}function o(a){delete k[a],Object.keys(k).length||j().hide()}function p(a,c){__p&&__p();var d=l++;m[d]=c;k[d]=a;var e=o.bind(null,""+d);Object.assign(a.getData(),{__asyncDialog:d});c=a.getRelativeTo();j(c).setCausalElement(c).show();var f=a.finallyHandler;a.setFinallyHandler(function(a){var c=a.getPayload();c&&c.asyncURL&&q.send(new(b("AsyncRequest"))(c.asyncURL));e();f&&f(a)});var g=a.abortHandler||b("emptyFunction"),h=a.interceptHandler||b("emptyFunction");a.setInterceptHandler(function(){try{h()}finally{e()}}).setAbortHandler(function(){try{g()}finally{e()}});a.send()}var q={send:function(a,c){p(a,c||b("emptyFunction"))},bootstrap:function(a,c,d){__p&&__p();if(!a)return;var e=b("Parent").byClass(c,"stat_elem")||c;if(e&&b("CSS").hasClass(e,"async_saving"))return!1;var f=new(b("URI"))(a).getQueryData();d=d==="dialog";a=new(b("AsyncRequest"))().setURI(a).setData(f).setMethod(d?"GET":"POST").setReadOnly(d).setStatusElement(e);c&&(a.setRelativeTo(c),a.setNectarModuleDataSafe(c));q.send(a)},respond:function(a,b){var c=m[a];c&&(c(b),delete m[a])},getLoadingDialog:function(){return j()}};e.exports=q}),null);
__d("Cache",["DateConsts","TimeSlice"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new Map()}a.prototype.has=function(a){return this.$1.has(a)};a.prototype.get=function(a,b){a=this.__getRaw(a);return!a?b:a.$2};a.prototype.getAll=function(a,b){var c=new Map();a.forEach(function(a){return c.set(a,this.get(a,b))}.bind(this));return c};a.prototype["delete"]=function(a){var b=this.__getRaw(a);b&&b.$3&&clearTimeout(b.$3);return this.$1["delete"](a)};a.prototype.clear=function(){this.$1.forEach(function(a){a&&a.$3&&clearTimeout(a.$3)}),this.$1.clear()};a.prototype.set=function(a,c,d,e){__p&&__p();if(!this.shouldUpdate(a,d))return!1;var f=this.__getRaw(a);f||(f=this.__getNewRawObject());delete f.$2;delete f.$4;f.$3&&clearTimeout(f.$3);delete f.$3;f.$2=c;d!=null&&(f.$4=d);e!=null&&e>=0&&(f.$3=setTimeout(b("TimeSlice").guard(this["delete"].bind(this,a),"Cache expiration timeout"),e*b("DateConsts").MS_PER_SEC*b("DateConsts").SEC_PER_MIN));this.__setRaw(a,f);return!0};a.prototype.shouldUpdate=function(a,b){a=this.__getRaw(a);return a==null||a.$4==null||b==null||b>a.$4};a.prototype.size=function(){return this.$1.size};a.prototype.__getRaw=function(a){return this.$1.get(a)};a.prototype.__setRaw=function(a,b){this.$1.set(a,b)};a.prototype.__getNewRawObject=function(){return{$2:null,$3:null,$4:null,$5:null,$6:null}};a.prototype.__keys=function(){return this.$1.keys()};e.exports=a}),null);
__d("arrayStableSort",[],(function(a,b,c,d,e,f){function a(a,b){return a.map(function(a,b){return{data:a,index:b}}).sort(function(a,c){return b(a.data,c.data)||a.index-c.index}).map(function(a){return a.data})}e.exports=a}),null);
__d("RangedCallbackManager",["CallbackManagerController","arrayStableSort","createObjectFrom"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){"use strict";this.$1=[],this.$2=!1,this.$3=!1,this.$4={},this.$5=new(b("CallbackManagerController"))(this.$6.bind(this)),this.$7=a,this.$8=c,this.$9=d}a.prototype.executeOrEnqueue=function(a,b,c,d,e){"use strict";return this.$5.executeOrEnqueue({start:a,limit:b},c,{strict:!!d,skipOnStrictHandler:e})};a.prototype.unsubscribe=function(a){"use strict";this.$5.unsubscribe(a)};a.prototype.getUnavailableResources=function(a){"use strict";__p&&__p();a=this.$5.getRequest(a);var b=[];if(a&&!this.$2){var c=a.request;a=this.$10(a.options);c=c.start+c.limit;for(var a=a.length;a<c;a++)b.push(a)}return b};a.prototype.addResources=function(a){"use strict";a.forEach(function(a){this.$4[a]||(this.$4[a]=!0,this.$1.push(a),this.$3=null)}.bind(this)),this.resortResources(),this.$5.runPossibleCallbacks()};a.prototype.addResourcesWithoutSorting=function(a,c){"use strict";var d=this.$1.slice(0,c);d=d.concat(a);d=d.concat(this.$1.slice(c));this.$1=d;Object.assign(this.$4,b("createObjectFrom")(a,!0));this.$3=null;this.$5.runPossibleCallbacks()};a.prototype.removeResources=function(a){"use strict";a.forEach(function(a){if(this.$4[a]){this.$4[a]=!1;a=this.$1.indexOf(a);a!=-1&&this.$1.splice(a,1)}}.bind(this))};a.prototype.removeAllResources=function(){"use strict";this.$1=[],this.$4={}};a.prototype.resortResources=function(){"use strict";this.$1=b("arrayStableSort")(this.$1,function(a,b){return this.$8(this.$7(a),this.$7(b))}.bind(this))};a.prototype.setReachedEndOfArray=function(){"use strict";this.$2||(this.$2=!0,this.$3=null,this.$5.runPossibleCallbacks())};a.prototype.hasReachedEndOfArray=function(){"use strict";return this.$2};a.prototype.forceRunCallbacks=function(){"use strict";this.$5.runPossibleCallbacks({force:!0})};a.prototype.setError=function(a){"use strict";this.$3!==a&&(this.$3=a,this.$5.runPossibleCallbacks())};a.prototype.getError=function(a,b,c){"use strict";c=this.$10({strict:c});return a+b>c.length?this.$3:null};a.prototype.hasResource=function(a){"use strict";return this.$4[a]};a.prototype.getResourceAtIndex=function(a){"use strict";return this.$1[a]};a.prototype.getAllResources=function(){"use strict";return this.$1.concat()};a.prototype.getCurrentArraySize=function(a){"use strict";return this.$10(a).length};a.prototype.$10=function(a){"use strict";var b=this.$1;if(a&&a.strict){a=a.skipOnStrictHandler||this.$9;a&&(b=b.filter(a))}return b};a.prototype.$6=function(a,b){"use strict";__p&&__p();var c=this.$10(b),d=a.start;a=a.start+a.limit;b=!!(b&&b.force);if(!b&&!this.$2&&!this.$3&&a>c.length)return!1;else{b=c.slice(d,a);d=a>c.length?this.$3:null;return[b,d]}};a.prototype.getElementsUntil=function(a){"use strict";var b=[];for(var c=0;c<this.$1.length;c++){var d=this.$7(this.$1[c]);if(this.$8(d,a)>0)break;b.push(this.$1[c])}return b};e.exports=a}),null);
__d("Network",["mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=!0,h=a.navigator.connection,i={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"};function c(){return g}function d(a){if(a==g)return;g=a;l.emit(a?"online":"offline")}function f(){return h?h.bandwidth:g?Infinity:0}function j(){return h?h.metered:!1}function k(){var a=h?String(h.type):"0";return i[a]||a}var l={getBandwidth:f,getType:k,isMetered:j,isOnline:c,setOnline:d};b("mixInEventEmitter")(l,{online:!0,offline:!0});l=l;a.addEventListener?(a.addEventListener("online",d.bind(null,!0)),a.addEventListener("offline",d.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",d.bind(null,!0)),a.attachEvent("offline",d.bind(null,!1)));e.exports=l}),null);
__d("AbstractCheckboxInput.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=b("React").createRef(),c}a.prototype.render=function(){"use strict";var a=this.props,c=a.className,d=a.useLabel,e=a["data-testid"];a=babelHelpers.objectWithoutPropertiesLoose(a,["className","useLabel","data-testid"]);return!d?b("React").createElement("input",babelHelpers["extends"]({},a,{"data-testid":e,className:c,ref:this.$1,type:"checkbox"})):b("React").createElement("label",{className:b("joinClasses")(c,"_kv1"),"data-testid":e},b("React").createElement("input",babelHelpers["extends"]({},a,{className:null,ref:this.$1,type:"checkbox"})),b("React").createElement("span",{className:"_66ul","data-hover":this.props.tooltip!=null?"tooltip":null,"data-tooltip-content":this.props.tooltip}))};a.prototype.focusInput=function(){"use strict";this.$1.current&&this.$1.current.focus()};a.prototype.blurInput=function(){"use strict";this.$1.current&&this.$1.current.blur()};a.prototype.setIndeterminate=function(){"use strict";this.$1.current&&(this.$1.current.indeterminate=!0)};a.prototype.isIndeterminate=function(){"use strict";return this.$1.current?this.$1.current.indeterminate:!1};a.defaultProps={useLabel:!0};e.exports=a}),null);
__d("objectValues",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.values(a)}e.exports=a}),null);
__d("FBPaymentsDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!1})}),null);
__d("FBPaymentsDialogActions",["FBPaymentsDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g={types:b("keyMirror")({SHOW_DIALOG:null,HIDE_DIALOG:null}),showDialog:function(a,c){b("FBPaymentsDispatcher").dispatch({type:g.types.SHOW_DIALOG,data:{dialogClass:a,dialogProps:c}})},hideDialog:function(){b("FBPaymentsDispatcher").dispatch({type:g.types.HIDE_DIALOG,data:{}})}};e.exports=g}),null);
__d("FBPaymentsDialogStore",["FBPaymentsDialogActions","FBPaymentsDispatcher","FluxStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(){g.constructor.call(this,b("FBPaymentsDispatcher")),this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null}}a.prototype.__onDispatch=function(a){var c=a.type;a=a.data;switch(c){case b("FBPaymentsDialogActions").types.SHOW_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:a.dialogClass,dialogProps:a.dialogProps};this.__emitChange();break;case b("FBPaymentsDialogActions").types.HIDE_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};this.__emitChange();break}};a.prototype.getState=function(){return this.$FBPaymentsDialogStore1};a.__moduleID=e.id;e.exports=new a()}),null);
__d("FBPaymentsDialogContainer.react",["FBPaymentsDialogStore","FBPaymentsDispatcher","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.calculateState=function(){return b("FBPaymentsDialogStore").getState()};a.getStores=function(){return[b("FBPaymentsDialogStore")]};a.prototype.UNSAFE_componentWillMount=function(){b("FBPaymentsDispatcher").explicitlyRegisterStore(b("FBPaymentsDialogStore"))};a.prototype.render=function(){if(!this.state.dialogClass)return null;var a=this.state.dialogClass;return b("React").createElement(a,babelHelpers["extends"]({},this.state.dialogProps,{key:"dialog"}))};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a)}),null);
__d("TypedFluxStore",["FluxStore"],(function(a,b,c,d,e,f){"use strict";e.exports=b("FluxStore")}),null);
__d("FluxReduceStore",["invariant","TypedFluxStore","abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("TypedFluxStore"));h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.$FluxReduceStore1=this.getInitialState()}a.prototype.getState=function(){return this.$FluxReduceStore1};a.prototype.getInitialState=function(){return b("abstractMethod")("FluxReduceStore","getInitialState")};a.prototype.reduce=function(a,c){return b("abstractMethod")("FluxReduceStore","reduce")};a.prototype.areEqual=function(a,b){return a===b};a.prototype.__invokeOnDispatch=function(a,b){b===void 0&&(b=!0);this.__changed=!1;var c=this.$FluxReduceStore1;a=this.reduce(c,a);a!==void 0||g(0,2189,this.constructor.name);this.areEqual(c,a)||(this.$FluxReduceStore1=a,this.__emitChange());b&&this.__inform()};a.prototype.__setState=function(a){this.$FluxReduceStore1=a};a.__moduleID=e.id;e.exports=a}),null);
__d("intlList",["fbt","invariant","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={AND:"AND",NONE:"NONE",OR:"OR"},j={COMMA:"COMMA",SEMICOLON:"SEMICOLON"};a=function(a,b,c){__p&&__p();b=b||i.AND;c=c||j.COMMA;var d=a.length;if(d===0)return"";else if(d===1)return a[0];var e=a[d-1],f=a[0];for(var h=1;h<d-1;++h)switch(c){case j.SEMICOLON:f=g._("{previous items}; {following items}",[g._param("previous items",f),g._param("following items",a[h])]);break;default:f=g._("{previous items}, {following items}",[g._param("previous items",f),g._param("following items",a[h])])}return k(f,e,b,c)};function k(a,b,c,d){switch(c){case i.AND:return g._("{list of items} and {last item}",[g._param("list of items",a),g._param("last item",b)]);case i.OR:return g._("{list of items} or {last item}",[g._param("list of items",a),g._param("last item",b)]);case i.NONE:switch(d){case j.SEMICOLON:return g._("{previous items}; {last item}",[g._param("previous items",a),g._param("last item",b)]);default:return g._("{list of items}, {last item}",[g._param("list of items",a),g._param("last item",b)])}default:h(0,568,c)}}a.DELIMITERS=j;a.CONJUNCTIONS=i;e.exports=a}),null);
__d("WorkSyncedGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NEW_GROUP_BUTTON_ON_MECURY_JEWEL:"new_group_button_on_mercury_jewel",GROUP_CREATION_ICON_ON_CHAT_SIDEBAR:"group_creation_icon_on_chat_sidebar",GROUP_CREATION_BUTTON_ON_CHAT_SIDEBAR:"group_creation_button_on_chat_sidebar",COMPOSE_BUTTON_ON_WORKCHAT:"compose_button_on_workchat"})}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CSSCore")}),null);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}})}),null);
__d("WebGraphQLMutationBase",["invariant","CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=0;function a(a){this.$1=a}a.prototype.__getVariables=function(){return this.$1};a.prototype.__getDocID=function(){return this.constructor.__getDocID()};a.__getController=function(){return b("XWebGraphQLMutationController")};a.__getDocID=function(){g(0,1804)};a.getURI=function(a){return b("WebGraphQLLegacyHelper").getURI({controller:this.__getController(),docID:this.__getDocID(),variables:{data:babelHelpers["extends"]({client_mutation_id:b("base62")(h++),actor_id:b("CurrentUser").getID()},a)}})};e.exports=a}),null);
__d("crc32",[],(function(a,b,c,d,e,f){function b(a){var b=-1;for(var c=0,d=a.length;c<d;c++)b=b>>>8^g[(b^a.charCodeAt(c))&255];return~b}var g=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];a.Int32Array!==void 0&&(g=new Int32Array(g));e.exports=b}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/qp/action/log/",{qp_id:{type:"Int",required:!0},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}})}),null);
__d("XWorkSaveGroupPurposeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/group_creation/dialog/save_purpose/",{purpose:{type:"String",required:!0},ref:{type:"String",required:!0},name:{type:"String"},community:{type:"FBID"},coworkers_to_invite:{type:"IntVector",defaultValue:[]},back_disallowed:{type:"Bool",defaultValue:!1}})}),null);